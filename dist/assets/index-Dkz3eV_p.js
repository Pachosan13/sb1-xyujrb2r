var VP=Object.defineProperty;var GP=(t,e,n)=>e in t?VP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var je=(t,e,n)=>GP(t,typeof e!="symbol"?e+"":e,n);function YP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var wS={exports:{}},rm={},bS={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),KP=Symbol.for("react.portal"),JP=Symbol.for("react.fragment"),XP=Symbol.for("react.strict_mode"),QP=Symbol.for("react.profiler"),ZP=Symbol.for("react.provider"),eN=Symbol.for("react.context"),tN=Symbol.for("react.forward_ref"),nN=Symbol.for("react.suspense"),rN=Symbol.for("react.memo"),iN=Symbol.for("react.lazy"),yw=Symbol.iterator;function sN(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var xS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_S=Object.assign,SS={};function lu(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||xS}lu.prototype.isReactComponent={};lu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kS(){}kS.prototype=lu.prototype;function I2(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||xS}var R2=I2.prototype=new kS;R2.constructor=I2;_S(R2,lu.prototype);R2.isPureReactComponent=!0;var ww=Array.isArray,AS=Object.prototype.hasOwnProperty,M2={current:null},PS={key:!0,ref:!0,__self:!0,__source:!0};function NS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)AS.call(e,r)&&!PS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zd,type:t,key:s,ref:o,props:i,_owner:M2.current}}function oN(t,e){return{$$typeof:zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function F2(t){return typeof t=="object"&&t!==null&&t.$$typeof===zd}function aN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bw=/\/+/g;function A0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aN(""+t.key):e.toString(36)}function Hp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zd:case KP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+A0(o,0):r,ww(i)?(n="",t!=null&&(n=t.replace(bw,"$&/")+"/"),Hp(i,e,n,"",function(c){return c})):i!=null&&(F2(i)&&(i=oN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ww(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+A0(s,a);o+=Hp(s,e,n,l,i)}else if(l=sN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+A0(s,a++),o+=Hp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jf(t,e,n){if(t==null)return t;var r=[],i=0;return Hp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yr={current:null},Wp={transition:null},cN={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:Wp,ReactCurrentOwner:M2};function CS(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:Jf,forEach:function(t,e,n){Jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jf(t,function(){e++}),e},toArray:function(t){return Jf(t,function(e){return e})||[]},only:function(t){if(!F2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=lu;ut.Fragment=JP;ut.Profiler=QP;ut.PureComponent=I2;ut.StrictMode=XP;ut.Suspense=nN;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cN;ut.act=CS;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_S({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=M2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)AS.call(e,l)&&!PS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zd,type:t.type,key:i,ref:s,props:r,_owner:o}};ut.createContext=function(t){return t={$$typeof:eN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZP,_context:t},t.Consumer=t};ut.createElement=NS;ut.createFactory=function(t){var e=NS.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:tN,render:t}};ut.isValidElement=F2;ut.lazy=function(t){return{$$typeof:iN,_payload:{_status:-1,_result:t},_init:lN}};ut.memo=function(t,e){return{$$typeof:rN,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=Wp.transition;Wp.transition={};try{t()}finally{Wp.transition=e}};ut.unstable_act=CS;ut.useCallback=function(t,e){return yr.current.useCallback(t,e)};ut.useContext=function(t){return yr.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return yr.current.useDeferredValue(t)};ut.useEffect=function(t,e){return yr.current.useEffect(t,e)};ut.useId=function(){return yr.current.useId()};ut.useImperativeHandle=function(t,e,n){return yr.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return yr.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return yr.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return yr.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return yr.current.useReducer(t,e,n)};ut.useRef=function(t){return yr.current.useRef(t)};ut.useState=function(t){return yr.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return yr.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return yr.current.useTransition()};ut.version="18.3.1";bS.exports=ut;var X=bS.exports;const Wt=T2(X),B1=YP({__proto__:null,default:Wt},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN=X,hN=Symbol.for("react.element"),dN=Symbol.for("react.fragment"),fN=Object.prototype.hasOwnProperty,pN=uN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gN={key:!0,ref:!0,__self:!0,__source:!0};function ES(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fN.call(e,r)&&!gN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hN,type:t,key:s,ref:o,props:i,_owner:pN.current}}rm.Fragment=dN;rm.jsx=ES;rm.jsxs=ES;wS.exports=rm;var P=wS.exports,$1={},LS={exports:{}},ti={},jS={exports:{}},OS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,M){var V=Y.length;Y.push(M);e:for(;0<V;){var ne=V-1>>>1,j=Y[ne];if(0<i(j,M))Y[ne]=M,Y[V]=j,V=ne;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var M=Y[0],V=Y.pop();if(V!==M){Y[0]=V;e:for(var ne=0,j=Y.length,D=j>>>1;ne<D;){var G=2*(ne+1)-1,Z=Y[G],ee=G+1,ce=Y[ee];if(0>i(Z,V))ee<j&&0>i(ce,Z)?(Y[ne]=ce,Y[ee]=V,ne=ee):(Y[ne]=Z,Y[G]=V,ne=G);else if(ee<j&&0>i(ce,V))Y[ne]=ce,Y[ee]=V,ne=ee;else break e}}return M}function i(Y,M){var V=Y.sortIndex-M.sortIndex;return V!==0?V:Y.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,f=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=Y)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function k(Y){if(v=!1,_(Y),!m)if(n(l)!==null)m=!0,J(N);else{var M=n(c);M!==null&&K(k,M.startTime-Y)}}function N(Y,M){m=!1,v&&(v=!1,y(L),L=-1),f=!0;var V=p;try{for(_(M),h=n(l);h!==null&&(!(h.expirationTime>M)||Y&&!C());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var j=ne(h.expirationTime<=M);M=t.unstable_now(),typeof j=="function"?h.callback=j:h===n(l)&&r(l),_(M)}else r(l);h=n(l)}if(h!==null)var D=!0;else{var G=n(c);G!==null&&K(k,G.startTime-M),D=!1}return D}finally{h=null,p=V,f=!1}}var T=!1,E=null,L=-1,F=5,z=-1;function C(){return!(t.unstable_now()-z<F)}function O(){if(E!==null){var Y=t.unstable_now();z=Y;var M=!0;try{M=E(!0,Y)}finally{M?H():(T=!1,E=null)}}else T=!1}var H;if(typeof w=="function")H=function(){w(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=O,H=function(){ie.postMessage(null)}}else H=function(){x(O,0)};function J(Y){E=Y,T||(T=!0,H())}function K(Y,M){L=x(function(){Y(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,J(N))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var V=p;p=M;try{return Y()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,M){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var V=p;p=Y;try{return M()}finally{p=V}},t.unstable_scheduleCallback=function(Y,M,V){var ne=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,Y){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,Y={id:u++,callback:M,priorityLevel:Y,startTime:V,expirationTime:j,sortIndex:-1},V>ne?(Y.sortIndex=V,e(c,Y),n(l)===null&&Y===n(c)&&(v?(y(L),L=-1):v=!0,K(k,V-ne))):(Y.sortIndex=j,e(l,Y),m||f||(m=!0,J(N))),Y},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(Y){var M=p;return function(){var V=p;p=M;try{return Y.apply(this,arguments)}finally{p=V}}}})(OS);jS.exports=OS;var mN=jS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN=X,Zr=mN;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TS=new Set,id={};function bl(t,e){Vc(t,e),Vc(t+"Capture",e)}function Vc(t,e){for(id[t]=e,t=0;t<e.length;t++)TS.add(e[t])}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z1=Object.prototype.hasOwnProperty,yN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xw={},_w={};function wN(t){return z1.call(_w,t)?!0:z1.call(xw,t)?!1:yN.test(t)?_w[t]=!0:(xw[t]=!0,!1)}function bN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xN(t,e,n,r){if(e===null||typeof e>"u"||bN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var D2=/[\-:]([a-z])/g;function B2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(D2,B2);Gn[e]=new wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(D2,B2);Gn[e]=new wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(D2,B2);Gn[e]=new wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new wr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function $2(t,e,n,r){var i=Gn.hasOwnProperty(e)?Gn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xN(e,n,i,r)&&(n=null),r||i===null?wN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var uo=vN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xf=Symbol.for("react.element"),wc=Symbol.for("react.portal"),bc=Symbol.for("react.fragment"),z2=Symbol.for("react.strict_mode"),U1=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),RS=Symbol.for("react.context"),U2=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),W1=Symbol.for("react.suspense_list"),H2=Symbol.for("react.memo"),Io=Symbol.for("react.lazy"),MS=Symbol.for("react.offscreen"),Sw=Symbol.iterator;function Xu(t){return t===null||typeof t!="object"?null:(t=Sw&&t[Sw]||t["@@iterator"],typeof t=="function"?t:null)}var tn=Object.assign,P0;function mh(t){if(P0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);P0=e&&e[1]||""}return`
`+P0+t}var N0=!1;function C0(t,e){if(!t||N0)return"";N0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{N0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mh(t):""}function _N(t){switch(t.tag){case 5:return mh(t.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return t=C0(t.type,!1),t;case 11:return t=C0(t.type.render,!1),t;case 1:return t=C0(t.type,!0),t;default:return""}}function q1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bc:return"Fragment";case wc:return"Portal";case U1:return"Profiler";case z2:return"StrictMode";case H1:return"Suspense";case W1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RS:return(t.displayName||"Context")+".Consumer";case IS:return(t._context.displayName||"Context")+".Provider";case U2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H2:return e=t.displayName||null,e!==null?e:q1(t.type)||"Memo";case Io:e=t._payload,t=t._init;try{return q1(t(e))}catch{}}return null}function SN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q1(e);case 8:return e===z2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kN(t){var e=FS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qf(t){t._valueTracker||(t._valueTracker=kN(t))}function DS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function V1(t,e){var n=e.checked;return tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BS(t,e){e=e.checked,e!=null&&$2(t,"checked",e,!1)}function G1(t,e){BS(t,e);var n=sa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y1(t,e.type,n):e.hasOwnProperty("defaultValue")&&Y1(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Aw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Y1(t,e,n){(e!=="number"||fg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vh=Array.isArray;function Oc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function K1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(vh(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sa(n)}}function $S(t,e){var n=sa(e.value),r=sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zf,US=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zf=Zf||document.createElement("div"),Zf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AN=["Webkit","ms","Moz","O"];Object.keys(Ih).forEach(function(t){AN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ih[e]=Ih[t]})});function HS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ih.hasOwnProperty(t)&&Ih[t]?(""+e).trim():e+"px"}function WS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PN=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function X1(t,e){if(e){if(PN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function Q1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z1=null;function W2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ev=null,Tc=null,Ic=null;function Cw(t){if(t=Wd(t)){if(typeof ev!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=lm(e),ev(t.stateNode,t.type,e))}}function qS(t){Tc?Ic?Ic.push(t):Ic=[t]:Tc=t}function VS(){if(Tc){var t=Tc,e=Ic;if(Ic=Tc=null,Cw(t),e)for(t=0;t<e.length;t++)Cw(e[t])}}function GS(t,e){return t(e)}function YS(){}var E0=!1;function KS(t,e,n){if(E0)return t(e,n);E0=!0;try{return GS(t,e,n)}finally{E0=!1,(Tc!==null||Ic!==null)&&(YS(),VS())}}function od(t,e){var n=t.stateNode;if(n===null)return null;var r=lm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var tv=!1;if(so)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){tv=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{tv=!1}function NN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Rh=!1,pg=null,gg=!1,nv=null,CN={onError:function(t){Rh=!0,pg=t}};function EN(t,e,n,r,i,s,o,a,l){Rh=!1,pg=null,NN.apply(CN,arguments)}function LN(t,e,n,r,i,s,o,a,l){if(EN.apply(this,arguments),Rh){if(Rh){var c=pg;Rh=!1,pg=null}else throw Error(Ne(198));gg||(gg=!0,nv=c)}}function xl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ew(t){if(xl(t)!==t)throw Error(Ne(188))}function jN(t){var e=t.alternate;if(!e){if(e=xl(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ew(i),t;if(s===r)return Ew(i),e;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function XS(t){return t=jN(t),t!==null?QS(t):null}function QS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QS(t);if(e!==null)return e;t=t.sibling}return null}var ZS=Zr.unstable_scheduleCallback,Lw=Zr.unstable_cancelCallback,ON=Zr.unstable_shouldYield,TN=Zr.unstable_requestPaint,pn=Zr.unstable_now,IN=Zr.unstable_getCurrentPriorityLevel,q2=Zr.unstable_ImmediatePriority,e3=Zr.unstable_UserBlockingPriority,mg=Zr.unstable_NormalPriority,RN=Zr.unstable_LowPriority,t3=Zr.unstable_IdlePriority,im=null,Ns=null;function MN(t){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:BN,FN=Math.log,DN=Math.LN2;function BN(t){return t>>>=0,t===0?32:31-(FN(t)/DN|0)|0}var ep=64,tp=4194304;function yh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yh(a):(s&=o,s!==0&&(r=yh(s)))}else o=n&~i,o!==0?r=yh(o):s!==0&&(r=yh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yi(e),i=1<<n,r|=t[n],e&=~i;return r}function $N(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=$N(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n3(){var t=ep;return ep<<=1,!(ep&4194240)&&(ep=64),t}function L0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ud(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yi(e),t[e]=n}function UN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function V2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Et=0;function r3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i3,G2,s3,o3,a3,iv=!1,np=[],Yo=null,Ko=null,Jo=null,ad=new Map,ld=new Map,Fo=[],HN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(t,e){switch(t){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(e.pointerId)}}function Zu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wd(e),e!==null&&G2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WN(t,e,n,r,i){switch(e){case"focusin":return Yo=Zu(Yo,t,e,n,r,i),!0;case"dragenter":return Ko=Zu(Ko,t,e,n,r,i),!0;case"mouseover":return Jo=Zu(Jo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ad.set(s,Zu(ad.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ld.set(s,Zu(ld.get(s)||null,t,e,n,r,i)),!0}return!1}function l3(t){var e=Ya(t.target);if(e!==null){var n=xl(e);if(n!==null){if(e=n.tag,e===13){if(e=JS(n),e!==null){t.blockedOn=e,a3(t.priority,function(){s3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Z1=r,n.target.dispatchEvent(r),Z1=null}else return e=Wd(n),e!==null&&G2(e),t.blockedOn=n,!1;e.shift()}return!0}function Ow(t,e,n){qp(t)&&n.delete(e)}function qN(){iv=!1,Yo!==null&&qp(Yo)&&(Yo=null),Ko!==null&&qp(Ko)&&(Ko=null),Jo!==null&&qp(Jo)&&(Jo=null),ad.forEach(Ow),ld.forEach(Ow)}function eh(t,e){t.blockedOn===e&&(t.blockedOn=null,iv||(iv=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,qN)))}function cd(t){function e(i){return eh(i,t)}if(0<np.length){eh(np[0],t);for(var n=1;n<np.length;n++){var r=np[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yo!==null&&eh(Yo,t),Ko!==null&&eh(Ko,t),Jo!==null&&eh(Jo,t),ad.forEach(e),ld.forEach(e),n=0;n<Fo.length;n++)r=Fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fo.length&&(n=Fo[0],n.blockedOn===null);)l3(n),n.blockedOn===null&&Fo.shift()}var Rc=uo.ReactCurrentBatchConfig,yg=!0;function VN(t,e,n,r){var i=Et,s=Rc.transition;Rc.transition=null;try{Et=1,Y2(t,e,n,r)}finally{Et=i,Rc.transition=s}}function GN(t,e,n,r){var i=Et,s=Rc.transition;Rc.transition=null;try{Et=4,Y2(t,e,n,r)}finally{Et=i,Rc.transition=s}}function Y2(t,e,n,r){if(yg){var i=sv(t,e,n,r);if(i===null)$0(t,e,r,wg,n),jw(t,r);else if(WN(i,t,e,n,r))r.stopPropagation();else if(jw(t,r),e&4&&-1<HN.indexOf(t)){for(;i!==null;){var s=Wd(i);if(s!==null&&i3(s),s=sv(t,e,n,r),s===null&&$0(t,e,r,wg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $0(t,e,r,null,n)}}var wg=null;function sv(t,e,n,r){if(wg=null,t=W2(r),t=Ya(t),t!==null)if(e=xl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wg=t,null}function c3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IN()){case q2:return 1;case e3:return 4;case mg:case RN:return 16;case t3:return 536870912;default:return 16}default:return 16}}var zo=null,K2=null,Vp=null;function u3(){if(Vp)return Vp;var t,e=K2,n=e.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vp=i.slice(t,1<r?1-r:void 0)}function Gp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rp(){return!0}function Tw(){return!1}function ni(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rp:Tw,this.isPropagationStopped=Tw,this}return tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rp)},persist:function(){},isPersistent:rp}),e}var cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J2=ni(cu),Hd=tn({},cu,{view:0,detail:0}),YN=ni(Hd),j0,O0,th,sm=tn({},Hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==th&&(th&&t.type==="mousemove"?(j0=t.screenX-th.screenX,O0=t.screenY-th.screenY):O0=j0=0,th=t),j0)},movementY:function(t){return"movementY"in t?t.movementY:O0}}),Iw=ni(sm),KN=tn({},sm,{dataTransfer:0}),JN=ni(KN),XN=tn({},Hd,{relatedTarget:0}),T0=ni(XN),QN=tn({},cu,{animationName:0,elapsedTime:0,pseudoElement:0}),ZN=ni(QN),eC=tn({},cu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tC=ni(eC),nC=tn({},cu,{data:0}),Rw=ni(nC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sC[t])?!!e[t]:!1}function X2(){return oC}var aC=tn({},Hd,{key:function(t){if(t.key){var e=rC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X2,charCode:function(t){return t.type==="keypress"?Gp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lC=ni(aC),cC=tn({},sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mw=ni(cC),uC=tn({},Hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X2}),hC=ni(uC),dC=tn({},cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=ni(dC),pC=tn({},sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gC=ni(pC),mC=[9,13,27,32],Q2=so&&"CompositionEvent"in window,Mh=null;so&&"documentMode"in document&&(Mh=document.documentMode);var vC=so&&"TextEvent"in window&&!Mh,h3=so&&(!Q2||Mh&&8<Mh&&11>=Mh),Fw=" ",Dw=!1;function d3(t,e){switch(t){case"keyup":return mC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xc=!1;function yC(t,e){switch(t){case"compositionend":return f3(e);case"keypress":return e.which!==32?null:(Dw=!0,Fw);case"textInput":return t=e.data,t===Fw&&Dw?null:t;default:return null}}function wC(t,e){if(xc)return t==="compositionend"||!Q2&&d3(t,e)?(t=u3(),Vp=K2=zo=null,xc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h3&&e.locale!=="ko"?null:e.data;default:return null}}var bC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bC[t.type]:e==="textarea"}function p3(t,e,n,r){qS(r),e=bg(e,"onChange"),0<e.length&&(n=new J2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fh=null,ud=null;function xC(t){A3(t,0)}function om(t){var e=kc(t);if(DS(e))return t}function _C(t,e){if(t==="change")return e}var g3=!1;if(so){var I0;if(so){var R0="oninput"in document;if(!R0){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),R0=typeof $w.oninput=="function"}I0=R0}else I0=!1;g3=I0&&(!document.documentMode||9<document.documentMode)}function zw(){Fh&&(Fh.detachEvent("onpropertychange",m3),ud=Fh=null)}function m3(t){if(t.propertyName==="value"&&om(ud)){var e=[];p3(e,ud,t,W2(t)),KS(xC,e)}}function SC(t,e,n){t==="focusin"?(zw(),Fh=e,ud=n,Fh.attachEvent("onpropertychange",m3)):t==="focusout"&&zw()}function kC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(ud)}function AC(t,e){if(t==="click")return om(e)}function PC(t,e){if(t==="input"||t==="change")return om(e)}function NC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ji=typeof Object.is=="function"?Object.is:NC;function hd(t,e){if(Ji(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!z1.call(e,i)||!Ji(t[i],e[i]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hw(t,e){var n=Uw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function v3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y3(){for(var t=window,e=fg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fg(t.document)}return e}function Z2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CC(t){var e=y3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v3(n.ownerDocument.documentElement,n)){if(r!==null&&Z2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hw(n,s);var o=Hw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EC=so&&"documentMode"in document&&11>=document.documentMode,_c=null,ov=null,Dh=null,av=!1;function Ww(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;av||_c==null||_c!==fg(r)||(r=_c,"selectionStart"in r&&Z2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dh&&hd(Dh,r)||(Dh=r,r=bg(ov,"onSelect"),0<r.length&&(e=new J2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_c)))}function ip(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sc={animationend:ip("Animation","AnimationEnd"),animationiteration:ip("Animation","AnimationIteration"),animationstart:ip("Animation","AnimationStart"),transitionend:ip("Transition","TransitionEnd")},M0={},w3={};so&&(w3=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function am(t){if(M0[t])return M0[t];if(!Sc[t])return t;var e=Sc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w3)return M0[t]=e[n];return t}var b3=am("animationend"),x3=am("animationiteration"),_3=am("animationstart"),S3=am("transitionend"),k3=new Map,qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(t,e){k3.set(t,e),bl(e,[t])}for(var F0=0;F0<qw.length;F0++){var D0=qw[F0],LC=D0.toLowerCase(),jC=D0[0].toUpperCase()+D0.slice(1);ua(LC,"on"+jC)}ua(b3,"onAnimationEnd");ua(x3,"onAnimationIteration");ua(_3,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(S3,"onTransitionEnd");Vc("onMouseEnter",["mouseout","mouseover"]);Vc("onMouseLeave",["mouseout","mouseover"]);Vc("onPointerEnter",["pointerout","pointerover"]);Vc("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OC=new Set("cancel close invalid load scroll toggle".split(" ").concat(wh));function Vw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LN(r,e,void 0,t),t.currentTarget=null}function A3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Vw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Vw(i,a,c),s=l}}}if(gg)throw t=nv,gg=!1,nv=null,t}function qt(t,e){var n=e[dv];n===void 0&&(n=e[dv]=new Set);var r=t+"__bubble";n.has(r)||(P3(e,t,2,!1),n.add(r))}function B0(t,e,n){var r=0;e&&(r|=4),P3(n,t,r,e)}var sp="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[sp]){t[sp]=!0,TS.forEach(function(n){n!=="selectionchange"&&(OC.has(n)||B0(n,!1,t),B0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sp]||(e[sp]=!0,B0("selectionchange",!1,e))}}function P3(t,e,n,r){switch(c3(e)){case 1:var i=VN;break;case 4:i=GN;break;default:i=Y2}n=i.bind(null,e,n,t),i=void 0,!tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ya(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KS(function(){var c=s,u=W2(n),h=[];e:{var p=k3.get(t);if(p!==void 0){var f=J2,m=t;switch(t){case"keypress":if(Gp(n)===0)break e;case"keydown":case"keyup":f=lC;break;case"focusin":m="focus",f=T0;break;case"focusout":m="blur",f=T0;break;case"beforeblur":case"afterblur":f=T0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=JN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=hC;break;case b3:case x3:case _3:f=ZN;break;case S3:f=fC;break;case"scroll":f=YN;break;case"wheel":f=gC;break;case"copy":case"cut":case"paste":f=tC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Mw}var v=(e&4)!==0,x=!v&&t==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var w=c,_;w!==null;){_=w;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,y!==null&&(k=od(w,y),k!=null&&v.push(fd(w,k,_)))),x)break;w=w.return}0<v.length&&(p=new f(p,m,null,n,u),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&n!==Z1&&(m=n.relatedTarget||n.fromElement)&&(Ya(m)||m[oo]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?Ya(m):null,m!==null&&(x=xl(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(v=Iw,k="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=Mw,k="onPointerLeave",y="onPointerEnter",w="pointer"),x=f==null?p:kc(f),_=m==null?p:kc(m),p=new v(k,w+"leave",f,n,u),p.target=x,p.relatedTarget=_,k=null,Ya(u)===c&&(v=new v(y,w+"enter",m,n,u),v.target=_,v.relatedTarget=x,k=v),x=k,f&&m)t:{for(v=f,y=m,w=0,_=v;_;_=ic(_))w++;for(_=0,k=y;k;k=ic(k))_++;for(;0<w-_;)v=ic(v),w--;for(;0<_-w;)y=ic(y),_--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=ic(v),y=ic(y)}v=null}else v=null;f!==null&&Gw(h,p,f,v,!1),m!==null&&x!==null&&Gw(h,x,m,v,!0)}}e:{if(p=c?kc(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=_C;else if(Bw(p))if(g3)N=PC;else{N=kC;var T=SC}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=AC);if(N&&(N=N(t,c))){p3(h,N,n,u);break e}T&&T(t,p,c),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Y1(p,"number",p.value)}switch(T=c?kc(c):window,t){case"focusin":(Bw(T)||T.contentEditable==="true")&&(_c=T,ov=c,Dh=null);break;case"focusout":Dh=ov=_c=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,Ww(h,n,u);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":Ww(h,n,u)}var E;if(Q2)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else xc?d3(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(h3&&n.locale!=="ko"&&(xc||L!=="onCompositionStart"?L==="onCompositionEnd"&&xc&&(E=u3()):(zo=u,K2="value"in zo?zo.value:zo.textContent,xc=!0)),T=bg(c,L),0<T.length&&(L=new Rw(L,t,null,n,u),h.push({event:L,listeners:T}),E?L.data=E:(E=f3(n),E!==null&&(L.data=E)))),(E=vC?yC(t,n):wC(t,n))&&(c=bg(c,"onBeforeInput"),0<c.length&&(u=new Rw("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=E))}A3(h,e)})}function fd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=od(t,n),s!=null&&r.unshift(fd(t,s,i)),s=od(t,e),s!=null&&r.push(fd(t,s,i))),t=t.return}return r}function ic(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=od(n,s),l!=null&&o.unshift(fd(n,l,a))):i||(l=od(n,s),l!=null&&o.push(fd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function Yw(t){return(typeof t=="string"?t:""+t).replace(TC,`
`).replace(IC,"")}function op(t,e,n){if(e=Yw(e),Yw(t)!==e&&n)throw Error(Ne(425))}function xg(){}var lv=null,cv=null;function uv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hv=typeof setTimeout=="function"?setTimeout:void 0,RC=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,MC=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(t){return Kw.resolve(null).then(t).catch(FC)}:hv;function FC(t){setTimeout(function(){throw t})}function z0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cd(e)}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uu=Math.random().toString(36).slice(2),Ss="__reactFiber$"+uu,pd="__reactProps$"+uu,oo="__reactContainer$"+uu,dv="__reactEvents$"+uu,DC="__reactListeners$"+uu,BC="__reactHandles$"+uu;function Ya(t){var e=t[Ss];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oo]||n[Ss]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jw(t);t!==null;){if(n=t[Ss])return n;t=Jw(t)}return e}t=n,n=t.parentNode}return null}function Wd(t){return t=t[Ss]||t[oo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function lm(t){return t[pd]||null}var fv=[],Ac=-1;function ha(t){return{current:t}}function Yt(t){0>Ac||(t.current=fv[Ac],fv[Ac]=null,Ac--)}function Ut(t,e){Ac++,fv[Ac]=t.current,t.current=e}var oa={},hr=ha(oa),Ir=ha(!1),hl=oa;function Gc(t,e){var n=t.type.contextTypes;if(!n)return oa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(t){return t=t.childContextTypes,t!=null}function _g(){Yt(Ir),Yt(hr)}function Xw(t,e,n){if(hr.current!==oa)throw Error(Ne(168));Ut(hr,e),Ut(Ir,n)}function N3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,SN(t)||"Unknown",i));return tn({},n,r)}function Sg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oa,hl=hr.current,Ut(hr,t),Ut(Ir,Ir.current),!0}function Qw(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=N3(t,e,hl),r.__reactInternalMemoizedMergedChildContext=t,Yt(Ir),Yt(hr),Ut(hr,t)):Yt(Ir),Ut(Ir,n)}var Qs=null,cm=!1,U0=!1;function C3(t){Qs===null?Qs=[t]:Qs.push(t)}function $C(t){cm=!0,C3(t)}function da(){if(!U0&&Qs!==null){U0=!0;var t=0,e=Et;try{var n=Qs;for(Et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,cm=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),ZS(q2,da),i}finally{Et=e,U0=!1}}return null}var Pc=[],Nc=0,kg=null,Ag=0,fi=[],pi=0,dl=null,eo=1,to="";function Ta(t,e){Pc[Nc++]=Ag,Pc[Nc++]=kg,kg=t,Ag=e}function E3(t,e,n){fi[pi++]=eo,fi[pi++]=to,fi[pi++]=dl,dl=t;var r=eo;t=to;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var s=32-Yi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,eo=1<<32-Yi(e)+i|n<<i|r,to=s+t}else eo=1<<s|n<<i|r,to=t}function ey(t){t.return!==null&&(Ta(t,1),E3(t,1,0))}function ty(t){for(;t===kg;)kg=Pc[--Nc],Pc[Nc]=null,Ag=Pc[--Nc],Pc[Nc]=null;for(;t===dl;)dl=fi[--pi],fi[pi]=null,to=fi[--pi],fi[pi]=null,eo=fi[--pi],fi[pi]=null}var Qr=null,Jr=null,Jt=!1,Wi=null;function L3(t,e){var n=gi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qr=t,Jr=Xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qr=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dl!==null?{id:eo,overflow:to}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qr=t,Jr=null,!0):!1;default:return!1}}function pv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gv(t){if(Jt){var e=Jr;if(e){var n=e;if(!Zw(t,e)){if(pv(t))throw Error(Ne(418));e=Xo(n.nextSibling);var r=Qr;e&&Zw(t,e)?L3(r,n):(t.flags=t.flags&-4097|2,Jt=!1,Qr=t)}}else{if(pv(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,Jt=!1,Qr=t}}}function eb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qr=t}function ap(t){if(t!==Qr)return!1;if(!Jt)return eb(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uv(t.type,t.memoizedProps)),e&&(e=Jr)){if(pv(t))throw j3(),Error(Ne(418));for(;e;)L3(t,e),e=Xo(e.nextSibling)}if(eb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jr=Xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=Qr?Xo(t.stateNode.nextSibling):null;return!0}function j3(){for(var t=Jr;t;)t=Xo(t.nextSibling)}function Yc(){Jr=Qr=null,Jt=!1}function ny(t){Wi===null?Wi=[t]:Wi.push(t)}var zC=uo.ReactCurrentBatchConfig;function nh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function lp(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tb(t){var e=t._init;return e(t._payload)}function O3(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=ta(y,w),y.index=0,y.sibling=null,y}function s(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,_,k){return w===null||w.tag!==6?(w=K0(_,y.mode,k),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,k){var N=_.type;return N===bc?u(y,w,_.props.children,k,_.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Io&&tb(N)===w.type)?(k=i(w,_.props),k.ref=nh(y,w,_),k.return=y,k):(k=eg(_.type,_.key,_.props,null,y.mode,k),k.ref=nh(y,w,_),k.return=y,k)}function c(y,w,_,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=J0(_,y.mode,k),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function u(y,w,_,k,N){return w===null||w.tag!==7?(w=rl(_,y.mode,k,N),w.return=y,w):(w=i(w,_),w.return=y,w)}function h(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=K0(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xf:return _=eg(w.type,w.key,w.props,null,y.mode,_),_.ref=nh(y,null,w),_.return=y,_;case wc:return w=J0(w,y.mode,_),w.return=y,w;case Io:var k=w._init;return h(y,k(w._payload),_)}if(vh(w)||Xu(w))return w=rl(w,y.mode,_,null),w.return=y,w;lp(y,w)}return null}function p(y,w,_,k){var N=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:a(y,w,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xf:return _.key===N?l(y,w,_,k):null;case wc:return _.key===N?c(y,w,_,k):null;case Io:return N=_._init,p(y,w,N(_._payload),k)}if(vh(_)||Xu(_))return N!==null?null:u(y,w,_,k,null);lp(y,_)}return null}function f(y,w,_,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(_)||null,a(w,y,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xf:return y=y.get(k.key===null?_:k.key)||null,l(w,y,k,N);case wc:return y=y.get(k.key===null?_:k.key)||null,c(w,y,k,N);case Io:var T=k._init;return f(y,w,_,T(k._payload),N)}if(vh(k)||Xu(k))return y=y.get(_)||null,u(w,y,k,N,null);lp(w,k)}return null}function m(y,w,_,k){for(var N=null,T=null,E=w,L=w=0,F=null;E!==null&&L<_.length;L++){E.index>L?(F=E,E=null):F=E.sibling;var z=p(y,E,_[L],k);if(z===null){E===null&&(E=F);break}t&&E&&z.alternate===null&&e(y,E),w=s(z,w,L),T===null?N=z:T.sibling=z,T=z,E=F}if(L===_.length)return n(y,E),Jt&&Ta(y,L),N;if(E===null){for(;L<_.length;L++)E=h(y,_[L],k),E!==null&&(w=s(E,w,L),T===null?N=E:T.sibling=E,T=E);return Jt&&Ta(y,L),N}for(E=r(y,E);L<_.length;L++)F=f(E,y,L,_[L],k),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?L:F.key),w=s(F,w,L),T===null?N=F:T.sibling=F,T=F);return t&&E.forEach(function(C){return e(y,C)}),Jt&&Ta(y,L),N}function v(y,w,_,k){var N=Xu(_);if(typeof N!="function")throw Error(Ne(150));if(_=N.call(_),_==null)throw Error(Ne(151));for(var T=N=null,E=w,L=w=0,F=null,z=_.next();E!==null&&!z.done;L++,z=_.next()){E.index>L?(F=E,E=null):F=E.sibling;var C=p(y,E,z.value,k);if(C===null){E===null&&(E=F);break}t&&E&&C.alternate===null&&e(y,E),w=s(C,w,L),T===null?N=C:T.sibling=C,T=C,E=F}if(z.done)return n(y,E),Jt&&Ta(y,L),N;if(E===null){for(;!z.done;L++,z=_.next())z=h(y,z.value,k),z!==null&&(w=s(z,w,L),T===null?N=z:T.sibling=z,T=z);return Jt&&Ta(y,L),N}for(E=r(y,E);!z.done;L++,z=_.next())z=f(E,y,L,z.value,k),z!==null&&(t&&z.alternate!==null&&E.delete(z.key===null?L:z.key),w=s(z,w,L),T===null?N=z:T.sibling=z,T=z);return t&&E.forEach(function(O){return e(y,O)}),Jt&&Ta(y,L),N}function x(y,w,_,k){if(typeof _=="object"&&_!==null&&_.type===bc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xf:e:{for(var N=_.key,T=w;T!==null;){if(T.key===N){if(N=_.type,N===bc){if(T.tag===7){n(y,T.sibling),w=i(T,_.props.children),w.return=y,y=w;break e}}else if(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Io&&tb(N)===T.type){n(y,T.sibling),w=i(T,_.props),w.ref=nh(y,T,_),w.return=y,y=w;break e}n(y,T);break}else e(y,T);T=T.sibling}_.type===bc?(w=rl(_.props.children,y.mode,k,_.key),w.return=y,y=w):(k=eg(_.type,_.key,_.props,null,y.mode,k),k.ref=nh(y,w,_),k.return=y,y=k)}return o(y);case wc:e:{for(T=_.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=J0(_,y.mode,k),w.return=y,y=w}return o(y);case Io:return T=_._init,x(y,w,T(_._payload),k)}if(vh(_))return m(y,w,_,k);if(Xu(_))return v(y,w,_,k);lp(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,_),w.return=y,y=w):(n(y,w),w=K0(_,y.mode,k),w.return=y,y=w),o(y)):n(y,w)}return x}var Kc=O3(!0),T3=O3(!1),Pg=ha(null),Ng=null,Cc=null,ry=null;function iy(){ry=Cc=Ng=null}function sy(t){var e=Pg.current;Yt(Pg),t._currentValue=e}function mv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mc(t,e){Ng=t,ry=Cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function yi(t){var e=t._currentValue;if(ry!==t)if(t={context:t,memoizedValue:e,next:null},Cc===null){if(Ng===null)throw Error(Ne(308));Cc=t,Ng.dependencies={lanes:0,firstContext:t}}else Cc=Cc.next=t;return e}var Ka=null;function oy(t){Ka===null?Ka=[t]:Ka.push(t)}function I3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,oy(e)):(n.next=i.next,i.next=n),e.interleaved=n,ao(t,r)}function ao(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ro=!1;function ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ao(t,n)}return i=r.interleaved,i===null?(e.next=e,oy(r)):(e.next=i.next,i.next=e),r.interleaved=e,ao(t,n)}function Yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V2(t,n)}}function nb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cg(t,e,n,r){var i=t.updateQueue;Ro=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,f=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(p=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,p=typeof m=="function"?m.call(f,h,p):m,p==null)break e;h=tn({},h,p);break e;case 2:Ro=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pl|=o,t.lanes=o,t.memoizedState=h}}function rb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var qd={},Cs=ha(qd),gd=ha(qd),md=ha(qd);function Ja(t){if(t===qd)throw Error(Ne(174));return t}function ly(t,e){switch(Ut(md,e),Ut(gd,t),Ut(Cs,qd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:J1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=J1(e,t)}Yt(Cs),Ut(Cs,e)}function Jc(){Yt(Cs),Yt(gd),Yt(md)}function M3(t){Ja(md.current);var e=Ja(Cs.current),n=J1(e,t.type);e!==n&&(Ut(gd,t),Ut(Cs,n))}function cy(t){gd.current===t&&(Yt(Cs),Yt(gd))}var Zt=ha(0);function Eg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var H0=[];function uy(){for(var t=0;t<H0.length;t++)H0[t]._workInProgressVersionPrimary=null;H0.length=0}var Kp=uo.ReactCurrentDispatcher,W0=uo.ReactCurrentBatchConfig,fl=0,en=null,En=null,Bn=null,Lg=!1,Bh=!1,vd=0,UC=0;function Qn(){throw Error(Ne(321))}function hy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ji(t[n],e[n]))return!1;return!0}function dy(t,e,n,r,i,s){if(fl=s,en=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kp.current=t===null||t.memoizedState===null?VC:GC,t=n(r,i),Bh){s=0;do{if(Bh=!1,vd=0,25<=s)throw Error(Ne(301));s+=1,Bn=En=null,e.updateQueue=null,Kp.current=YC,t=n(r,i)}while(Bh)}if(Kp.current=jg,e=En!==null&&En.next!==null,fl=0,Bn=En=en=null,Lg=!1,e)throw Error(Ne(300));return t}function fy(){var t=vd!==0;return vd=0,t}function ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?en.memoizedState=Bn=t:Bn=Bn.next=t,Bn}function wi(){if(En===null){var t=en.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var e=Bn===null?en.memoizedState:Bn.next;if(e!==null)Bn=e,En=t;else{if(t===null)throw Error(Ne(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Bn===null?en.memoizedState=Bn=t:Bn=Bn.next=t}return Bn}function yd(t,e){return typeof e=="function"?e(t):e}function q0(t){var e=wi(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=En,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((fl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,en.lanes|=u,pl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ji(r,e.memoizedState)||(Tr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,en.lanes|=s,pl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function V0(t){var e=wi(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ji(s,e.memoizedState)||(Tr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function F3(){}function D3(t,e){var n=en,r=wi(),i=e(),s=!Ji(r.memoizedState,i);if(s&&(r.memoizedState=i,Tr=!0),r=r.queue,py(z3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,wd(9,$3.bind(null,n,r,i,e),void 0,null),$n===null)throw Error(Ne(349));fl&30||B3(n,e,i)}return i}function B3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $3(t,e,n,r){e.value=n,e.getSnapshot=r,U3(e)&&H3(t)}function z3(t,e,n){return n(function(){U3(e)&&H3(t)})}function U3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ji(t,n)}catch{return!0}}function H3(t){var e=ao(t,1);e!==null&&Ki(e,t,1,-1)}function ib(t){var e=ws();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},e.queue=t,t=t.dispatch=qC.bind(null,en,t),[e.memoizedState,t]}function wd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function W3(){return wi().memoizedState}function Jp(t,e,n,r){var i=ws();en.flags|=t,i.memoizedState=wd(1|e,n,void 0,r===void 0?null:r)}function um(t,e,n,r){var i=wi();r=r===void 0?null:r;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,r!==null&&hy(r,o.deps)){i.memoizedState=wd(e,n,s,r);return}}en.flags|=t,i.memoizedState=wd(1|e,n,s,r)}function sb(t,e){return Jp(8390656,8,t,e)}function py(t,e){return um(2048,8,t,e)}function q3(t,e){return um(4,2,t,e)}function V3(t,e){return um(4,4,t,e)}function G3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y3(t,e,n){return n=n!=null?n.concat([t]):null,um(4,4,G3.bind(null,e,t),n)}function gy(){}function K3(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J3(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X3(t,e,n){return fl&21?(Ji(n,e)||(n=n3(),en.lanes|=n,pl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function HC(t,e){var n=Et;Et=n!==0&&4>n?n:4,t(!0);var r=W0.transition;W0.transition={};try{t(!1),e()}finally{Et=n,W0.transition=r}}function Q3(){return wi().memoizedState}function WC(t,e,n){var r=ea(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z3(t))e4(e,n);else if(n=I3(t,e,n,r),n!==null){var i=mr();Ki(n,t,r,i),t4(n,e,r)}}function qC(t,e,n){var r=ea(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z3(t))e4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ji(a,o)){var l=e.interleaved;l===null?(i.next=i,oy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=I3(t,e,i,r),n!==null&&(i=mr(),Ki(n,t,r,i),t4(n,e,r))}}function Z3(t){var e=t.alternate;return t===en||e!==null&&e===en}function e4(t,e){Bh=Lg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V2(t,n)}}var jg={readContext:yi,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},VC={readContext:yi,useCallback:function(t,e){return ws().memoizedState=[t,e===void 0?null:e],t},useContext:yi,useEffect:sb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jp(4194308,4,G3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jp(4,2,t,e)},useMemo:function(t,e){var n=ws();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ws();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WC.bind(null,en,t),[r.memoizedState,t]},useRef:function(t){var e=ws();return t={current:t},e.memoizedState=t},useState:ib,useDebugValue:gy,useDeferredValue:function(t){return ws().memoizedState=t},useTransition:function(){var t=ib(!1),e=t[0];return t=HC.bind(null,t[1]),ws().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=en,i=ws();if(Jt){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),$n===null)throw Error(Ne(349));fl&30||B3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sb(z3.bind(null,r,s,t),[t]),r.flags|=2048,wd(9,$3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ws(),e=$n.identifierPrefix;if(Jt){var n=to,r=eo;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GC={readContext:yi,useCallback:K3,useContext:yi,useEffect:py,useImperativeHandle:Y3,useInsertionEffect:q3,useLayoutEffect:V3,useMemo:J3,useReducer:q0,useRef:W3,useState:function(){return q0(yd)},useDebugValue:gy,useDeferredValue:function(t){var e=wi();return X3(e,En.memoizedState,t)},useTransition:function(){var t=q0(yd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:F3,useSyncExternalStore:D3,useId:Q3,unstable_isNewReconciler:!1},YC={readContext:yi,useCallback:K3,useContext:yi,useEffect:py,useImperativeHandle:Y3,useInsertionEffect:q3,useLayoutEffect:V3,useMemo:J3,useReducer:V0,useRef:W3,useState:function(){return V0(yd)},useDebugValue:gy,useDeferredValue:function(t){var e=wi();return En===null?e.memoizedState=t:X3(e,En.memoizedState,t)},useTransition:function(){var t=V0(yd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:F3,useSyncExternalStore:D3,useId:Q3,unstable_isNewReconciler:!1};function Bi(t,e){if(t&&t.defaultProps){e=tn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hm={isMounted:function(t){return(t=t._reactInternals)?xl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),i=ea(t),s=ro(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qo(t,s,i),e!==null&&(Ki(e,t,i,r),Yp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),i=ea(t),s=ro(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qo(t,s,i),e!==null&&(Ki(e,t,i,r),Yp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=ea(t),i=ro(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qo(t,i,r),e!==null&&(Ki(e,t,r,n),Yp(e,t,r))}};function ob(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hd(n,r)||!hd(i,s):!0}function n4(t,e,n){var r=!1,i=oa,s=e.contextType;return typeof s=="object"&&s!==null?s=yi(s):(i=Rr(e)?hl:hr.current,r=e.contextTypes,s=(r=r!=null)?Gc(t,i):oa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ab(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hm.enqueueReplaceState(e,e.state,null)}function yv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ay(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yi(s):(s=Rr(e)?hl:hr.current,i.context=Gc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hm.enqueueReplaceState(i,i.state,null),Cg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xc(t,e){try{var n="",r=e;do n+=_N(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function G0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KC=typeof WeakMap=="function"?WeakMap:Map;function r4(t,e,n){n=ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tg||(Tg=!0,Ev=r),wv(t,e)},n}function i4(t,e,n){n=ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wv(t,e),typeof r!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cE.bind(null,t,e,n),e.then(t,t))}function cb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ub(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ro(-1,1),e.tag=2,Qo(n,e,1))),n.lanes|=1),t)}var JC=uo.ReactCurrentOwner,Tr=!1;function gr(t,e,n,r){e.child=t===null?T3(e,null,n,r):Kc(e,t.child,n,r)}function hb(t,e,n,r,i){n=n.render;var s=e.ref;return Mc(e,i),r=dy(t,e,n,r,s,i),n=fy(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(Jt&&n&&ey(e),e.flags|=1,gr(t,e,r,i),e.child)}function db(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Sy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,s4(t,e,s,r,i)):(t=eg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hd,n(o,r)&&t.ref===e.ref)return lo(t,e,i)}return e.flags|=1,t=ta(s,r),t.ref=e.ref,t.return=e,e.child=t}function s4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hd(s,r)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,lo(t,e,i)}return bv(t,e,n,r,i)}function o4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Lc,Kr),Kr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(Lc,Kr),Kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ut(Lc,Kr),Kr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ut(Lc,Kr),Kr|=r;return gr(t,e,i,n),e.child}function a4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bv(t,e,n,r,i){var s=Rr(n)?hl:hr.current;return s=Gc(e,s),Mc(e,i),n=dy(t,e,n,r,s,i),r=fy(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(Jt&&r&&ey(e),e.flags|=1,gr(t,e,n,i),e.child)}function fb(t,e,n,r,i){if(Rr(n)){var s=!0;Sg(e)}else s=!1;if(Mc(e,i),e.stateNode===null)Xp(t,e),n4(e,n,r),yv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yi(c):(c=Rr(n)?hl:hr.current,c=Gc(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ab(e,o,r,c),Ro=!1;var p=e.memoizedState;o.state=p,Cg(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ir.current||Ro?(typeof u=="function"&&(vv(e,n,u,r),l=e.memoizedState),(a=Ro||ob(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,R3(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bi(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yi(l):(l=Rr(n)?hl:hr.current,l=Gc(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&ab(e,o,r,l),Ro=!1,p=e.memoizedState,o.state=p,Cg(e,r,o,i);var m=e.memoizedState;a!==h||p!==m||Ir.current||Ro?(typeof f=="function"&&(vv(e,n,f,r),m=e.memoizedState),(c=Ro||ob(e,n,c,r,p,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return xv(t,e,n,r,s,i)}function xv(t,e,n,r,i,s){a4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Qw(e,n,!1),lo(t,e,s);r=e.stateNode,JC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kc(e,t.child,null,s),e.child=Kc(e,null,a,s)):gr(t,e,a,s),e.memoizedState=r.state,i&&Qw(e,n,!0),e.child}function l4(t){var e=t.stateNode;e.pendingContext?Xw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xw(t,e.context,!1),ly(t,e.containerInfo)}function pb(t,e,n,r,i){return Yc(),ny(i),e.flags|=256,gr(t,e,n,r),e.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function Sv(t){return{baseLanes:t,cachePool:null,transitions:null}}function c4(t,e,n){var r=e.pendingProps,i=Zt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ut(Zt,i&1),t===null)return gv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pm(o,r,0,null),t=rl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sv(n),e.memoizedState=_v,t):my(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ta(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ta(a,s):(s=rl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_v,r}return s=t.child,t=s.sibling,r=ta(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function my(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cp(t,e,n,r){return r!==null&&ny(r),Kc(e,t.child,null,n),t=my(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=G0(Error(Ne(422))),cp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i,0,null),s=rl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kc(e,t.child,null,o),e.child.memoizedState=Sv(o),e.memoizedState=_v,s);if(!(e.mode&1))return cp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=G0(s,r,void 0),cp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tr||a){if(r=$n,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ao(t,i),Ki(r,t,i,-1))}return _y(),r=G0(Error(Ne(421))),cp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jr=Xo(i.nextSibling),Qr=e,Jt=!0,Wi=null,t!==null&&(fi[pi++]=eo,fi[pi++]=to,fi[pi++]=dl,eo=t.id,to=t.overflow,dl=e),e=my(e,r.children),e.flags|=4096,e)}function gb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mv(t.return,e,n)}function Y0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function u4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gr(t,e,r.children,n),r=Zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gb(t,n,e);else if(t.tag===19)gb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ut(Zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Eg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Y0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Eg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Y0(e,!0,n,null,s);break;case"together":Y0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=ta(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ta(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QC(t,e,n){switch(e.tag){case 3:l4(e),Yc();break;case 5:M3(e);break;case 1:Rr(e.type)&&Sg(e);break;case 4:ly(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ut(Pg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ut(Zt,Zt.current&1),e.flags|=128,null):n&e.child.childLanes?c4(t,e,n):(Ut(Zt,Zt.current&1),t=lo(t,e,n),t!==null?t.sibling:null);Ut(Zt,Zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(Zt,Zt.current),r)break;return null;case 22:case 23:return e.lanes=0,o4(t,e,n)}return lo(t,e,n)}var h4,kv,d4,f4;h4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kv=function(){};d4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ja(Cs.current);var s=null;switch(n){case"input":i=V1(t,i),r=V1(t,r),s=[];break;case"select":i=tn({},i,{value:void 0}),r=tn({},r,{value:void 0}),s=[];break;case"textarea":i=K1(t,i),r=K1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xg)}X1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(id.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(id.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};f4=function(t,e,n,r){n!==r&&(e.flags|=4)};function rh(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZC(t,e,n){var r=e.pendingProps;switch(ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Rr(e.type)&&_g(),Zn(e),null;case 3:return r=e.stateNode,Jc(),Yt(Ir),Yt(hr),uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ap(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wi!==null&&(Ov(Wi),Wi=null))),kv(t,e),Zn(e),null;case 5:cy(e);var i=Ja(md.current);if(n=e.type,t!==null&&e.stateNode!=null)d4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return Zn(e),null}if(t=Ja(Cs.current),ap(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ss]=e,r[pd]=s,t=(e.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<wh.length;i++)qt(wh[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":kw(r,s),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r);break;case"textarea":Pw(r,s),qt("invalid",r)}X1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&op(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&op(r.textContent,a,t),i=["children",""+a]):id.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qt("scroll",r)}switch(n){case"input":Qf(r),Aw(r,s,!0);break;case"textarea":Qf(r),Nw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ss]=e,t[pd]=r,h4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Q1(n,r),n){case"dialog":qt("cancel",t),qt("close",t),i=r;break;case"iframe":case"object":case"embed":qt("load",t),i=r;break;case"video":case"audio":for(i=0;i<wh.length;i++)qt(wh[i],t);i=r;break;case"source":qt("error",t),i=r;break;case"img":case"image":case"link":qt("error",t),qt("load",t),i=r;break;case"details":qt("toggle",t),i=r;break;case"input":kw(t,r),i=V1(t,r),qt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tn({},r,{value:void 0}),qt("invalid",t);break;case"textarea":Pw(t,r),i=K1(t,r),qt("invalid",t);break;default:i=r}X1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?WS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&US(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sd(t,l):typeof l=="number"&&sd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(id.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",t):l!=null&&$2(t,s,l,o))}switch(n){case"input":Qf(t),Aw(t,r,!1);break;case"textarea":Qf(t),Nw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Oc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Oc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)f4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=Ja(md.current),Ja(Cs.current),ap(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ss]=e,(s=r.nodeValue!==n)&&(t=Qr,t!==null))switch(t.tag){case 3:op(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&op(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ss]=e,e.stateNode=r}return Zn(e),null;case 13:if(Yt(Zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&Jr!==null&&e.mode&1&&!(e.flags&128))j3(),Yc(),e.flags|=98560,s=!1;else if(s=ap(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Ss]=e}else Yc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),s=!1}else Wi!==null&&(Ov(Wi),Wi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Zt.current&1?On===0&&(On=3):_y())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return Jc(),kv(t,e),t===null&&dd(e.stateNode.containerInfo),Zn(e),null;case 10:return sy(e.type._context),Zn(e),null;case 17:return Rr(e.type)&&_g(),Zn(e),null;case 19:if(Yt(Zt),s=e.memoizedState,s===null)return Zn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rh(s,!1);else{if(On!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Eg(t),o!==null){for(e.flags|=128,rh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ut(Zt,Zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&pn()>Qc&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Eg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Jt)return Zn(e),null}else 2*pn()-s.renderingStartTime>Qc&&n!==1073741824&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pn(),e.sibling=null,n=Zt.current,Ut(Zt,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return xy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kr&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function eE(t,e){switch(ty(e),e.tag){case 1:return Rr(e.type)&&_g(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jc(),Yt(Ir),Yt(hr),uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cy(e),null;case 13:if(Yt(Zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Yc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(Zt),null;case 4:return Jc(),null;case 10:return sy(e.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var up=!1,or=!1,tE=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Ec(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ln(t,e,r)}else n.current=null}function Av(t,e,n){try{n()}catch(r){ln(t,e,r)}}var mb=!1;function nE(t,e){if(lv=yg,t=y3(),Z2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cv={focusedElem:t,selectionRange:n},yg=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Bi(e.type,v),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(k){ln(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return m=mb,mb=!1,m}function $h(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Av(e,n,s)}i=i.next}while(i!==r)}}function dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function p4(t){var e=t.alternate;e!==null&&(t.alternate=null,p4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ss],delete e[pd],delete e[dv],delete e[DC],delete e[BC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function g4(t){return t.tag===5||t.tag===3||t.tag===4}function vb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xg));else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}function Cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cv(t,e,n),t=t.sibling;t!==null;)Cv(t,e,n),t=t.sibling}var Wn=null,Ui=!1;function Po(t,e,n){for(n=n.child;n!==null;)m4(t,e,n),n=n.sibling}function m4(t,e,n){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:or||Ec(n,e);case 6:var r=Wn,i=Ui;Wn=null,Po(t,e,n),Wn=r,Ui=i,Wn!==null&&(Ui?(t=Wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wn.removeChild(n.stateNode));break;case 18:Wn!==null&&(Ui?(t=Wn,n=n.stateNode,t.nodeType===8?z0(t.parentNode,n):t.nodeType===1&&z0(t,n),cd(t)):z0(Wn,n.stateNode));break;case 4:r=Wn,i=Ui,Wn=n.stateNode.containerInfo,Ui=!0,Po(t,e,n),Wn=r,Ui=i;break;case 0:case 11:case 14:case 15:if(!or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Av(n,e,o),i=i.next}while(i!==r)}Po(t,e,n);break;case 1:if(!or&&(Ec(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ln(n,e,a)}Po(t,e,n);break;case 21:Po(t,e,n);break;case 22:n.mode&1?(or=(r=or)||n.memoizedState!==null,Po(t,e,n),or=r):Po(t,e,n);break;default:Po(t,e,n)}}function yb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tE),e.forEach(function(r){var i=hE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wn=a.stateNode,Ui=!1;break e;case 3:Wn=a.stateNode.containerInfo,Ui=!0;break e;case 4:Wn=a.stateNode.containerInfo,Ui=!0;break e}a=a.return}if(Wn===null)throw Error(Ne(160));m4(s,o,i),Wn=null,Ui=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ln(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v4(e,t),e=e.sibling}function v4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),ds(t),r&4){try{$h(3,t,t.return),dm(3,t)}catch(v){ln(t,t.return,v)}try{$h(5,t,t.return)}catch(v){ln(t,t.return,v)}}break;case 1:Ii(e,t),ds(t),r&512&&n!==null&&Ec(n,n.return);break;case 5:if(Ii(e,t),ds(t),r&512&&n!==null&&Ec(n,n.return),t.flags&32){var i=t.stateNode;try{sd(i,"")}catch(v){ln(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BS(i,s),Q1(a,o);var c=Q1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?WS(i,h):u==="dangerouslySetInnerHTML"?US(i,h):u==="children"?sd(i,h):$2(i,u,h,c)}switch(a){case"input":G1(i,s);break;case"textarea":$S(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Oc(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Oc(i,!!s.multiple,s.defaultValue,!0):Oc(i,!!s.multiple,s.multiple?[]:"",!1))}i[pd]=s}catch(v){ln(t,t.return,v)}}break;case 6:if(Ii(e,t),ds(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ln(t,t.return,v)}}break;case 3:if(Ii(e,t),ds(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(v){ln(t,t.return,v)}break;case 4:Ii(e,t),ds(t);break;case 13:Ii(e,t),ds(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wy=pn())),r&4&&yb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(or=(c=or)||u,Ii(e,t),or=c):Ii(e,t),ds(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Be=t,u=t.child;u!==null;){for(h=Be=u;Be!==null;){switch(p=Be,f=p.child,p.tag){case 0:case 11:case 14:case 15:$h(4,p,p.return);break;case 1:Ec(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){ln(r,n,v)}}break;case 5:Ec(p,p.return);break;case 22:if(p.memoizedState!==null){bb(h);continue}}f!==null?(f.return=p,Be=f):bb(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HS("display",o))}catch(v){ln(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){ln(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ii(e,t),ds(t),r&4&&yb(t);break;case 21:break;default:Ii(e,t),ds(t)}}function ds(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(g4(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sd(i,""),r.flags&=-33);var s=vb(t);Cv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vb(t);Nv(t,a,o);break;default:throw Error(Ne(161))}}catch(l){ln(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rE(t,e,n){Be=t,y4(t)}function y4(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||up;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||or;a=up;var c=or;if(up=o,(or=l)&&!c)for(Be=i;Be!==null;)o=Be,l=o.child,o.tag===22&&o.memoizedState!==null?xb(i):l!==null?(l.return=o,Be=l):xb(i);for(;s!==null;)Be=s,y4(s),s=s.sibling;Be=i,up=a,or=c}wb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):wb(t)}}function wb(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:or||dm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!or)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&cd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}or||e.flags&512&&Pv(e)}catch(p){ln(e,e.return,p)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function bb(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function xb(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dm(4,e)}catch(l){ln(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ln(e,i,l)}}var s=e.return;try{Pv(e)}catch(l){ln(e,s,l)}break;case 5:var o=e.return;try{Pv(e)}catch(l){ln(e,o,l)}}}catch(l){ln(e,e.return,l)}if(e===t){Be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Be=a;break}Be=e.return}}var iE=Math.ceil,Og=uo.ReactCurrentDispatcher,vy=uo.ReactCurrentOwner,vi=uo.ReactCurrentBatchConfig,yt=0,$n=null,kn=null,Vn=0,Kr=0,Lc=ha(0),On=0,bd=null,pl=0,fm=0,yy=0,zh=null,Er=null,wy=0,Qc=1/0,Js=null,Tg=!1,Ev=null,Zo=null,hp=!1,Uo=null,Ig=0,Uh=0,Lv=null,Qp=-1,Zp=0;function mr(){return yt&6?pn():Qp!==-1?Qp:Qp=pn()}function ea(t){return t.mode&1?yt&2&&Vn!==0?Vn&-Vn:zC.transition!==null?(Zp===0&&(Zp=n3()),Zp):(t=Et,t!==0||(t=window.event,t=t===void 0?16:c3(t.type)),t):1}function Ki(t,e,n,r){if(50<Uh)throw Uh=0,Lv=null,Error(Ne(185));Ud(t,n,r),(!(yt&2)||t!==$n)&&(t===$n&&(!(yt&2)&&(fm|=n),On===4&&Do(t,Vn)),Mr(t,r),n===1&&yt===0&&!(e.mode&1)&&(Qc=pn()+500,cm&&da()))}function Mr(t,e){var n=t.callbackNode;zN(t,e);var r=vg(t,t===$n?Vn:0);if(r===0)n!==null&&Lw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lw(n),e===1)t.tag===0?$C(_b.bind(null,t)):C3(_b.bind(null,t)),MC(function(){!(yt&6)&&da()}),n=null;else{switch(r3(r)){case 1:n=q2;break;case 4:n=e3;break;case 16:n=mg;break;case 536870912:n=t3;break;default:n=mg}n=P4(n,w4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w4(t,e){if(Qp=-1,Zp=0,yt&6)throw Error(Ne(327));var n=t.callbackNode;if(Fc()&&t.callbackNode!==n)return null;var r=vg(t,t===$n?Vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rg(t,r);else{e=r;var i=yt;yt|=2;var s=x4();($n!==t||Vn!==e)&&(Js=null,Qc=pn()+500,nl(t,e));do try{aE();break}catch(a){b4(t,a)}while(!0);iy(),Og.current=s,yt=i,kn!==null?e=0:($n=null,Vn=0,e=On)}if(e!==0){if(e===2&&(i=rv(t),i!==0&&(r=i,e=jv(t,i))),e===1)throw n=bd,nl(t,0),Do(t,r),Mr(t,pn()),n;if(e===6)Do(t,r);else{if(i=t.current.alternate,!(r&30)&&!sE(i)&&(e=Rg(t,r),e===2&&(s=rv(t),s!==0&&(r=s,e=jv(t,s))),e===1))throw n=bd,nl(t,0),Do(t,r),Mr(t,pn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:Ia(t,Er,Js);break;case 3:if(Do(t,r),(r&130023424)===r&&(e=wy+500-pn(),10<e)){if(vg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hv(Ia.bind(null,t,Er,Js),e);break}Ia(t,Er,Js);break;case 4:if(Do(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iE(r/1960))-r,10<r){t.timeoutHandle=hv(Ia.bind(null,t,Er,Js),r);break}Ia(t,Er,Js);break;case 5:Ia(t,Er,Js);break;default:throw Error(Ne(329))}}}return Mr(t,pn()),t.callbackNode===n?w4.bind(null,t):null}function jv(t,e){var n=zh;return t.current.memoizedState.isDehydrated&&(nl(t,e).flags|=256),t=Rg(t,e),t!==2&&(e=Er,Er=n,e!==null&&Ov(e)),t}function Ov(t){Er===null?Er=t:Er.push.apply(Er,t)}function sE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ji(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e){for(e&=~yy,e&=~fm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yi(e),r=1<<n;t[n]=-1,e&=~r}}function _b(t){if(yt&6)throw Error(Ne(327));Fc();var e=vg(t,0);if(!(e&1))return Mr(t,pn()),null;var n=Rg(t,e);if(t.tag!==0&&n===2){var r=rv(t);r!==0&&(e=r,n=jv(t,r))}if(n===1)throw n=bd,nl(t,0),Do(t,e),Mr(t,pn()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,Er,Js),Mr(t,pn()),null}function by(t,e){var n=yt;yt|=1;try{return t(e)}finally{yt=n,yt===0&&(Qc=pn()+500,cm&&da())}}function gl(t){Uo!==null&&Uo.tag===0&&!(yt&6)&&Fc();var e=yt;yt|=1;var n=vi.transition,r=Et;try{if(vi.transition=null,Et=1,t)return t()}finally{Et=r,vi.transition=n,yt=e,!(yt&6)&&da()}}function xy(){Kr=Lc.current,Yt(Lc)}function nl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RC(n)),kn!==null)for(n=kn.return;n!==null;){var r=n;switch(ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_g();break;case 3:Jc(),Yt(Ir),Yt(hr),uy();break;case 5:cy(r);break;case 4:Jc();break;case 13:Yt(Zt);break;case 19:Yt(Zt);break;case 10:sy(r.type._context);break;case 22:case 23:xy()}n=n.return}if($n=t,kn=t=ta(t.current,null),Vn=Kr=e,On=0,bd=null,yy=fm=pl=0,Er=zh=null,Ka!==null){for(e=0;e<Ka.length;e++)if(n=Ka[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ka=null}return t}function b4(t,e){do{var n=kn;try{if(iy(),Kp.current=jg,Lg){for(var r=en.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lg=!1}if(fl=0,Bn=En=en=null,Bh=!1,vd=0,vy.current=null,n===null||n.return===null){On=1,bd=e,kn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=cb(o);if(f!==null){f.flags&=-257,ub(f,o,a,s,e),f.mode&1&&lb(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){lb(s,c,e),_y();break e}l=Error(Ne(426))}}else if(Jt&&a.mode&1){var x=cb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ub(x,o,a,s,e),ny(Xc(l,a));break e}}s=l=Xc(l,a),On!==4&&(On=2),zh===null?zh=[s]:zh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=r4(s,l,e);nb(s,y);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zo===null||!Zo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=i4(s,a,e);nb(s,k);break e}}s=s.return}while(s!==null)}S4(n)}catch(N){e=N,kn===n&&n!==null&&(kn=n=n.return);continue}break}while(!0)}function x4(){var t=Og.current;return Og.current=jg,t===null?jg:t}function _y(){(On===0||On===3||On===2)&&(On=4),$n===null||!(pl&268435455)&&!(fm&268435455)||Do($n,Vn)}function Rg(t,e){var n=yt;yt|=2;var r=x4();($n!==t||Vn!==e)&&(Js=null,nl(t,e));do try{oE();break}catch(i){b4(t,i)}while(!0);if(iy(),yt=n,Og.current=r,kn!==null)throw Error(Ne(261));return $n=null,Vn=0,On}function oE(){for(;kn!==null;)_4(kn)}function aE(){for(;kn!==null&&!ON();)_4(kn)}function _4(t){var e=A4(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?S4(t):kn=e,vy.current=null}function S4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eE(n,e),n!==null){n.flags&=32767,kn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{On=6,kn=null;return}}else if(n=ZC(n,e,Kr),n!==null){kn=n;return}if(e=e.sibling,e!==null){kn=e;return}kn=e=t}while(e!==null);On===0&&(On=5)}function Ia(t,e,n){var r=Et,i=vi.transition;try{vi.transition=null,Et=1,lE(t,e,n,r)}finally{vi.transition=i,Et=r}return null}function lE(t,e,n,r){do Fc();while(Uo!==null);if(yt&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(UN(t,s),t===$n&&(kn=$n=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hp||(hp=!0,P4(mg,function(){return Fc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vi.transition,vi.transition=null;var o=Et;Et=1;var a=yt;yt|=4,vy.current=null,nE(t,n),v4(n,t),CC(cv),yg=!!lv,cv=lv=null,t.current=n,rE(n),TN(),yt=a,Et=o,vi.transition=s}else t.current=n;if(hp&&(hp=!1,Uo=t,Ig=i),s=t.pendingLanes,s===0&&(Zo=null),MN(n.stateNode),Mr(t,pn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tg)throw Tg=!1,t=Ev,Ev=null,t;return Ig&1&&t.tag!==0&&Fc(),s=t.pendingLanes,s&1?t===Lv?Uh++:(Uh=0,Lv=t):Uh=0,da(),null}function Fc(){if(Uo!==null){var t=r3(Ig),e=vi.transition,n=Et;try{if(vi.transition=null,Et=16>t?16:t,Uo===null)var r=!1;else{if(t=Uo,Uo=null,Ig=0,yt&6)throw Error(Ne(331));var i=yt;for(yt|=4,Be=t.current;Be!==null;){var s=Be,o=s.child;if(Be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Be=c;Be!==null;){var u=Be;switch(u.tag){case 0:case 11:case 15:$h(8,u,s)}var h=u.child;if(h!==null)h.return=u,Be=h;else for(;Be!==null;){u=Be;var p=u.sibling,f=u.return;if(p4(u),u===c){Be=null;break}if(p!==null){p.return=f,Be=p;break}Be=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Be=o;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$h(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Be=y;break e}Be=s.return}}var w=t.current;for(Be=w;Be!==null;){o=Be;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Be=_;else e:for(o=w;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dm(9,a)}}catch(N){ln(a,a.return,N)}if(a===o){Be=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Be=k;break e}Be=a.return}}if(yt=i,da(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{Et=n,vi.transition=e}}return!1}function Sb(t,e,n){e=Xc(n,e),e=r4(t,e,1),t=Qo(t,e,1),e=mr(),t!==null&&(Ud(t,1,e),Mr(t,e))}function ln(t,e,n){if(t.tag===3)Sb(t,t,n);else for(;e!==null;){if(e.tag===3){Sb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zo===null||!Zo.has(r))){t=Xc(n,t),t=i4(e,t,1),e=Qo(e,t,1),t=mr(),e!==null&&(Ud(e,1,t),Mr(e,t));break}}e=e.return}}function cE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&n,$n===t&&(Vn&n)===n&&(On===4||On===3&&(Vn&130023424)===Vn&&500>pn()-wy?nl(t,0):yy|=n),Mr(t,e)}function k4(t,e){e===0&&(t.mode&1?(e=tp,tp<<=1,!(tp&130023424)&&(tp=4194304)):e=1);var n=mr();t=ao(t,e),t!==null&&(Ud(t,e,n),Mr(t,n))}function uE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k4(t,n)}function hE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),k4(t,n)}var A4;A4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,QC(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,Jt&&e.flags&1048576&&E3(e,Ag,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xp(t,e),t=e.pendingProps;var i=Gc(e,hr.current);Mc(e,n),i=dy(null,e,r,t,i,n);var s=fy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(r)?(s=!0,Sg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ay(e),i.updater=hm,e.stateNode=i,i._reactInternals=e,yv(e,r,t,n),e=xv(null,e,r,!0,s,n)):(e.tag=0,Jt&&s&&ey(e),gr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fE(r),t=Bi(r,t),i){case 0:e=bv(null,e,r,t,n);break e;case 1:e=fb(null,e,r,t,n);break e;case 11:e=hb(null,e,r,t,n);break e;case 14:e=db(null,e,r,Bi(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),bv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),fb(t,e,r,i,n);case 3:e:{if(l4(e),t===null)throw Error(Ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,R3(t,e),Cg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xc(Error(Ne(423)),e),e=pb(t,e,r,n,i);break e}else if(r!==i){i=Xc(Error(Ne(424)),e),e=pb(t,e,r,n,i);break e}else for(Jr=Xo(e.stateNode.containerInfo.firstChild),Qr=e,Jt=!0,Wi=null,n=T3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yc(),r===i){e=lo(t,e,n);break e}gr(t,e,r,n)}e=e.child}return e;case 5:return M3(e),t===null&&gv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,uv(r,i)?o=null:s!==null&&uv(r,s)&&(e.flags|=32),a4(t,e),gr(t,e,o,n),e.child;case 6:return t===null&&gv(e),null;case 13:return c4(t,e,n);case 4:return ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kc(e,null,r,n):gr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),hb(t,e,r,i,n);case 7:return gr(t,e,e.pendingProps,n),e.child;case 8:return gr(t,e,e.pendingProps.children,n),e.child;case 12:return gr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ut(Pg,r._currentValue),r._currentValue=o,s!==null)if(Ji(s.value,o)){if(s.children===i.children&&!Ir.current){e=lo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ro(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),mv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mc(e,n),i=yi(i),r=r(i),e.flags|=1,gr(t,e,r,n),e.child;case 14:return r=e.type,i=Bi(r,e.pendingProps),i=Bi(r.type,i),db(t,e,r,i,n);case 15:return s4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bi(r,i),Xp(t,e),e.tag=1,Rr(r)?(t=!0,Sg(e)):t=!1,Mc(e,n),n4(e,r,i),yv(e,r,i,n),xv(null,e,r,!0,t,n);case 19:return u4(t,e,n);case 22:return o4(t,e,n)}throw Error(Ne(156,e.tag))};function P4(t,e){return ZS(t,e)}function dE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(t,e,n,r){return new dE(t,e,n,r)}function Sy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fE(t){if(typeof t=="function")return Sy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===U2)return 11;if(t===H2)return 14}return 2}function ta(t,e){var n=t.alternate;return n===null?(n=gi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Sy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bc:return rl(n.children,i,s,e);case z2:o=8,i|=8;break;case U1:return t=gi(12,n,e,i|2),t.elementType=U1,t.lanes=s,t;case H1:return t=gi(13,n,e,i),t.elementType=H1,t.lanes=s,t;case W1:return t=gi(19,n,e,i),t.elementType=W1,t.lanes=s,t;case MS:return pm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IS:o=10;break e;case RS:o=9;break e;case U2:o=11;break e;case H2:o=14;break e;case Io:o=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=gi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rl(t,e,n,r){return t=gi(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=gi(22,t,r,e),t.elementType=MS,t.lanes=n,t.stateNode={isHidden:!1},t}function K0(t,e,n){return t=gi(6,t,null,e),t.lanes=n,t}function J0(t,e,n){return e=gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L0(0),this.expirationTimes=L0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ky(t,e,n,r,i,s,o,a,l){return t=new pE(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(s),t}function gE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N4(t){if(!t)return oa;t=t._reactInternals;e:{if(xl(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(Rr(n))return N3(t,n,e)}return e}function C4(t,e,n,r,i,s,o,a,l){return t=ky(n,r,!0,t,i,s,o,a,l),t.context=N4(null),n=t.current,r=mr(),i=ea(n),s=ro(r,i),s.callback=e??null,Qo(n,s,i),t.current.lanes=i,Ud(t,i,r),Mr(t,r),t}function gm(t,e,n,r){var i=e.current,s=mr(),o=ea(i);return n=N4(n),e.context===null?e.context=n:e.pendingContext=n,e=ro(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qo(i,e,o),t!==null&&(Ki(t,i,o,s),Yp(t,i,o)),o}function Mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ay(t,e){kb(t,e),(t=t.alternate)&&kb(t,e)}function mE(){return null}var E4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Py(t){this._internalRoot=t}mm.prototype.render=Py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));gm(t,e,null,null)};mm.prototype.unmount=Py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gl(function(){gm(null,t,null,null)}),e[oo]=null}};function mm(t){this._internalRoot=t}mm.prototype.unstable_scheduleHydration=function(t){if(t){var e=o3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fo.length&&e!==0&&e<Fo[n].priority;n++);Fo.splice(n,0,t),n===0&&l3(t)}};function Ny(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ab(){}function vE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Mg(o);s.call(c)}}var o=C4(e,r,t,0,null,!1,!1,"",Ab);return t._reactRootContainer=o,t[oo]=o.current,dd(t.nodeType===8?t.parentNode:t),gl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Mg(l);a.call(c)}}var l=ky(t,0,!1,null,null,!1,!1,"",Ab);return t._reactRootContainer=l,t[oo]=l.current,dd(t.nodeType===8?t.parentNode:t),gl(function(){gm(e,l,n,r)}),l}function ym(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mg(o);a.call(l)}}gm(e,o,t,i)}else o=vE(n,e,t,i,r);return Mg(o)}i3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yh(e.pendingLanes);n!==0&&(V2(e,n|1),Mr(e,pn()),!(yt&6)&&(Qc=pn()+500,da()))}break;case 13:gl(function(){var r=ao(t,1);if(r!==null){var i=mr();Ki(r,t,1,i)}}),Ay(t,1)}};G2=function(t){if(t.tag===13){var e=ao(t,134217728);if(e!==null){var n=mr();Ki(e,t,134217728,n)}Ay(t,134217728)}};s3=function(t){if(t.tag===13){var e=ea(t),n=ao(t,e);if(n!==null){var r=mr();Ki(n,t,e,r)}Ay(t,e)}};o3=function(){return Et};a3=function(t,e){var n=Et;try{return Et=t,e()}finally{Et=n}};ev=function(t,e,n){switch(e){case"input":if(G1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lm(r);if(!i)throw Error(Ne(90));DS(r),G1(r,i)}}}break;case"textarea":$S(t,n);break;case"select":e=n.value,e!=null&&Oc(t,!!n.multiple,e,!1)}};GS=by;YS=gl;var yE={usingClientEntryPoint:!1,Events:[Wd,kc,lm,qS,VS,by]},ih={findFiberByHostInstance:Ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wE={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XS(t),t===null?null:t.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||mE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{im=dp.inject(wE),Ns=dp}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yE;ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ny(e))throw Error(Ne(200));return gE(t,e,null,n)};ti.createRoot=function(t,e){if(!Ny(t))throw Error(Ne(299));var n=!1,r="",i=E4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ky(t,1,!1,null,null,n,!1,r,i),t[oo]=e.current,dd(t.nodeType===8?t.parentNode:t),new Py(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=XS(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return gl(t)};ti.hydrate=function(t,e,n){if(!vm(e))throw Error(Ne(200));return ym(null,t,e,!0,n)};ti.hydrateRoot=function(t,e,n){if(!Ny(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=E4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=C4(e,null,t,1,n??null,i,!1,s,o),t[oo]=e.current,dd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mm(e)};ti.render=function(t,e,n){if(!vm(e))throw Error(Ne(200));return ym(null,t,e,!1,n)};ti.unmountComponentAtNode=function(t){if(!vm(t))throw Error(Ne(40));return t._reactRootContainer?(gl(function(){ym(null,null,t,!1,function(){t._reactRootContainer=null,t[oo]=null})}),!0):!1};ti.unstable_batchedUpdates=by;ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vm(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return ym(t,e,n,!1,r)};ti.version="18.3.1-next-f1338f8080-20240426";function L4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L4)}catch(t){console.error(t)}}L4(),LS.exports=ti;var bE=LS.exports,Pb=bE;$1.createRoot=Pb.createRoot,$1.hydrateRoot=Pb.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}var Ho;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ho||(Ho={}));const Nb="popstate";function xE(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fg(i)}return SE(e,n,null,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _E(){return Math.random().toString(36).substr(2,8)}function Cb(t,e){return{usr:t.state,key:t.key,idx:e}}function Tv(t,e,n,r){return n===void 0&&(n=null),xd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hu(e):e,{state:n,key:e&&e.key||r||_E()})}function Fg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ho.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(xd({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ho.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:y})}function p(x,y){a=Ho.Push;let w=Tv(v.location,x,y);c=u()+1;let _=Cb(w,c),k=v.createHref(w);try{o.pushState(_,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(k)}s&&l&&l({action:a,location:v.location,delta:1})}function f(x,y){a=Ho.Replace;let w=Tv(v.location,x,y);c=u();let _=Cb(w,c),k=v.createHref(w);o.replaceState(_,"",k),s&&l&&l({action:a,location:v.location,delta:0})}function m(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Fg(x);return w=w.replace(/ $/,"%20"),wn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Nb,h),l=x,()=>{i.removeEventListener(Nb,h),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let y=m(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(x){return o.go(x)}};return v}var Eb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Eb||(Eb={}));function kE(t,e,n){return n===void 0&&(n="/"),AE(t,e,n,!1)}function AE(t,e,n,r){let i=typeof e=="string"?hu(e):e,s=Cy(i.pathname||"/",n);if(s==null)return null;let o=O4(t);PE(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=FE(s);a=RE(o[l],c,r)}return a}function O4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=na([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(wn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),O4(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:TE(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of T4(s.path))i(s,o,l)}),e}function T4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=T4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function PE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NE=/^:[\w-]+$/,CE=3,EE=2,LE=1,jE=10,OE=-2,Lb=t=>t==="*";function TE(t,e){let n=t.split("/"),r=n.length;return n.some(Lb)&&(r+=OE),e&&(r+=EE),n.filter(i=>!Lb(i)).reduce((i,s)=>i+(NE.test(s)?CE:s===""?LE:jE),r)}function IE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function RE(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=jb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=jb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:na([s,h.pathname]),pathnameBase:zE(na([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=na([s,h.pathnameBase]))}return o}function jb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ME(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[h];return f&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function ME(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),j4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return j4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hu(t):t;return{pathname:n?n.startsWith("/")?n:BE(n,e):e,search:UE(r),hash:HE(i)}}function BE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function X0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $E(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t,e){let n=$E(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ly(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=hu(t):(i=xd({},t),wn(!i.pathname||!i.pathname.includes("?"),X0("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),X0("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),X0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=DE(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const na=t=>t.join("/").replace(/\/\/+/g,"/"),zE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I4=["post","put","patch","delete"];new Set(I4);const qE=["get",...I4];new Set(qE);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}const jy=X.createContext(null),VE=X.createContext(null),fa=X.createContext(null),wm=X.createContext(null),pa=X.createContext({outlet:null,matches:[],isDataRoute:!1}),R4=X.createContext(null);function GE(t,e){let{relative:n}=e===void 0?{}:e;du()||wn(!1);let{basename:r,navigator:i}=X.useContext(fa),{hash:s,pathname:o,search:a}=F4(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:na([r,o])),i.createHref({pathname:l,search:a,hash:s})}function du(){return X.useContext(wm)!=null}function _l(){return du()||wn(!1),X.useContext(wm).location}function M4(t){X.useContext(fa).static||X.useLayoutEffect(t)}function Qi(){let{isDataRoute:t}=X.useContext(pa);return t?oL():YE()}function YE(){du()||wn(!1);let t=X.useContext(jy),{basename:e,future:n,navigator:r}=X.useContext(fa),{matches:i}=X.useContext(pa),{pathname:s}=_l(),o=JSON.stringify(Ey(i,n.v7_relativeSplatPath)),a=X.useRef(!1);return M4(()=>{a.current=!0}),X.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Ly(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:na([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function F4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=X.useContext(fa),{matches:i}=X.useContext(pa),{pathname:s}=_l(),o=JSON.stringify(Ey(i,r.v7_relativeSplatPath));return X.useMemo(()=>Ly(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function KE(t,e){return JE(t,e)}function JE(t,e,n,r){du()||wn(!1);let{navigator:i}=X.useContext(fa),{matches:s}=X.useContext(pa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=_l(),u;if(e){var h;let x=typeof e=="string"?hu(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||wn(!1),u=x}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=kE(t,{pathname:f}),v=tL(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:na([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:na([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&v?X.createElement(wm.Provider,{value:{location:_d({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ho.Pop}},v):v}function XE(){let t=sL(),e=WE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,null)}const QE=X.createElement(XE,null);class ZE extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?X.createElement(pa.Provider,{value:this.props.routeContext},X.createElement(R4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eL(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(jy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(pa.Provider,{value:e},r)}function tL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||wn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=n,m=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let f,m=!1,v=null,x=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||QE,l&&(c<0&&p===0?(m=!0,x=null):c===p&&(m=!0,x=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,p+1)),w=()=>{let _;return f?_=v:m?_=x:h.route.Component?_=X.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,X.createElement(eL,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?X.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var D4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(D4||{}),Dg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dg||{});function nL(t){let e=X.useContext(jy);return e||wn(!1),e}function rL(t){let e=X.useContext(VE);return e||wn(!1),e}function iL(t){let e=X.useContext(pa);return e||wn(!1),e}function B4(t){let e=iL(),n=e.matches[e.matches.length-1];return n.route.id||wn(!1),n.route.id}function sL(){var t;let e=X.useContext(R4),n=rL(Dg.UseRouteError),r=B4(Dg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oL(){let{router:t}=nL(D4.UseNavigateStable),e=B4(Dg.UseNavigateStable),n=X.useRef(!1);return M4(()=>{n.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_d({fromRouteId:e},s)))},[t,e])}const Ob={};function aL(t,e){Ob[e]||(Ob[e]=!0,console.warn(e))}const Tb=(t,e,n)=>aL(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function lL(t,e){t!=null&&t.v7_startTransition||Tb("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Tb("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function cL(t){let{to:e,replace:n,state:r,relative:i}=t;du()||wn(!1);let{future:s,static:o}=X.useContext(fa),{matches:a}=X.useContext(pa),{pathname:l}=_l(),c=Qi(),u=Ly(e,Ey(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return X.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function gs(t){wn(!1)}function uL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ho.Pop,navigator:s,static:o=!1,future:a}=t;du()&&wn(!1);let l=e.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:l,navigator:s,static:o,future:_d({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=hu(r));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:m="default"}=r,v=X.useMemo(()=>{let x=Cy(u,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:f,key:m},navigationType:i}},[l,u,h,p,f,m,i]);return v==null?null:X.createElement(fa.Provider,{value:c},X.createElement(wm.Provider,{children:n,value:v}))}function hL(t){let{children:e,location:n}=t;return KE(Iv(e),n)}new Promise(()=>{});function Iv(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let s=[...e,i];if(r.type===X.Fragment){n.push.apply(n,Iv(r.props.children,s));return}r.type!==gs&&wn(!1),!r.props.index||!r.props.children||wn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Iv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function dL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pL(t,e){return t.button===0&&(!e||e==="_self")&&!fL(t)}const gL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mL="6";try{window.__reactRouterVersion=mL}catch{}const vL="startTransition",Ib=B1[vL];function yL(t){let{basename:e,children:n,future:r,window:i}=t,s=X.useRef();s.current==null&&(s.current=xE({window:i,v5Compat:!0}));let o=s.current,[a,l]=X.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=X.useCallback(h=>{c&&Ib?Ib(()=>l(h)):l(h)},[l,c]);return X.useLayoutEffect(()=>o.listen(u),[o,u]),X.useEffect(()=>lL(r),[r]),X.createElement(uL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const wL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=dL(e,gL),{basename:f}=X.useContext(fa),m,v=!1;if(typeof c=="string"&&bL.test(c)&&(m=c,wL))try{let _=new URL(window.location.href),k=c.startsWith("//")?new URL(_.protocol+c):new URL(c),N=Cy(k.pathname,f);k.origin===_.origin&&N!=null?c=N+k.search+k.hash:v=!0}catch{}let x=GE(c,{relative:i}),y=xL(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function w(_){r&&r(_),_.defaultPrevented||y(_)}return X.createElement("a",Rv({},p,{href:m||x,onClick:v||s?r:w,ref:n,target:l}))});var Rb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rb||(Rb={}));var Mb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mb||(Mb={}));function xL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Qi(),c=_l(),u=F4(t,{relative:o});return X.useCallback(h=>{if(pL(h,n)){h.preventDefault();let p=r!==void 0?r:Fg(c)===Fg(u);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const _L="modulepreload",SL=function(t){return"/"+t},Fb={},co=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=SL(l),l in Fb)return;Fb[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":_L,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},kL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>co(async()=>{const{default:r}=await Promise.resolve().then(()=>fu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Oy extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class AL extends Oy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class PL extends Oy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class NL extends Oy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mv||(Mv={}));var CL=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class EL{constructor(e,{headers:n={},customFetch:r,region:i=Mv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=kL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return CL(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new AL(m)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new PL(u);if(!u.ok)throw new NL(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var jr={},Ty={},bm={},Vd={},xm={},_m={},LL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zc=LL();const jL=Zc.fetch,$4=Zc.fetch.bind(Zc),z4=Zc.Headers,OL=Zc.Request,TL=Zc.Response,fu=Object.freeze(Object.defineProperty({__proto__:null,Headers:z4,Request:OL,Response:TL,default:$4,fetch:jL},Symbol.toStringTag,{value:"Module"})),IL=yS(fu);var Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});let RL=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Sm.default=RL;var U4=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_m,"__esModule",{value:!0});const ML=U4(IL),FL=U4(Sm);let DL=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ML.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,h=null,p=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await s.text();try{c=JSON.parse(v),Array.isArray(c)&&s.status===404&&(u=[],c=null,p=200,f="OK")}catch{s.status===404&&v===""?(p=204,f="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new FL.default(c)}return{error:c,data:u,count:h,status:p,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};_m.default=DL;var BL=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xm,"__esModule",{value:!0});const $L=BL(_m);let zL=class extends $L.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xm.default=zL;var UL=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vd,"__esModule",{value:!0});const HL=UL(xm);let WL=class extends HL.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Vd.default=WL;var qL=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bm,"__esModule",{value:!0});const sh=qL(Vd);let VL=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new sh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new sh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new sh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new sh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new sh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bm.default=VL;var km={},Am={};Object.defineProperty(Am,"__esModule",{value:!0});Am.version=void 0;Am.version="0.0.0-automated";Object.defineProperty(km,"__esModule",{value:!0});km.DEFAULT_HEADERS=void 0;const GL=Am;km.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${GL.version}`};var H4=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ty,"__esModule",{value:!0});const YL=H4(bm),KL=H4(Vd),JL=km;let XL=class W4{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},JL.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new YL.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new W4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new KL.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ty.default=XL;var pu=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jr,"__esModule",{value:!0});jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const q4=pu(Ty);jr.PostgrestClient=q4.default;const V4=pu(bm);jr.PostgrestQueryBuilder=V4.default;const G4=pu(Vd);jr.PostgrestFilterBuilder=G4.default;const Y4=pu(xm);jr.PostgrestTransformBuilder=Y4.default;const K4=pu(_m);jr.PostgrestBuilder=K4.default;const J4=pu(Sm);jr.PostgrestError=J4.default;var QL=jr.default={PostgrestClient:q4.default,PostgrestQueryBuilder:V4.default,PostgrestFilterBuilder:G4.default,PostgrestTransformBuilder:Y4.default,PostgrestBuilder:K4.default,PostgrestError:J4.default};const{PostgrestClient:ZL,PostgrestQueryBuilder:az,PostgrestFilterBuilder:lz,PostgrestTransformBuilder:cz,PostgrestBuilder:uz,PostgrestError:hz}=QL,e8="2.11.2",t8={"X-Client-Info":`realtime-js/${e8}`},n8="1.0.0",X4=1e4,r8=1e3;var Dc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dc||(Dc={}));var Vr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vr||(Vr={}));var Hi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Hi||(Hi={}));var Fv;(function(t){t.websocket="websocket"})(Fv||(Fv={}));var $a;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($a||($a={}));class i8{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Q4{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zt||(zt={}));const Db=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=s8(o,t,e,i),s),{})},s8=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Z4(s,o):Dv(o)},Z4=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return c8(e,n)}switch(t){case zt.bool:return o8(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return a8(e);case zt.json:case zt.jsonb:return l8(e);case zt.timestamp:return u8(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return Dv(e);default:return Dv(e)}},Dv=t=>t,o8=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a8=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},l8=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},c8=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Z4(e,a))}return t},u8=t=>typeof t=="string"?t.replace(" ","T"):t,ek=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Q0{constructor(e,n,r={},i=X4){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bb||(Bb={}));class Hh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Hh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hh.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const p=u.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),m=u.filter(x=>f.indexOf(x.presence_ref)<0),v=h.filter(x=>p.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...p)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $b;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($b||($b={}));var zb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zb||(zb={}));var Xs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xs||(Xs={}));class Iy{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Q0(this,Hi.join,this.params,this.timeout),this.rejoinTimer=new Q4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Hh(this),this.broadcastEndpointURL=ek(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Xs.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Xs.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Xs.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,f=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,m=[];for(let v=0;v<f;v++){const x=p[v],{filter:{event:y,schema:w,table:_,filter:k}}=x,N=u&&u[v];if(N&&N.event===y&&N.schema===w&&N.table===_&&N.filter===k)m.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),e==null||e(Xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Xs.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Q0(this,Hi.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Q0(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Hi;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,v,x;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(v=f.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,v,x,y,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,N=(m=f.filter)===null||m===void 0?void 0:m.event;return k&&((v=n.ids)===null||v===void 0?void 0:v.includes(k))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(w=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:v,table:x,commit_timestamp:y,type:w,errors:_}=m;p=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(m))}f.callback(p,r)})}_isClosed(){return this.state===Vr.closed}_isJoined(){return this.state===Vr.joined}_isJoining(){return this.state===Vr.joining}_isLeaving(){return this.state===Vr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Iy.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hi.close,{},e)}_onError(e){this._on(Hi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Db(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Db(e.columns,e.old_record)),n}}const h8=()=>{},d8=typeof WebSocket<"u",f8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p8{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=t8,this.params={},this.timeout=X4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=h8,this.conn=null,this.sendBuffer=[],this.serializer=new i8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>co(async()=>{const{default:l}=await Promise.resolve().then(()=>fu);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Fv.websocket}`,this.httpEndpoint=ek(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Q4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(d8){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new g8(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),co(async()=>{const{default:e}=await import("./browser-CdmfXW8O.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n8}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dc.connecting:return $a.Connecting;case Dc.open:return $a.Open;case Dc.closing:return $a.Closing;default:return $a.Closed}}isConnected(){return this.connectionState()===$a.Open}channel(e,n={config:{}}){const r=new Iy(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Hi.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(r8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([f8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class g8{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dc.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ry extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Dn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class m8 extends Ry{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Bv extends Ry{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var v8=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const tk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>co(async()=>{const{default:r}=await Promise.resolve().then(()=>fu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},y8=()=>v8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield co(()=>Promise.resolve().then(()=>fu),void 0)).Response:Response}),$v=t=>{if(Array.isArray(t))return t.map(n=>$v(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=$v(r)}),e};var Sl=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Z0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),w8=(t,e,n)=>Sl(void 0,void 0,void 0,function*(){const r=yield y8();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new m8(Z0(i),t.status||500))}).catch(i=>{e(new Bv(Z0(i),i))}):e(new Bv(Z0(t),t))}),b8=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Gd(t,e,n,r,i,s){return Sl(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,b8(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>w8(l,a,r))})})}function Bg(t,e,n,r){return Sl(this,void 0,void 0,function*(){return Gd(t,"GET",e,n,r)})}function Mo(t,e,n,r,i){return Sl(this,void 0,void 0,function*(){return Gd(t,"POST",e,r,i,n)})}function x8(t,e,n,r,i){return Sl(this,void 0,void 0,function*(){return Gd(t,"PUT",e,r,i,n)})}function _8(t,e,n,r){return Sl(this,void 0,void 0,function*(){return Gd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nk(t,e,n,r,i){return Sl(this,void 0,void 0,function*(){return Gd(t,"DELETE",e,r,i,n)})}var Pr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const S8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ub={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class k8{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=tk(i)}uploadOrUpdate(e,n,r,i){return Pr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ub),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(Dn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Pr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ub.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Dn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Pr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Mo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Ry("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Dn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Dn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Mo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Dn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Mo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Dn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Pr(this,void 0,void 0,function*(){try{const i=yield Mo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Dn(i))return{data:null,error:i};throw i}})}download(e,n){return Pr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Bg(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Dn(a))return{data:null,error:a};throw a}})}info(e){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Bg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$v(r),error:null}}catch(r){if(Dn(r))return{data:null,error:r};throw r}})}exists(e){return Pr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield _8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Dn(r)&&r instanceof Bv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Pr(this,void 0,void 0,function*(){try{return{data:yield nk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Dn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},S8),n),{prefix:e||""});return{data:yield Mo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Dn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const A8="2.7.1",P8={"X-Client-Info":`storage-js/${A8}`};var sc=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class N8{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},P8),n),this.fetch=tk(r)}listBuckets(){return sc(this,void 0,void 0,function*(){try{return{data:yield Bg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Dn(e))return{data:null,error:e};throw e}})}getBucket(e){return sc(this,void 0,void 0,function*(){try{return{data:yield Bg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Dn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return sc(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Dn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return sc(this,void 0,void 0,function*(){try{return{data:yield x8(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Dn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return sc(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return sc(this,void 0,void 0,function*(){try{return{data:yield nk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Dn(n))return{data:null,error:n};throw n}})}}class C8 extends N8{constructor(e,n={},r){super(e,n,r)}from(e){return new k8(this.url,this.headers,e,this.fetch)}}const E8="2.47.10";let bh="";typeof Deno<"u"?bh="deno":typeof document<"u"?bh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bh="react-native":bh="node";const L8={"X-Client-Info":`supabase-js-${bh}/${E8}`},j8={headers:L8},O8={schema:"public"},T8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I8={};var R8=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const M8=t=>{let e;return t?e=t:typeof fetch>"u"?e=$4:e=fetch,(...n)=>e(...n)},F8=()=>typeof Headers>"u"?z4:Headers,D8=(t,e,n)=>{const r=M8(n),i=F8();return(s,o)=>R8(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var B8=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function $8(t){return t.replace(/\/$/,"")}function z8(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>B8(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const rk="2.67.3",U8="http://localhost:9999",H8="supabase.auth.token",W8={"X-Client-Info":`gotrue-js/${rk}`},Hb=10,zv="X-Supabase-Api-Version",ik={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function q8(t){return Math.round(Date.now()/1e3)+t}function V8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ms=()=>typeof window<"u"&&typeof document<"u",Ea={tested:!1,writable:!1},Wh=()=>{if(!ms())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ea.tested)return Ea.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ea.tested=!0,Ea.writable=!0}catch{Ea.tested=!0,Ea.writable=!1}return Ea.writable};function G8(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const sk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>co(async()=>{const{default:r}=await Promise.resolve().then(()=>fu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Y8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ok=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},fp=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pp=async(t,e)=>{await t.removeItem(e)};function K8(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class Pm{constructor(){this.promise=new Pm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pm.promiseConstructor=Promise;function Wb(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(K8(r))}async function J8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function X8(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Q8(t){return("0"+t.toString(16)).substr(-2)}function Z8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Q8).join("")}async function ej(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function tj(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ej(t);return tj(n)}async function oc(t,e,n=!1){const r=Z8();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ok(t,`${e}-code-verifier`,i);const s=await nj(r);return[s,r===s?"plain":"s256"]}const rj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ij(t){const e=t.headers.get(zv);if(!e||!e.match(rj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class My extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sj extends My{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function oj(t){return ot(t)&&t.name==="AuthApiError"}class ak extends My{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class kl extends My{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class jo extends kl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aj(t){return ot(t)&&t.name==="AuthSessionMissingError"}class e1 extends kl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gp extends kl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mp extends kl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lj(t){return ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class qb extends kl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uv extends kl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function t1(t){return ot(t)&&t.name==="AuthRetryableFetchError"}class Vb extends kl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var cj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ra=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uj=[502,503,504];async function Gb(t){var e;if(!Y8(t))throw new Uv(Ra(t),0);if(uj.includes(t.status))throw new Uv(Ra(t),t.status);let n;try{n=await t.json()}catch(s){throw new ak(Ra(s),s)}let r;const i=ij(t);if(i&&i.getTime()>=ik["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Vb(Ra(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Vb(Ra(n),t.status,n.weak_password.reasons);throw new sj(Ra(n),t.status||500,r)}const hj=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ft(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[zv]||(s[zv]=ik["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await dj(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function dj(t,e,n,r,i,s){const o=hj(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Uv(Ra(l),0)}if(a.ok||await Gb(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Gb(l)}}function Oo(t){var e;let n=null;mj(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=q8(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Yb(t){const e=Oo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fj(t){return{data:t,error:null}}function pj(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=cj(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function gj(t){return t}function mj(t){return t.access_token&&t.refresh_token&&t.expires_in}var vj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class yj{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=sk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await ft(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bo})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=vj(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ot(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bo})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:gj});if(u.error)throw u.error;const h=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ot(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bo})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Bo})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bo})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}}const wj={getItem:t=>Wh()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Wh()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Wh()&&globalThis.localStorage.removeItem(t)}};function Kb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function bj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ac={debug:!!(globalThis&&Wh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xj extends lk{}async function _j(t,e,n){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ac.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ac.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ac.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}bj();const Sj={url:U8,storageKey:H8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},oh=30*1e3,Jb=3;async function Xb(t,e,n){return await n()}class Sd{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sd.nextInstanceID,Sd.nextInstanceID+=1,this.instanceID>0&&ms()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Sj),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sk(i.fetch),this.lock=i.lock||Xb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ms()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_j:this.lock=Xb,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Wh()?this.storage=wj:(this.memoryStorage={},this.storage=Kb(this.memoryStorage)):(this.memoryStorage={},this.storage=Kb(this.memoryStorage)),ms()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rk}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=G8(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ms()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lj(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ot(n)?{error:n}:{error:new ak("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Oo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ot(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:h,options:p}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await oc(this.storage,this.storageKey)),s=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:m},xform:Oo})}else if("phone"in e){const{phone:u,password:h,options:p}=e;s=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Oo})}else throw new gp("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ot(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yb})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yb})}else throw new gp("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new e1}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await fp(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Oo});if(await pp(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new e1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ot(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Oo}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new e1}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await oc(this.storage,this.storageKey));const{error:h}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new gp("You must provide either an email or phone number.")}catch(a){if(ot(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Oo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ot(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await oc(this.storage,this.storageKey)),await ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:fj})}catch(s){if(ot(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jo;const{error:i}=await ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(ot(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await ft(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await ft(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new gp("You must provide either an email or phone number and a type")}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await fp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bo}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jo}:await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Bo})})}catch(n){if(ot(n))return aj(n)&&(await this._removeSession(),await pp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new jo;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await oc(this.storage,this.storageKey));const{data:c,error:u}=await ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Bo});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Wb(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=Wb(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ot(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jo;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ms())throw new mp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qb("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new mp("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let p=u+h;l&&(p=parseInt(l));const f=p-u;f*1e3<=oh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=p-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,u);const{data:v,error:x}=await this._getUser(s);if(x)throw x;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(ot(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await fp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(oj(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await pp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=V8(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await oc(this.storage,this.storageKey,!0));try{return await ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ot(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:p}=s;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ft(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ms()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ot(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await X8(async i=>(i>0&&await J8(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&t1(s)&&Date.now()+o-r<oh})}catch(r){if(this._debug(n,"error",r),ot(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ms()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await fp(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+Hb;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Hb}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),t1(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pm;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new jo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ot(s)){const o={session:null,error:s};return t1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ok(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await pp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ms()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),oh);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/oh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${oh}ms, refresh threshold is ${Jb} ticks`),i<=Jb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ms()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await oc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ft(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ot(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ot(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Sd.nextInstanceID=0;const kj=Sd;class Aj extends kj{constructor(e){super(e)}}var Pj=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Nj{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=$8(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:O8,realtime:I8,auth:Object.assign(Object.assign({},T8),{storageKey:l}),global:j8},u=z8(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=D8(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ZL(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new EL(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new C8(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Pj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){var h;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Aj({url:this.authUrl,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new p8(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cj=(t,e,n)=>new Nj(t,e,n),Ej="https://wjxosmjoaurdetcsxtop.supabase.co",Lj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqeG9zbWpvYXVyZGV0Y3N4dG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU2Njk0NjEsImV4cCI6MjA1MTI0NTQ2MX0.b5SZqKTq3GIgcLPKjA8L47RQ0OFBqJBPQSCGXEy5r3c",It=Cj(Ej,Lj),ck=X.createContext(null);function gu(){const t=X.useContext(ck);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function jj({children:t}){const[e,n]=X.useState(null),[r,i]=X.useState(!0),[s,o]=X.useState(null);X.useEffect(()=>{const{data:{subscription:f}}=It.auth.onAuthStateChange(async(m,v)=>{var x,y,w;if(console.log("event",m,v),n((v==null?void 0:v.user)??null),v!=null&&v.user){console.log("session.user",v.user);const _={name:((x=v.user)==null?void 0:x.user_metadata.name)||"",email:((y=v.user)==null?void 0:y.email)||"",phone:((w=v.user)==null?void 0:w.user_metadata.phone)||""};o(_)}else o(null);i(!1)});return()=>{f.unsubscribe()}},[]);async function a(f,m){const{data:v,error:x}=await It.auth.signInWithPassword({email:f,password:m});if(x)throw x;return v}async function l(f,m,v){const{error:x,data:y}=await It.auth.signUp({email:f,password:m});if(console.log("User data:",y),x)throw x;const{error:w}=await It.from("users").insert([{id:y.user.id,email:f,name:v,country_code:"PA"}]);if(w)throw w}async function c(){const{error:f}=await It.auth.signOut();if(f)throw f}async function u(f){const{error:m}=await It.auth.resetPasswordForEmail(f,{redirectTo:"http://localhost:5173/login"});if(m)throw m}async function h(f){o(f)}const p={currentUser:e,login:a,register:l,logout:c,loading:r,userData:s,resetPassword:u,updateUserProfile:h};return P.jsx(ck.Provider,{value:p,children:!r&&t})}const kd=[{code:"AR",name:"Argentina",currency:{code:"ARS",symbol:"$"}},{code:"BO",name:"Bolivia",currency:{code:"BOB",symbol:"Bs."}},{code:"BR",name:"Brasil",currency:{code:"BRL",symbol:"R$"}},{code:"CL",name:"Chile",currency:{code:"CLP",symbol:"$"}},{code:"CO",name:"Colombia",currency:{code:"COP",symbol:"$"}},{code:"CR",name:"Costa Rica",currency:{code:"CRC",symbol:""}},{code:"EC",name:"Ecuador",currency:{code:"USD",symbol:"$"}},{code:"SV",name:"El Salvador",currency:{code:"USD",symbol:"$"}},{code:"GT",name:"Guatemala",currency:{code:"GTQ",symbol:"Q"}},{code:"HN",name:"Honduras",currency:{code:"HNL",symbol:"L"}},{code:"MX",name:"Mxico",currency:{code:"MXN",symbol:"$"}},{code:"NI",name:"Nicaragua",currency:{code:"NIO",symbol:"C$"}},{code:"PA",name:"Panam",currency:{code:"USD",symbol:"$"}},{code:"PY",name:"Paraguay",currency:{code:"PYG",symbol:""}},{code:"PE",name:"Per",currency:{code:"PEN",symbol:"S/"}},{code:"UY",name:"Uruguay",currency:{code:"UYU",symbol:"$"}},{code:"VE",name:"Venezuela",currency:{code:"VES",symbol:"Bs."}}].sort((t,e)=>t.name.localeCompare(e.name)),uk=X.createContext(null);function Al(){const t=X.useContext(uk);if(!t)throw new Error("useCurrency must be used within a CurrencyProvider");return t}function Oj({children:t}){const[e,n]=X.useState(null),[r,i]=X.useState(!0),{currentUser:s}=gu();X.useEffect(()=>{(async()=>{if(!s){n(null),i(!1);return}try{const{data:l,error:c}=await It.from("users").select("country_code").eq("id",s.id).single();if(c)throw c;if(l!=null&&l.country_code){const u=kd.find(h=>h.code===l.country_code);u&&n(u)}}catch(l){console.error("Error loading user preferences:",l)}finally{i(!1)}})()},[s]);const o=async a=>{if(!s)throw new Error("Usuario no autenticado");try{const{error:l}=await It.from("users").update({country_code:a.code,updated_at:new Date().toISOString()}).eq("id",s.id);if(l)throw l;n(a)}catch(l){throw console.error("Error saving user preferences:",l),new Error("No se pudo guardar la preferencia de pas")}};return P.jsx(uk.Provider,{value:{country:e,setCountry:o,loading:r},children:t})}function Tj(){const t=Qi(),e=()=>{t("/login",{state:{mode:"register"}})};return P.jsx("section",{className:"container mx-auto px-6 py-16 text-center",children:P.jsxs("div",{className:"max-w-4xl mx-auto",children:[P.jsx("h1",{className:"text-5xl font-bold text-white leading-tight mb-8",children:"Organiza tus Finanzas Con AI de Forma Fcil y Segura"}),P.jsx("p",{className:"text-xl text-emerald-50 mb-12",children:"Escanea recibos, genera reportes y simplifica tu contabilidad en un solo lugar"}),P.jsxs("div",{className:"flex gap-4 justify-center",children:[P.jsx("button",{onClick:e,className:"bg-white text-emerald-600 px-8 py-4 rounded-lg font-semibold hover:bg-emerald-50 transition-colors text-lg",children:"Empieza Ahora Gratis"}),P.jsx("button",{onClick:e,className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white/10 transition-colors text-lg",children:"Ver Demo"})]})]})})}const Ij=[{icon:"",title:"Escaneo de recibos con tecnologa OCR",description:"Digitaliza tus documentos al instante con reconocimiento inteligente de texto."},{icon:"",title:"Reportes financieros claros",description:"Visualiza tus finanzas con grficos intuitivos y reportes detallados."},{icon:"",title:"Asistencia en vivo 24/7 con IA",description:"Obtn respuestas instantneas a tus dudas con nuestro asistente virtual."},{icon:"",title:"Seguridad avanzada",description:"Tus datos estn protegidos con los ms altos estndares de seguridad."}];function Rj(){return P.jsxs("section",{className:"container mx-auto px-6 py-24",children:[P.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-16",children:"Por qu elegir CASH AI?"}),P.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:Ij.map((t,e)=>P.jsxs("div",{className:"bg-white/10 backdrop-blur-lg p-8 rounded-xl text-white hover:transform hover:scale-105 transition-transform",children:[P.jsx("div",{className:"text-4xl mb-4",children:t.icon}),P.jsx("h3",{className:"text-xl font-semibold mb-3",children:t.title}),P.jsx("p",{className:"text-emerald-50",children:t.description})]},e))})]})}const Mj=[{number:"1",title:"Regstrate y crea tu cuenta",description:"Proceso simple y rpido, sin complicaciones."},{number:"2",title:"Escanea tus recibos",description:"Usa la cmara de tu dispositivo o sube tus documentos."},{number:"3",title:"Obtn insights financieros",description:"Analiza tus finanzas con reportes detallados."}];function Fj(){return P.jsxs("section",{className:"container mx-auto px-6 py-24",children:[P.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-16",children:"Cmo empezar?"}),P.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Mj.map((t,e)=>P.jsxs("div",{className:"relative bg-white/10 backdrop-blur-lg p-8 rounded-xl text-white",children:[P.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center text-2xl font-bold",children:t.number}),P.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:t.title}),P.jsx("p",{className:"text-emerald-50",children:t.description})]},e))})]})}const Dj=[{name:"Ana Garca",role:"Emprendedora",image:"/avatars/ana.jpg",quote:"CASH AI ha simplificado completamente la gestin de mis finanzas. Es increble!"},{name:"Carlos Rodrguez",role:"Contador",image:"/avatars/carlos.jpg",quote:"La precisin del OCR y los reportes automticos me ahorran horas de trabajo."},{name:"Mara Torres",role:"Duea de Negocio",image:"/avatars/maria.jpg",quote:"El asistente virtual es como tener un asesor financiero 24/7."}];function Bj(){return P.jsxs("section",{className:"container mx-auto px-6 py-24",children:[P.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-16",children:"Lo que dicen nuestros usuarios"}),P.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Dj.map((t,e)=>P.jsxs("div",{className:"bg-white/10 backdrop-blur-lg p-8 rounded-xl text-white",children:[P.jsxs("div",{className:"flex items-center mb-4",children:[P.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500 mr-4"}),P.jsxs("div",{children:[P.jsx("h4",{className:"font-semibold",children:t.name}),P.jsx("p",{className:"text-emerald-200 text-sm",children:t.role})]})]}),P.jsxs("p",{className:"text-emerald-50 italic",children:['"',t.quote,'"']})]},e))})]})}function $j(){const t=Qi(),e=()=>{t("/login",{state:{mode:"register"}})};return P.jsxs("section",{className:"container mx-auto px-6 py-24 text-center",children:[P.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Empieza a organizar tus finanzas hoy mismo"}),P.jsx("button",{onClick:e,className:"bg-white text-emerald-600 px-8 py-4 rounded-lg font-semibold hover:bg-emerald-50 transition-colors text-lg",children:"Crea tu Cuenta Gratis"})]})}function zj(){const t=Qi(),e=()=>{t("/login")},n=()=>{t("/login",{state:{mode:"register"}})};return P.jsx("header",{className:"container mx-auto px-6 py-4",children:P.jsxs("nav",{className:"flex justify-between items-center",children:[P.jsx("div",{className:"flex items-center",children:P.jsx("span",{className:"text-2xl font-bold text-white",children:"CASH AI"})}),P.jsxs("div",{className:"flex items-center space-x-4",children:[P.jsx("button",{onClick:e,className:"text-white hover:text-emerald-100",children:"Iniciar Sesin"}),P.jsx("button",{onClick:n,className:"bg-white text-emerald-600 px-4 py-2 rounded-lg font-semibold hover:bg-emerald-50 transition-colors",children:"Regstrate Gratis"})]})]})})}function Uj(){return P.jsx("footer",{className:"container mx-auto px-6 py-8 text-white",children:P.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[P.jsx("p",{className:"text-sm mb-4 md:mb-0",children:" 2024 CASH AI. Todos los derechos reservados."}),P.jsxs("div",{className:"flex space-x-6",children:[P.jsx("a",{href:"/terms",className:"text-sm hover:text-emerald-200",children:"Trminos y Condiciones"}),P.jsx("a",{href:"/privacy",className:"text-sm hover:text-emerald-200",children:"Poltica de Privacidad"}),P.jsx("a",{href:"/contact",className:"text-sm hover:text-emerald-200",children:"Contacto"})]})]})})}function Hj(){return P.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 to-emerald-700",children:[P.jsx(zj,{}),P.jsxs("main",{children:[P.jsx(Tj,{}),P.jsx(Rj,{}),P.jsx(Fj,{}),P.jsx(Bj,{}),P.jsx($j,{})]}),P.jsx(Uj,{})]})}function ei({type:t="info",message:e}){const n={success:"bg-green-100 text-green-700",error:"bg-red-100 text-red-700",warning:"bg-yellow-100 text-yellow-700",info:"bg-blue-100 text-blue-700"};return P.jsx("div",{className:`mb-4 p-4 rounded-lg text-sm ${n[t]}`,children:e})}function hk(){const t=_l(),e=Qi(),n=t.pathname==="/login",r=()=>{e("/login",{state:{mode:"register"}})};return P.jsx("header",{className:"bg-white shadow-sm",children:P.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:P.jsxs("div",{className:"flex justify-between items-center h-16",children:[P.jsx(Lr,{to:"/",className:"flex items-center",children:P.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:"CASH AI"})}),P.jsxs("nav",{className:"flex space-x-4",children:[!n&&P.jsx(Lr,{to:"/login",className:"text-gray-700 hover:text-emerald-600 px-3 py-2 rounded-md text-sm font-medium",children:"Iniciar Sesin"}),P.jsx("button",{onClick:r,className:"bg-emerald-600 text-white hover:bg-emerald-700 px-3 py-2 rounded-md text-sm font-medium",children:"Registrarse"})]})]})})})}function Wj(){const t=Qi(),e=_l(),{login:n,register:r}=gu(),[i,s]=X.useState(!0),[o,a]=X.useState(""),[l,c]=X.useState(""),[u,h]=X.useState(""),[p,f]=X.useState(""),[m,v]=X.useState(!1);X.useEffect(()=>{var y;((y=e.state)==null?void 0:y.mode)==="register"&&s(!1)},[e.state]);const x=async y=>{y.preventDefault(),f(""),v(!0);try{if(i){const w=await n(o,l);console.log("Login result:",w)}else{if(!u.trim())throw new Error("Por favor ingrese su nombre");await r(o,l,u)}t("/select-country")}catch(w){f(w instanceof Error?w.message:"Error en la autenticacin")}finally{v(!1)}};return P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(hk,{}),P.jsx("main",{className:"flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:P.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[P.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:i?"Iniciar Sesin":"Registrarse"}),p&&P.jsx(ei,{type:"error",message:p}),P.jsxs("form",{onSubmit:x,className:"space-y-4",children:[!i&&P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),P.jsx("input",{type:"text",value:u,onChange:y=>h(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",required:!i,disabled:m,placeholder:"Tu nombre completo"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),P.jsx("input",{type:"email",value:o,onChange:y=>a(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",required:!0,disabled:m,placeholder:"correo@ejemplo.com"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),P.jsx("input",{type:"password",value:l,onChange:y=>c(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",required:!0,disabled:m,minLength:6,placeholder:"Mnimo 6 caracteres"})]}),i&&P.jsx("div",{className:"text-right",children:P.jsx(Lr,{to:"/forgot-password",className:"text-sm text-emerald-600 hover:text-emerald-800",children:"Olvidaste tu contrasea?"})}),P.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-md hover:bg-emerald-700 disabled:opacity-50",disabled:m,children:m?"Procesando...":i?"Iniciar Sesin":"Registrarse"})]}),P.jsx("div",{className:"mt-4 text-center",children:P.jsx("button",{onClick:()=>{s(!i),f("")},className:"text-emerald-600 hover:text-emerald-800",disabled:m,children:i?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})})]})})]})}function qj(){const t=Qi(),{setCountry:e,country:n,loading:r}=Al(),[i,s]=Wt.useState(null),[o,a]=Wt.useState(!1);X.useEffect(()=>{!r&&n&&t("/home")},[n,r,t]);const l=async c=>{const u=kd.find(h=>h.code===c.target.value);if(u){s(null),a(!0);try{await e(u),t("/home")}catch{s("No se pudo guardar tu preferencia. Por favor, intenta nuevamente.")}finally{a(!1)}}};return r?P.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:P.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):P.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:P.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[P.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Selecciona tu pas"}),P.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Esto nos ayudar a mostrar la moneda correcta para tus transacciones"}),i&&P.jsx(ei,{type:"error",message:i}),P.jsxs("div",{className:"relative",children:[P.jsxs("select",{onChange:l,defaultValue:"",className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white disabled:opacity-50",disabled:o,children:[P.jsx("option",{value:"",disabled:!0,children:"Selecciona un pas"}),kd.map(c=>P.jsxs("option",{value:c.code,children:[c.name," (",c.currency.code," ",c.currency.symbol,")"]},c.code))]}),P.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:P.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:P.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),P.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:P.jsx("p",{children:"Podrs cambiar tu pas ms adelante en la configuracin"})})]})})}var Vj=Object.defineProperty,Gj=(t,e,n)=>e in t?Vj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n1=(t,e,n)=>(Gj(t,typeof e!="symbol"?e+"":e,n),n);let Yj=class{constructor(){n1(this,"current",this.detect()),n1(this,"handoffState","pending"),n1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},il=new Yj,vr=(t,e)=>{il.isServer?X.useEffect(t,e):X.useLayoutEffect(t,e)};function Xa(t){let e=X.useRef(t);return vr(()=>{e.current=t},[t]),e}let Rt=function(t){let e=Xa(t);return Wt.useCallback((...n)=>e.current(...n),[e])};function Kj(t,e,n){let[r,i]=X.useState(n),s=t!==void 0,o=X.useRef(s),a=X.useRef(!1),l=X.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:r,Rt(c=>(s||i(c),e==null?void 0:e(c)))]}function dk(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function eu(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return dk(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=eu();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Fy(){let[t]=X.useState(eu);return X.useEffect(()=>()=>t.dispose(),[t]),t}function Jj(){let t=typeof document>"u";return"useSyncExternalStore"in B1?(e=>e.useSyncExternalStore)(B1)(()=>()=>{},()=>!1,()=>!t):!1}function Xj(){let t=Jj(),[e,n]=X.useState(il.isHandoffComplete);return e&&il.isHandoffComplete===!1&&n(!1),X.useEffect(()=>{e!==!0&&n(!0)},[e]),X.useEffect(()=>il.handoff(),[]),t?!1:e}var Qb;let ga=(Qb=Wt.useId)!=null?Qb:function(){let t=Xj(),[e,n]=Wt.useState(t?()=>il.nextId():null);return vr(()=>{e===null&&n(il.nextId())},[e]),e!=null?""+e:void 0};function Es(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Es),r}function Yd(t){return il.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let Hv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Yr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Yr||{}),xh=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(xh||{}),Qj=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Qj||{});function fk(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Hv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Dy=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Dy||{});function By(t,e=0){var n;return t===((n=Yd(t))==null?void 0:n.body)?!1:Es(e,{0(){return t.matches(Hv)},1(){let r=t;for(;r!==null;){if(r.matches(Hv))return!0;r=r.parentElement}return!1}})}function pk(t){let e=Yd(t);eu().nextFrame(()=>{e&&!By(e.activeElement,0)&&e7(t)})}var Zj=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Zj||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function e7(t){t==null||t.focus({preventScroll:!0})}let t7=["textarea","input"].join(",");function n7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,t7))!=null?n:!1}function Qa(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function r7(t,e){return Ma(fk(),e,{relativeTo:t})}function Ma(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?Qa(t):t:fk(t);i.length>0&&o.length>1&&(o=o.filter(f=>!i.includes(f))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,p;do{if(u>=h||u+h<=0)return 0;let f=l+u;if(e&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}p=o[f],p==null||p.focus(c),u+=a}while(p!==s.activeElement);return e&6&&n7(p)&&p.select(),2}function i7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function s7(){return/Android/gi.test(window.navigator.userAgent)}function o7(){return i7()||s7()}function vp(t,e,n){let r=Xa(e);X.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function a7(t,e,n){let r=Xa(e);X.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function l7(t,e,n=!0){let r=X.useRef(!1);X.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function u(h){return typeof h=="function"?u(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let u of c){if(u===null)continue;let h=u instanceof HTMLElement?u:u.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!By(l,Dy.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=X.useRef(null);vp("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),vp("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),vp("click",o=>{o7()||s.current&&(i(o,()=>s.current),s.current=null)},!0),vp("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),a7("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function c7(...t){return X.useMemo(()=>Yd(...t),[...t])}function Zb(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function $y(t,e){let[n,r]=X.useState(()=>Zb(t));return vr(()=>{r(Zb(t))},[t.type,t.as]),vr(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let u7=Symbol();function _i(...t){let e=X.useRef(t);X.useEffect(()=>{e.current=t},[t]);let n=Rt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[u7]))?void 0:n}function ex(t){return[t.screenX,t.screenY]}function h7(){let t=X.useRef([-1,-1]);return{wasMoved(e){let n=ex(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=ex(e)}}}function d7({container:t,accept:e,walk:n,enabled:r=!0}){let i=X.useRef(e),s=X.useRef(n);X.useEffect(()=>{i.current=e,s.current=n},[e,n]),vr(()=>{if(!t||!r)return;let o=Yd(t);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[t,r,i,s])}function tx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Ad=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ad||{}),f7=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(f7||{});function Dr({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??p7;let l=gk(e,t);if(s)return yp(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return yp(h,n,r,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return Es(u?0:1,{0(){return null},1(){return yp({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return yp(l,n,r,o,a)}function yp(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=r1(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let p=!1,f=[];for(let[m,v]of Object.entries(e))typeof v=="boolean"&&(p=!0),v===!0&&f.push(m);p&&(h["data-headlessui-state"]=f.join(" "))}if(s===X.Fragment&&Object.keys(Wv(l)).length>0){if(!X.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let p=u.props,f=typeof(p==null?void 0:p.className)=="function"?(...v)=>tx(p==null?void 0:p.className(...v),l.className):tx(p==null?void 0:p.className,l.className),m=f?{className:f}:{};return X.cloneElement(u,Object.assign({},gk(u.props,Wv(r1(l,["ref"]))),h,c,{ref:i(u.ref,c.ref)},m))}return X.createElement(s,Object.assign({},r1(l,["ref"]),s!==X.Fragment&&c,s!==X.Fragment&&h),u)}function p7(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function gk(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function ri(t){var e;return Object.assign(X.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Wv(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function r1(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let g7="div";var zy=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(zy||{});function m7(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Dr({ourProps:s,theirProps:i,slot:{},defaultTag:g7,name:"Hidden"})}let Uy=ri(m7),Hy=X.createContext(null);Hy.displayName="OpenClosedContext";var Pd=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Pd||{});function v7(){return X.useContext(Hy)}function y7({value:t,children:e}){return Wt.createElement(Hy.Provider,{value:t},e)}function mk(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&w7(n)?!1:r}function w7(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function b7(t){throw new Error("Unexpected object: "+t)}var qi=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(qi||{});function x7(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:b7(t)}}function _7(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let i of r.elements)if(i!==t&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}var Pt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Pt||{});function S7(){let t=X.useRef(!1);return vr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}let vk=X.createContext(null);function yk(){let t=X.useContext(vk);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,yk),e}return t}function k7(){let[t,e]=X.useState([]);return[t.length>0?t.join(" "):void 0,X.useMemo(()=>function(n){let r=Rt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=X.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return Wt.createElement(vk.Provider,{value:i},n.children)},[e])]}let A7="p";function P7(t,e){let n=ga(),{id:r=`headlessui-description-${n}`,...i}=t,s=yk(),o=_i(e);vr(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return Dr({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:A7,name:s.name||"Description"})}let N7=ri(P7),C7=Object.assign(N7,{}),nx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function rx(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return nx.test(o)&&(o=o.replace(nx,"")),o}function E7(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():rx(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return rx(t).trim()}function L7(t){let e=X.useRef(""),n=X.useRef("");return Rt(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=E7(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var j7=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(j7||{}),O7=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(O7||{}),T7=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(T7||{});function i1(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=Qa(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let I7={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=i1(t),i=x7(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=i1(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=i1(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},Wy=X.createContext(null);Wy.displayName="MenuContext";function Nm(t){let e=X.useContext(Wy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Nm),n}return e}function R7(t,e){return Es(e.type,I7,t,e)}let M7=X.Fragment;function F7(t,e){let{__demoMode:n=!1,...r}=t,i=X.useReducer(R7,{__demoMode:n,menuState:n?0:1,buttonRef:X.createRef(),itemsRef:X.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,c=_i(e);l7([a,o],(f,m)=>{var v;l({type:1}),By(m,Dy.Loose)||(f.preventDefault(),(v=a.current)==null||v.focus())},s===0);let u=Rt(()=>{l({type:1})}),h=X.useMemo(()=>({open:s===0,close:u}),[s,u]),p={ref:c};return Wt.createElement(Wy.Provider,{value:i},Wt.createElement(y7,{value:Es(s,{0:Pd.Open,1:Pd.Closed})},Dr({ourProps:p,theirProps:r,slot:h,defaultTag:M7,name:"Menu"})))}let D7="button";function B7(t,e){var n;let r=ga(),{id:i=`headlessui-menu-button-${r}`,...s}=t,[o,a]=Nm("Menu.Button"),l=_i(o.buttonRef,e),c=Fy(),u=Rt(v=>{switch(v.key){case Pt.Space:case Pt.Enter:case Pt.ArrowDown:v.preventDefault(),v.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:qi.First}));break;case Pt.ArrowUp:v.preventDefault(),v.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:qi.Last}));break}}),h=Rt(v=>{switch(v.key){case Pt.Space:v.preventDefault();break}}),p=Rt(v=>{if(mk(v.currentTarget))return v.preventDefault();t.disabled||(o.menuState===0?(a({type:1}),c.nextFrame(()=>{var x;return(x=o.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(v.preventDefault(),a({type:0})))}),f=X.useMemo(()=>({open:o.menuState===0}),[o]),m={ref:l,id:i,type:$y(t,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:u,onKeyUp:h,onClick:p};return Dr({ourProps:m,theirProps:s,slot:f,defaultTag:D7,name:"Menu.Button"})}let $7="div",z7=Ad.RenderStrategy|Ad.Static;function U7(t,e){var n,r;let i=ga(),{id:s=`headlessui-menu-items-${i}`,...o}=t,[a,l]=Nm("Menu.Items"),c=_i(a.itemsRef,e),u=c7(a.itemsRef),h=Fy(),p=v7(),f=p!==null?(p&Pd.Open)===Pd.Open:a.menuState===0;X.useEffect(()=>{let w=a.itemsRef.current;w&&a.menuState===0&&w!==(u==null?void 0:u.activeElement)&&w.focus({preventScroll:!0})},[a.menuState,a.itemsRef,u]),d7({container:a.itemsRef.current,enabled:a.menuState===0,accept(w){return w.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:w.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(w){w.setAttribute("role","none")}});let m=Rt(w=>{var _,k;switch(h.dispose(),w.key){case Pt.Space:if(a.searchQuery!=="")return w.preventDefault(),w.stopPropagation(),l({type:3,value:w.key});case Pt.Enter:if(w.preventDefault(),w.stopPropagation(),l({type:1}),a.activeItemIndex!==null){let{dataRef:N}=a.items[a.activeItemIndex];(k=(_=N.current)==null?void 0:_.domRef.current)==null||k.click()}pk(a.buttonRef.current);break;case Pt.ArrowDown:return w.preventDefault(),w.stopPropagation(),l({type:2,focus:qi.Next});case Pt.ArrowUp:return w.preventDefault(),w.stopPropagation(),l({type:2,focus:qi.Previous});case Pt.Home:case Pt.PageUp:return w.preventDefault(),w.stopPropagation(),l({type:2,focus:qi.First});case Pt.End:case Pt.PageDown:return w.preventDefault(),w.stopPropagation(),l({type:2,focus:qi.Last});case Pt.Escape:w.preventDefault(),w.stopPropagation(),l({type:1}),eu().nextFrame(()=>{var N;return(N=a.buttonRef.current)==null?void 0:N.focus({preventScroll:!0})});break;case Pt.Tab:w.preventDefault(),w.stopPropagation(),l({type:1}),eu().nextFrame(()=>{r7(a.buttonRef.current,w.shiftKey?Yr.Previous:Yr.Next)});break;default:w.key.length===1&&(l({type:3,value:w.key}),h.setTimeout(()=>l({type:4}),350));break}}),v=Rt(w=>{switch(w.key){case Pt.Space:w.preventDefault();break}}),x=X.useMemo(()=>({open:a.menuState===0}),[a]),y={"aria-activedescendant":a.activeItemIndex===null||(n=a.items[a.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=a.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:m,onKeyUp:v,role:"menu",tabIndex:0,ref:c};return Dr({ourProps:y,theirProps:o,slot:x,defaultTag:$7,features:z7,visible:f,name:"Menu.Items"})}let H7=X.Fragment;function W7(t,e){let n=ga(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=Nm("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,c=X.useRef(null),u=_i(e,c);vr(()=>{if(o.__demoMode||o.menuState!==0||!l||o.activationTrigger===0)return;let N=eu();return N.requestAnimationFrame(()=>{var T,E;(E=(T=c.current)==null?void 0:T.scrollIntoView)==null||E.call(T,{block:"nearest"})}),N.dispose},[o.__demoMode,c,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=L7(c),p=X.useRef({disabled:i,domRef:c,get textValue(){return h()}});vr(()=>{p.current.disabled=i},[p,i]),vr(()=>(a({type:5,id:r,dataRef:p}),()=>a({type:6,id:r})),[p,r]);let f=Rt(()=>{a({type:1})}),m=Rt(N=>{if(i)return N.preventDefault();a({type:1}),pk(o.buttonRef.current)}),v=Rt(()=>{if(i)return a({type:2,focus:qi.Nothing});a({type:2,focus:qi.Specific,id:r})}),x=h7(),y=Rt(N=>x.update(N)),w=Rt(N=>{x.wasMoved(N)&&(i||l||a({type:2,focus:qi.Specific,id:r,trigger:0}))}),_=Rt(N=>{x.wasMoved(N)&&(i||l&&a({type:2,focus:qi.Nothing}))}),k=X.useMemo(()=>({active:l,disabled:i,close:f}),[l,i,f]);return Dr({ourProps:{id:r,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:m,onFocus:v,onPointerEnter:y,onMouseEnter:y,onPointerMove:w,onMouseMove:w,onPointerLeave:_,onMouseLeave:_},theirProps:s,slot:k,defaultTag:H7,name:"Menu.Item"})}let q7=ri(F7),V7=ri(B7),G7=ri(U7),Y7=ri(W7),ah=Object.assign(q7,{Button:V7,Items:G7,Item:Y7}),wk=X.createContext(null);function bk(){let t=X.useContext(wk);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,bk),e}return t}function K7(){let[t,e]=X.useState([]);return[t.length>0?t.join(" "):void 0,X.useMemo(()=>function(n){let r=Rt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=X.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return Wt.createElement(wk.Provider,{value:i},n.children)},[e])]}let J7="label";function X7(t,e){let n=ga(),{id:r=`headlessui-label-${n}`,passive:i=!1,...s}=t,o=bk(),a=_i(e);vr(()=>o.register(r),[r,o.register]);let l={ref:a,...o.props,id:r};return i&&("onClick"in l&&(delete l.htmlFor,delete l.onClick),"onClick"in s&&delete s.onClick),Dr({ourProps:l,theirProps:s,slot:o.slot||{},defaultTag:J7,name:o.name||"Label"})}let Q7=ri(X7),Z7=Object.assign(Q7,{}),qy=X.createContext(null);qy.displayName="GroupContext";let eO=X.Fragment;function tO(t){var e;let[n,r]=X.useState(null),[i,s]=K7(),[o,a]=k7(),l=X.useMemo(()=>({switch:n,setSwitch:r,labelledby:i,describedby:o}),[n,r,i,o]),c={},u=t;return Wt.createElement(a,{name:"Switch.Description"},Wt.createElement(s,{name:"Switch.Label",props:{htmlFor:(e=l.switch)==null?void 0:e.id,onClick(h){n&&(h.currentTarget.tagName==="LABEL"&&h.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},Wt.createElement(qy.Provider,{value:l},Dr({ourProps:c,theirProps:u,defaultTag:eO,name:"Switch.Group"}))))}let nO="button";function rO(t,e){var n;let r=ga(),{id:i=`headlessui-switch-${r}`,checked:s,defaultChecked:o=!1,onChange:a,disabled:l=!1,name:c,value:u,form:h,...p}=t,f=X.useContext(qy),m=X.useRef(null),v=_i(m,e,f===null?null:f.setSwitch),[x,y]=Kj(s,a,o),w=Rt(()=>y==null?void 0:y(!x)),_=Rt(F=>{if(mk(F.currentTarget))return F.preventDefault();F.preventDefault(),w()}),k=Rt(F=>{F.key===Pt.Space?(F.preventDefault(),w()):F.key===Pt.Enter&&_7(F.currentTarget)}),N=Rt(F=>F.preventDefault()),T=X.useMemo(()=>({checked:x}),[x]),E={id:i,ref:v,role:"switch",type:$y(t,m),tabIndex:t.tabIndex===-1?0:(n=t.tabIndex)!=null?n:0,"aria-checked":x,"aria-labelledby":f==null?void 0:f.labelledby,"aria-describedby":f==null?void 0:f.describedby,disabled:l,onClick:_,onKeyUp:k,onKeyPress:N},L=Fy();return X.useEffect(()=>{var F;let z=(F=m.current)==null?void 0:F.closest("form");z&&o!==void 0&&L.addEventListener(z,"reset",()=>{y(o)})},[m,y]),Wt.createElement(Wt.Fragment,null,c!=null&&x&&Wt.createElement(Uy,{features:zy.Hidden,...Wv({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:l,form:h,checked:x,name:c,value:u})}),Dr({ourProps:E,theirProps:p,slot:T,defaultTag:nO,name:"Switch"}))}let iO=ri(rO),sO=tO,oO=Object.assign(iO,{Group:sO,Label:Z7,Description:C7});function aO({onFocus:t}){let[e,n]=X.useState(!0),r=S7();return e?Wt.createElement(Uy,{as:"button",type:"button",features:zy.Focusable,onFocus:i=>{i.preventDefault();let s,o=50;function a(){if(o--<=0){s&&cancelAnimationFrame(s);return}if(t()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(a)}s=requestAnimationFrame(a)}}):null}const xk=X.createContext(null);function lO(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let i=(n=r.get(e))!=null?n:0;r.set(e,i+1);let s=Array.from(r.keys()).indexOf(e);function o(){let a=r.get(e);a>1?r.set(e,a-1):r.delete(e)}return[s,o]}}}function cO({children:t}){let e=X.useRef(lO());return X.createElement(xk.Provider,{value:e},t)}function _k(t){let e=X.useContext(xk);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=uO(),[r,i]=e.current.get(t,n);return X.useEffect(()=>i,[]),r}function uO(){var t,e,n;let r=(n=(e=(t=X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:t.ReactCurrentOwner)==null?void 0:e.current)!=null?n:null;if(!r)return Symbol();let i=[],s=r;for(;s;)i.push(s.index),s=s.return;return"$."+i.join(".")}var hO=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(hO||{}),dO=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(dO||{}),fO=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(fO||{});let pO={0(t,e){var n;let r=Qa(t.tabs,u=>u.current),i=Qa(t.panels,u=>u.current),s=r.filter(u=>{var h;return!((h=u.current)!=null&&h.hasAttribute("disabled"))}),o={...t,tabs:r,panels:i};if(e.index<0||e.index>r.length-1){let u=Es(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>Es(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return o;let h=Es(u,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...o,selectedIndex:h===-1?t.selectedIndex:h}}let a=r.slice(0,e.index),l=[...r.slice(e.index),...a].find(u=>s.includes(u));if(!l)return o;let c=(n=r.indexOf(l))!=null?n:t.selectedIndex;return c===-1&&(c=t.selectedIndex),{...o,selectedIndex:c}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],r=Qa([...t.tabs,e.tab],s=>s.current),i=t.selectedIndex;return t.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=t.selectedIndex)),{...t,tabs:r,selectedIndex:i}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:Qa([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},Vy=X.createContext(null);Vy.displayName="TabsDataContext";function tu(t){let e=X.useContext(Vy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tu),n}return e}let Gy=X.createContext(null);Gy.displayName="TabsActionsContext";function Yy(t){let e=X.useContext(Gy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yy),n}return e}function gO(t,e){return Es(e.type,pO,t,e)}let mO=X.Fragment;function vO(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:s,selectedIndex:o=null,...a}=t;const l=r?"vertical":"horizontal",c=i?"manual":"auto";let u=o!==null,h=Xa({isControlled:u}),p=_i(e),[f,m]=X.useReducer(gO,{info:h,selectedIndex:o??n,tabs:[],panels:[]}),v=X.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),x=Xa(s||(()=>{})),y=Xa(f.tabs),w=X.useMemo(()=>({orientation:l,activation:c,...f}),[l,c,f]),_=Rt(F=>(m({type:1,tab:F}),()=>m({type:2,tab:F}))),k=Rt(F=>(m({type:3,panel:F}),()=>m({type:4,panel:F}))),N=Rt(F=>{T.current!==F&&x.current(F),u||m({type:0,index:F})}),T=Xa(u?t.selectedIndex:f.selectedIndex),E=X.useMemo(()=>({registerTab:_,registerPanel:k,change:N}),[]);vr(()=>{m({type:0,index:o??n})},[o]),vr(()=>{if(T.current===void 0||f.tabs.length<=0)return;let F=Qa(f.tabs,z=>z.current);F.some((z,C)=>f.tabs[C]!==z)&&N(F.indexOf(f.tabs[T.current]))});let L={ref:p};return Wt.createElement(cO,null,Wt.createElement(Gy.Provider,{value:E},Wt.createElement(Vy.Provider,{value:w},w.tabs.length<=0&&Wt.createElement(aO,{onFocus:()=>{var F,z;for(let C of y.current)if(((F=C.current)==null?void 0:F.tabIndex)===0)return(z=C.current)==null||z.focus(),!0;return!1}}),Dr({ourProps:L,theirProps:a,slot:v,defaultTag:mO,name:"Tabs"}))))}let yO="div";function wO(t,e){let{orientation:n,selectedIndex:r}=tu("Tab.List"),i=_i(e);return Dr({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:t,slot:{selectedIndex:r},defaultTag:yO,name:"Tabs.List"})}let bO="button";function xO(t,e){var n,r;let i=ga(),{id:s=`headlessui-tabs-tab-${i}`,...o}=t,{orientation:a,activation:l,selectedIndex:c,tabs:u,panels:h}=tu("Tab"),p=Yy("Tab"),f=tu("Tab"),m=X.useRef(null),v=_i(m,e);vr(()=>p.registerTab(m),[p,m]);let x=_k("tabs"),y=u.indexOf(m);y===-1&&(y=x);let w=y===c,_=Rt(z=>{var C;let O=z();if(O===xh.Success&&l==="auto"){let H=(C=Yd(m))==null?void 0:C.activeElement,W=f.tabs.findIndex(ie=>ie.current===H);W!==-1&&p.change(W)}return O}),k=Rt(z=>{let C=u.map(O=>O.current).filter(Boolean);if(z.key===Pt.Space||z.key===Pt.Enter){z.preventDefault(),z.stopPropagation(),p.change(y);return}switch(z.key){case Pt.Home:case Pt.PageUp:return z.preventDefault(),z.stopPropagation(),_(()=>Ma(C,Yr.First));case Pt.End:case Pt.PageDown:return z.preventDefault(),z.stopPropagation(),_(()=>Ma(C,Yr.Last))}if(_(()=>Es(a,{vertical(){return z.key===Pt.ArrowUp?Ma(C,Yr.Previous|Yr.WrapAround):z.key===Pt.ArrowDown?Ma(C,Yr.Next|Yr.WrapAround):xh.Error},horizontal(){return z.key===Pt.ArrowLeft?Ma(C,Yr.Previous|Yr.WrapAround):z.key===Pt.ArrowRight?Ma(C,Yr.Next|Yr.WrapAround):xh.Error}}))===xh.Success)return z.preventDefault()}),N=X.useRef(!1),T=Rt(()=>{var z;N.current||(N.current=!0,(z=m.current)==null||z.focus({preventScroll:!0}),p.change(y),dk(()=>{N.current=!1}))}),E=Rt(z=>{z.preventDefault()}),L=X.useMemo(()=>{var z;return{selected:w,disabled:(z=t.disabled)!=null?z:!1}},[w,t.disabled]),F={ref:v,onKeyDown:k,onMouseDown:E,onClick:T,id:s,role:"tab",type:$y(t,m),"aria-controls":(r=(n=h[y])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":w,tabIndex:w?0:-1};return Dr({ourProps:F,theirProps:o,slot:L,defaultTag:bO,name:"Tabs.Tab"})}let _O="div";function SO(t,e){let{selectedIndex:n}=tu("Tab.Panels"),r=_i(e),i=X.useMemo(()=>({selectedIndex:n}),[n]);return Dr({ourProps:{ref:r},theirProps:t,slot:i,defaultTag:_O,name:"Tabs.Panels"})}let kO="div",AO=Ad.RenderStrategy|Ad.Static;function PO(t,e){var n,r,i,s;let o=ga(),{id:a=`headlessui-tabs-panel-${o}`,tabIndex:l=0,...c}=t,{selectedIndex:u,tabs:h,panels:p}=tu("Tab.Panel"),f=Yy("Tab.Panel"),m=X.useRef(null),v=_i(m,e);vr(()=>f.registerPanel(m),[f,m,a]);let x=_k("panels"),y=p.indexOf(m);y===-1&&(y=x);let w=y===u,_=X.useMemo(()=>({selected:w}),[w]),k={ref:v,id:a,role:"tabpanel","aria-labelledby":(r=(n=h[y])==null?void 0:n.current)==null?void 0:r.id,tabIndex:w?l:-1};return!w&&((i=c.unmount)==null||i)&&!((s=c.static)!=null&&s)?Wt.createElement(Uy,{as:"span","aria-hidden":"true",...k}):Dr({ourProps:k,theirProps:c,slot:_,defaultTag:kO,features:AO,visible:w,name:"Tabs.Panel"})}let NO=ri(xO),CO=ri(vO),EO=ri(wO),LO=ri(SO),jO=ri(PO),lh=Object.assign(NO,{Group:CO,List:EO,Panels:LO,Panel:jO});function OO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const TO=X.forwardRef(OO);function IO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const RO=X.forwardRef(IO);function MO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const FO=X.forwardRef(MO);function DO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const BO=X.forwardRef(DO);function $O({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const zO=X.forwardRef($O);function UO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const HO=X.forwardRef(UO);function WO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const qO=X.forwardRef(WO);function VO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const GO=X.forwardRef(VO);function YO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const KO=X.forwardRef(YO);function JO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const XO=X.forwardRef(JO);function QO({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const ZO=X.forwardRef(QO);function eT({title:t,titleId:e,...n},r){return X.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?X.createElement("title",{id:e},t):null,X.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const tT=X.forwardRef(eT);function nu(){const{logout:t,userData:e}=gu(),n=async()=>{try{await t()}catch(r){console.error("Error al cerrar sesin:",r)}};return P.jsx("header",{className:"bg-white shadow-sm",children:P.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:P.jsxs("div",{className:"flex justify-between items-center h-16",children:[P.jsx(Lr,{to:"/home",className:"flex items-center",children:P.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:"CASH AI"})}),P.jsxs("nav",{className:"hidden md:flex space-x-8",children:[P.jsx(Lr,{to:"/home",className:"text-gray-700 hover:text-emerald-600",children:"Dashboard"}),P.jsx(Lr,{to:"/reports",className:"text-gray-700 hover:text-emerald-600",children:"Reportes"}),P.jsxs(Lr,{to:"/chat",className:"text-gray-700 hover:text-emerald-600 flex items-center",children:[P.jsx(BO,{className:"h-5 w-5 mr-1"}),"Chat"]}),P.jsx(Lr,{to:"/support",className:"text-gray-700 hover:text-emerald-600",children:"Soporte"})]}),P.jsx("div",{className:"flex items-center",children:P.jsxs(ah,{as:"div",className:"relative ml-3",children:[P.jsxs(ah.Button,{className:"flex items-center",children:[P.jsx(tT,{className:"h-8 w-8 text-gray-400"}),P.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e==null?void 0:e.name})]}),P.jsxs(ah.Items,{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5",children:[P.jsx(ah.Item,{children:({active:r})=>P.jsx(Lr,{to:"/settings",className:`${r?"bg-gray-100":""} block px-4 py-2 text-sm text-gray-700`,children:"Configuracin"})}),P.jsx(ah.Item,{children:({active:r})=>P.jsx("button",{onClick:n,className:`${r?"bg-gray-100":""} block w-full text-left px-4 py-2 text-sm text-gray-700`,children:"Cerrar Sesin"})})]})]})})]})})})}function ru(){return P.jsx("footer",{className:"bg-white border-t",children:P.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs("p",{className:"text-sm text-gray-500",children:[" ",new Date().getFullYear()," CASH AI. Todos los derechos reservados."]}),P.jsxs("div",{className:"space-x-4",children:[P.jsx(Lr,{to:"/terms",className:"text-sm text-gray-500 hover:text-gray-700",children:"Trminos y Condiciones"}),P.jsx(Lr,{to:"/privacy",className:"text-sm text-gray-500 hover:text-gray-700",children:"Poltica de Privacidad"})]})]})})})}function ks({label:t,type:e="text",value:n,onChange:r,required:i=!1,placeholder:s,error:o}){return P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),P.jsx("input",{type:e,value:n,onChange:a=>r(a.target.value),className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm
          ${o?"border-red-300":"border-gray-300"}`,required:i,placeholder:s}),o&&P.jsx("p",{className:"mt-1 text-sm text-red-600",children:o})]})}function $g({label:t,value:e,onChange:n,options:r,required:i=!1,error:s}){return P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),P.jsxs("select",{value:e,onChange:o=>n(o.target.value),className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm
          ${s?"border-red-300":"border-gray-300"}`,required:i,children:[P.jsx("option",{value:"",children:"Seleccionar"}),r.map(o=>P.jsx("option",{value:o.value,children:o.label},o.value))]}),s&&P.jsx("p",{className:"mt-1 text-sm text-red-600",children:s})]})}function Sk(t){const e=parseFloat(t);return!isNaN(e)&&e>=0}function Bc(t){return t==null?!1:t.trim().length>0}function kk(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function nT(t){const e=[];if(Sk(t.amount.toString())||e.push("El monto debe ser un nmero vlido mayor a 0"),Bc(t.description)||e.push("La descripcin es requerida"),Bc(t.category)||e.push("La categora es requerida"),Bc(t.subcategory)||e.push("La subcategora es requerida"),kk(t.date)||e.push("La fecha es invlida"),e.length>0)throw new Error(e.join(". "))}async function rT(t){const e=(await It.auth.getUser()).data.user;if(!e)throw new Error("Usuario no autenticado");try{let n=It.from("transactions").select("*").eq("user_id",e.id);if(t!=null&&t.month){const s=`${t.month}-01`,o=`${t.month}-31`;n=n.gte("date",s).lte("date",o)}t!=null&&t.type&&(n=n.eq("type",t.type)),n=n.order("date",{ascending:!1}),t!=null&&t.limit&&(n=n.limit(t.limit));const{data:r,error:i}=await n;if(i)throw i;return r}catch(n){throw console.error("Error fetching transactions:",n),n instanceof Error?n:new Error("Error al obtener las transacciones")}}async function iT(t){const e=(await It.auth.getUser()).data.user;if(!e)throw new Error("Usuario no autenticado");try{nT(t);const n={user_id:e.id,type:t.type,amount:t.type==="gasto"?-Math.abs(t.amount):Math.abs(t.amount),description:t.description,category:t.category,subcategory:t.subcategory,date:t.date,created_at:new Date().toISOString(),businessname:t.businessName},{data:r,error:i}=await It.from("transactions").insert(n).select().single();if(i)throw i;return r.id}catch(n){throw console.error("Error adding transaction:",n),n instanceof Error?n:new Error("No se pudo guardar la transaccin")}}const Ua=class Ua{constructor(){}static getInstance(){return Ua.instance||(Ua.instance=new Ua),Ua.instance}async addTransaction(e){return iT(e)}async getTransactionsWithOptions(e){return rT(e)}async getMonthlyStats(e){const n=await this.getTransactionsWithOptions({month:e});return this.getTransactions(n)}async getTransactions(e){return e.reduce((n,r)=>{const i=Math.abs(r.amount);if(r.type==="ingreso")n.ingresos+=i;else{n.gastos+=i;const s=n.categorias.findIndex(o=>o.categoryId===r.category);s>=0?n.categorias[s].monto+=i:n.categorias.push({categoryId:r.category,monto:i})}return n},{ingresos:0,gastos:0,categorias:[]})}};je(Ua,"instance");let iu=Ua;function Ak({onSuccess:t,onError:e}={}){const[n,r]=X.useState(!1),[i,s]=X.useState({}),o=l=>{const c={};return Sk(l.amount.toString())||(c.amount="El monto debe ser un nmero vlido mayor a 0"),Bc(l.description)||(c.description="La descripcin es requerida"),Bc(l.category)||(c.category="La categora es requerida"),kk(l.date)||(c.date="La fecha es requerida"),Bc(l.businessName)||(c.businessName="El nombre del negocio es requerido"),s(c),Object.keys(c).length>0?(e==null||e(Object.values(c).join(", ")),!1):!0};return{submitTransaction:async l=>{if(o(l))try{r(!0);const u=await iu.getInstance().addTransaction(l);console.log("Transaction submitted:",u,l),t==null||t()}catch(c){console.error("Transaction error:",c);const u=c instanceof Error?c.message:"Error al guardar la transaccin";e==null||e(u)}finally{r(!1)}},loading:n,errors:i}}const Pk=[{id:"operational",name:"Gastos Operativos",icon:"",subcategories:[{id:"rent",name:"Alquiler de Local"},{id:"utilities",name:"Servicios Bsicos"},{id:"maintenance",name:"Mantenimiento"},{id:"supplies",name:"Suministros de Oficina"},{id:"cleaning",name:"Limpieza y Sanitizacin"}]},{id:"personnel",name:"Personal y RRHH",icon:"",subcategories:[{id:"salaries",name:"Sueldos y Salarios"},{id:"benefits",name:"Beneficios Sociales"},{id:"training",name:"Capacitacin"},{id:"recruitment",name:"Reclutamiento"},{id:"contractors",name:"Contratistas"}]},{id:"technology",name:"Tecnologa",icon:"",subcategories:[{id:"software",name:"Software y Licencias"},{id:"hardware",name:"Equipos y Hardware"},{id:"hosting",name:"Hosting y Dominios"},{id:"telecom",name:"Telecomunicaciones"},{id:"cybersecurity",name:"Seguridad Digital"}]},{id:"marketing",name:"Marketing y Ventas",icon:"",subcategories:[{id:"advertising",name:"Publicidad"},{id:"events",name:"Eventos y Ferias"},{id:"branding",name:"Branding y Diseo"},{id:"social_media",name:"Redes Sociales"},{id:"crm",name:"CRM y Herramientas de Ventas"}]},{id:"financial",name:"Gastos Financieros",icon:"",subcategories:[{id:"bank_fees",name:"Comisiones Bancarias"},{id:"loan_payments",name:"Pago de Prstamos"},{id:"insurance",name:"Seguros"},{id:"accounting",name:"Servicios Contables"},{id:"taxes",name:"Impuestos y Tributos"}]},{id:"logistics",name:"Logstica y Transporte",icon:"",subcategories:[{id:"shipping",name:"Envos y Mensajera"},{id:"storage",name:"Almacenamiento"},{id:"fuel",name:"Combustible"},{id:"vehicle_maintenance",name:"Mantenimiento de Vehculos"},{id:"delivery",name:"Servicios de Entrega"}]},{id:"inventory",name:"Inventario y Materiales",icon:"",subcategories:[{id:"raw_materials",name:"Materias Primas"},{id:"packaging",name:"Empaques y Embalajes"},{id:"merchandise",name:"Mercanca para Reventa"},{id:"tools",name:"Herramientas y Equipos"},{id:"inventory_software",name:"Software de Inventario"}]},{id:"professional",name:"Servicios Profesionales",icon:"",subcategories:[{id:"legal",name:"Servicios Legales"},{id:"consulting",name:"Consultora"},{id:"it_services",name:"Servicios de TI"},{id:"design",name:"Diseo y Creatividad"},{id:"research",name:"Investigacin de Mercado"}]},{id:"administrative",name:"Gastos Administrativos",icon:"",subcategories:[{id:"office_supplies",name:"Papelera y tiles"},{id:"subscriptions",name:"Suscripciones"},{id:"certifications",name:"Certificaciones"},{id:"permits",name:"Permisos y Licencias"},{id:"memberships",name:"Membresas"}]},{id:"development",name:"Desarrollo de Negocio",icon:"",subcategories:[{id:"rd",name:"Investigacin y Desarrollo"},{id:"expansion",name:"Expansin"},{id:"equipment",name:"Equipamiento"},{id:"franchising",name:"Franquicias"},{id:"patents",name:"Patentes y Propiedad Intelectual"}]}],sT=[{id:"sales",name:"Ventas",icon:"",subcategories:[{id:"products",name:"Productos"},{id:"services",name:"Servicios"},{id:"subscriptions",name:"Suscripciones"},{id:"contracts",name:"Contratos"},{id:"commissions",name:"Comisiones"}]},{id:"investments",name:"Inversiones",icon:"",subcategories:[{id:"interest",name:"Intereses"},{id:"dividends",name:"Dividendos"},{id:"real_estate",name:"Bienes Races"},{id:"stocks",name:"Acciones"},{id:"crypto",name:"Criptomonedas"}]},{id:"other_income",name:"Otros Ingresos",icon:"",subcategories:[{id:"rentals",name:"Alquileres"},{id:"royalties",name:"Regalas"},{id:"grants",name:"Subvenciones"},{id:"consulting",name:"Consultora"},{id:"miscellaneous",name:"Varios"}]}];function oT({type:t,onSuccess:e,onError:n,initialData:r}){var m;const[i,s]=X.useState({type:t,amount:(r==null?void 0:r.amount)||0,description:(r==null?void 0:r.description)||"",category:(r==null?void 0:r.category)||"",subcategory:(r==null?void 0:r.subcategory)||"",date:(r==null?void 0:r.date)||new Date().toISOString().split("T")[0],businessName:(r==null?void 0:r.businessName)||""}),[o,a]=X.useState(null),{submitTransaction:l,loading:c,errors:u}=Ak({onSuccess:e,onError:v=>{a(v),n==null||n(v)}}),h=async v=>{v.preventDefault(),a(null);const x={type:t,amount:i.amount||0,description:i.description||"",category:i.category||"",subcategory:i.subcategory||"",date:i.date||new Date().toISOString().split("T")[0],businessName:i.businessName||""};await l(x)},p=t==="gasto"?Pk:sT,f=p.find(v=>v.id===i.category);return P.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o&&P.jsx(ei,{type:"error",message:o}),P.jsx(ks,{label:"Nombre del negocio",value:i.businessName||"",onChange:v=>s({...i,businessName:v}),required:!0,error:u.businessName}),P.jsx(ks,{label:"Monto",type:"number",value:((m=i.amount)==null?void 0:m.toString())||"",onChange:v=>s({...i,amount:parseFloat(v)}),required:!0,error:u.amount}),P.jsx(ks,{label:"Descripcin",value:i.description||"",onChange:v=>s({...i,description:v}),required:!0,error:u.description}),P.jsx($g,{label:"Categora",value:i.category||"",onChange:v=>s({...i,category:v,subcategory:""}),options:p.map(v=>({value:v.id,label:`${v.icon} ${v.name}`})),required:!0,error:u.category}),f&&P.jsx($g,{label:"Subcategora",value:i.subcategory||"",onChange:v=>s({...i,subcategory:v}),options:f.subcategories.map(v=>({value:v.id,label:v.name})),required:!0,error:u.subcategory}),P.jsx(ks,{label:"Fecha",type:"date",value:i.date||"",onChange:v=>s({...i,date:v}),required:!0,error:u.date}),P.jsx("button",{type:"submit",disabled:c,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white 
          ${t==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}
          disabled:opacity-50 disabled:cursor-not-allowed`,children:c?"Guardando...":`Agregar ${t==="ingreso"?"Ingreso":"Gasto"}`})]})}var Nk={exports:{}};(function(t,e){(function(r,i){t.exports=i(X)})(ur,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)s.d(l,c,(function(u){return o[u]}).bind(null,c));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var y in x)x.hasOwnProperty(y)&&(v[y]=x[y])},p(f,m)};return function(f,m){p(f,m);function v(){this.constructor=f}f.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),l=function(){return l=Object.assign||function(p){for(var f,m=1,v=arguments.length;m<v;m++){f=arguments[m];for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&(p[x]=f[x])}return p},l.apply(this,arguments)},c=function(p,f){var m={};for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&f.indexOf(v)<0&&(m[v]=p[v]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,v=Object.getOwnPropertySymbols(p);x<v.length;x++)f.indexOf(v[x])<0&&Object.prototype.propertyIsEnumerable.call(p,v[x])&&(m[v[x]]=p[v[x]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(f){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(v,x){m.call(navigator,f,v,x)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var h=function(p){a(f,p);function f(m){var v=p.call(this,m)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return f.prototype.componentDidMount=function(){var m=this,v=m.state,x=m.props;if(this.unmounted=!1,!u()){x.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),x.children&&typeof x.children!="function"&&console.warn("children must be a function")},f.prototype.componentDidUpdate=function(m){var v=this.props;if(!u()){v.onUserMediaError("getUserMedia not supported");return}var x=JSON.stringify(m.audioConstraints)!==JSON.stringify(v.audioConstraints),y=JSON.stringify(m.videoConstraints)!==JSON.stringify(v.videoConstraints),w=m.minScreenshotWidth!==v.minScreenshotWidth,_=m.minScreenshotHeight!==v.minScreenshotHeight;(y||w||_)&&(this.canvas=null,this.ctx=null),(x||y)&&(this.stopAndCleanup(),this.requestUserMedia())},f.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},f.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(v){m.removeTrack(v),v.stop()}),m.getAudioTracks().map(function(v){m.removeTrack(v),v.stop()})):m.stop())},f.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(f.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},f.prototype.getScreenshot=function(m){var v=this,x=v.state,y=v.props;if(!x.hasUserMedia)return null;var w=this.getCanvas(m);return w&&w.toDataURL(y.screenshotFormat,y.screenshotQuality)},f.prototype.getCanvas=function(m){var v=this,x=v.state,y=v.props;if(!this.video||!x.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var w=this.video.videoWidth,_=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var k=w/_;w=y.minScreenshotWidth||this.video.clientWidth,_=w/k,y.minScreenshotHeight&&_<y.minScreenshotHeight&&(_=y.minScreenshotHeight,w=_*k)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||w,this.canvas.height=(m==null?void 0:m.height)||_,this.ctx=this.canvas.getContext("2d")}var N=this,T=N.ctx,E=N.canvas;return T&&E&&(E.width=(m==null?void 0:m.width)||E.width,E.height=(m==null?void 0:m.height)||E.height,y.mirrored&&(T.translate(E.width,0),T.scale(-1,1)),T.imageSmoothingEnabled=y.imageSmoothing,T.drawImage(this.video,0,0,(m==null?void 0:m.width)||E.width,(m==null?void 0:m.height)||E.height),y.mirrored&&(T.scale(-1,1),T.translate(-E.width,0))),E},f.prototype.requestUserMedia=function(){var m=this,v=this.props,x=function(_,k){var N={video:typeof k<"u"?k:!0};v.audio&&(N.audio=typeof _<"u"?_:!0),m.requestUserMediaId++;var T=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(N).then(function(E){m.unmounted||T!==m.requestUserMediaId?f.stopMediaStream(E):m.handleUserMedia(null,E)}).catch(function(E){m.handleUserMedia(E)})};if("mediaDevices"in navigator)x(v.audioConstraints,v.videoConstraints);else{var y=function(_){return{optional:[{sourceId:_}]}},w=function(_){var k=_.deviceId;return typeof k=="string"?k:Array.isArray(k)&&k.length>0?k[0]:typeof k=="object"&&k.ideal?k.ideal:null};MediaStreamTrack.getSources(function(_){var k=null,N=null;_.forEach(function(L){L.kind==="audio"?k=L.id:L.kind==="video"&&(N=L.id)});var T=w(v.audioConstraints);T&&(k=T);var E=w(v.videoConstraints);E&&(N=E),x(y(k),y(N))})}},f.prototype.handleUserMedia=function(m,v){var x=this.props;if(m||!v){this.setState({hasUserMedia:!1}),x.onUserMediaError(m);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}x.onUserMedia(v)},f.prototype.render=function(){var m=this,v=this,x=v.state,y=v.props,w=y.audio;y.forceScreenshotSourceSize;var _=y.disablePictureInPicture;y.onUserMedia,y.onUserMediaError,y.screenshotFormat,y.screenshotQuality,y.minScreenshotWidth,y.minScreenshotHeight,y.audioConstraints,y.videoConstraints,y.imageSmoothing;var k=y.mirrored,N=y.style,T=N===void 0?{}:N,E=y.children,L=c(y,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),F=k?l(l({},T),{transform:(T.transform||"")+" scaleX(-1)"}):T,z={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:_,src:x.src,muted:!w,playsInline:!0,ref:function(C){m.video=C},style:F},L)),E&&E(z))},f.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},f}(o.Component);i.default=h},react:function(r,i){r.exports=n}}).default})})(Nk);var aT=Nk.exports;const lT=T2(aT),qv="RFC3986",Vv={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},cT="RFC1738",uT=Array.isArray,fs=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),s1=1024,hT=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<s.length;a+=s1){const l=s.length>=s1?s.slice(a,a+s1):s,c=[];for(let u=0;u<l.length;++u){let h=l.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===cT&&(h===40||h===41)){c[c.length]=l.charAt(u);continue}if(h<128){c[c.length]=fs[h];continue}if(h<2048){c[c.length]=fs[192|h>>6]+fs[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=fs[224|h>>12]+fs[128|h>>6&63]+fs[128|h&63];continue}u+=1,h=65536+((h&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=fs[240|h>>18]+fs[128|h>>12&63]+fs[128|h>>6&63]+fs[128|h&63]}o+=c.join("")}return o};function dT(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function ix(t,e){if(uT(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const fT=Object.prototype.hasOwnProperty,Ck={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},xs=Array.isArray,pT=Array.prototype.push,Ek=function(t,e){pT.apply(t,xs(e)?e:[e])},gT=Date.prototype.toISOString,Cn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hT,encodeValuesOnly:!1,format:qv,formatter:Vv[qv],indices:!1,serializeDate(t){return gT.call(t)},skipNulls:!1,strictNullHandling:!1};function mT(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const o1={};function Lk(t,e,n,r,i,s,o,a,l,c,u,h,p,f,m,v,x,y){let w=t,_=y,k=0,N=!1;for(;(_=_.get(o1))!==void 0&&!N;){const z=_.get(t);if(k+=1,typeof z<"u"){if(z===k)throw new RangeError("Cyclic object value");N=!0}typeof _.get(o1)>"u"&&(k=0)}if(typeof c=="function"?w=c(e,w):w instanceof Date?w=p==null?void 0:p(w):n==="comma"&&xs(w)&&(w=ix(w,function(z){return z instanceof Date?p==null?void 0:p(z):z})),w===null){if(s)return l&&!v?l(e,Cn.encoder,x,"key",f):e;w=""}if(mT(w)||dT(w)){if(l){const z=v?e:l(e,Cn.encoder,x,"key",f);return[(m==null?void 0:m(z))+"="+(m==null?void 0:m(l(w,Cn.encoder,x,"value",f)))]}return[(m==null?void 0:m(e))+"="+(m==null?void 0:m(String(w)))]}const T=[];if(typeof w>"u")return T;let E;if(n==="comma"&&xs(w))v&&l&&(w=ix(w,l)),E=[{value:w.length>0?w.join(",")||null:void 0}];else if(xs(c))E=c;else{const z=Object.keys(w);E=u?z.sort(u):z}const L=a?String(e).replace(/\./g,"%2E"):String(e),F=r&&xs(w)&&w.length===1?L+"[]":L;if(i&&xs(w)&&w.length===0)return F+"[]";for(let z=0;z<E.length;++z){const C=E[z],O=typeof C=="object"&&typeof C.value<"u"?C.value:w[C];if(o&&O===null)continue;const H=h&&a?C.replace(/\./g,"%2E"):C,W=xs(w)?typeof n=="function"?n(F,H):F:F+(h?"."+H:"["+H+"]");y.set(t,k);const ie=new WeakMap;ie.set(o1,y),Ek(T,Lk(O,W,n,r,i,s,o,a,n==="comma"&&v&&xs(w)?null:l,c,u,h,p,f,m,v,x,ie))}return T}function vT(t=Cn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Cn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=qv;if(typeof t.format<"u"){if(!fT.call(Vv,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Vv[n];let i=Cn.filter;(typeof t.filter=="function"||xs(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in Ck?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=Cn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Cn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Cn.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Cn.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Cn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Cn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Cn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Cn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Cn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Cn.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Cn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Cn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Cn.strictNullHandling}}function yT(t,e={}){let n=t;const r=vT(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):xs(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const a=Ck[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let p=0;p<i.length;++p){const f=i[p];r.skipNulls&&n[f]===null||Ek(o,Lk(n[f],f,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=o.join(r.delimiter);let h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),u.length>0?h+u:""}const gc="4.77.0";let sx=!1,qh,jk,Ok,Gv,Tk,Ik,Rk,Mk,Fk;function wT(t,e={auto:!1}){if(sx)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(qh)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${qh}'\``);sx=e.auto,qh=t.kind,jk=t.fetch,Ok=t.FormData,Gv=t.File,Tk=t.ReadableStream,Ik=t.getMultipartRequestOptions,Rk=t.getDefaultAgent,Mk=t.fileFromPath,Fk=t.isFsReadStream}class bT{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function xT({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new bT(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}qh||wT(xT(),{auto:!0});class dt extends Error{}class Yn extends dt{constructor(e,n,r,i){super(`${Yn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Cm({message:r,cause:Kv(n)});const s=n==null?void 0:n.error;return e===400?new Dk(e,s,r,i):e===401?new Bk(e,s,r,i):e===403?new $k(e,s,r,i):e===404?new zk(e,s,r,i):e===409?new Uk(e,s,r,i):e===422?new Hk(e,s,r,i):e===429?new Wk(e,s,r,i):e>=500?new qk(e,s,r,i):new Yn(e,s,r,i)}}class Vi extends Yn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Cm extends Yn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Ky extends Cm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Dk extends Yn{}class Bk extends Yn{}class $k extends Yn{}class zk extends Yn{}class Uk extends Yn{}class Hk extends Yn{}class Wk extends Yn{}class qk extends Yn{}class Vk extends dt{constructor(){super("Could not parse response content as the length limit was reached")}}class Gk extends dt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ml{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=ml.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(ml.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new dt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new dt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new dt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}ml.NEWLINE_CHARS=new Set([`
`,"\r"]);ml.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class As{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of _T(e,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new Yn(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new Yn(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new As(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const o=new ml,a=Yk(e);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of i())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new As(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new As(()=>i(e),this.controller),new As(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Tk({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await n.next();if(o)return i.close();const a=r.encode(JSON.stringify(s)+`
`);i.enqueue(a)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*_T(t,e){if(!t.body)throw e.abort(),new dt("Attempted to iterate over a response with no body");const n=new AT,r=new ml,i=Yk(t.body);for await(const s of ST(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*ST(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=kT(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}function kT(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class AT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=PT(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function PT(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function Yk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Kk=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Jk=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Em(t),Em=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",NT=t=>Jk(t)||Kk(t)||Fk(t);async function Xk(t,e,n){var i;if(t=await t,Jk(t))return t;if(Kk(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Em(s)?[await s.arrayBuffer()]:[s];return new Gv(o,e,n)}const r=await CT(t);if(e||(e=LT(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Gv(r,e,n)}async function CT(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Em(t))e.push(await t.arrayBuffer());else if(jT(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${ET(t)}`);return e}function ET(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function LT(t){var e;return a1(t.name)||a1(t.filename)||((e=a1(t.path))==null?void 0:e.split(/[\\/]/).pop())}const a1=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},jT=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",ox=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",su=async t=>{const e=await OT(t.body);return Ik(e,t)},OT=async t=>{const e=new Ok;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Yv(e,n,r))),e},Yv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(NT(n)){const r=await Xk(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Yv(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Yv(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var $c={},TT=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},IT=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wp;async function Qk(t){const{response:e}=t;if(t.options.stream)return zc("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):As.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await e.json();return zc("response",e.status,e.url,e.headers,s),Zk(s,e)}const i=await e.text();return zc("response",e.status,e.url,e.headers,i),i}function Zk(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Lm extends Promise{constructor(e,n=Qk){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Lm(this.responsePromise,async n=>Zk(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class RT{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=l1("maxRetries",n),this.timeout=l1("timeout",r),this.httpAgent=i,this.fetch=s??jk}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...zT(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${qT()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Em(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var v;const{method:r,path:i,query:s,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:ox(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(i,s);"timeout"in e&&l1("timeout",e.timeout);const u=e.timeout??this.timeout,h=e.httpAgent??this.httpAgent??Rk(c),p=u+1e3;typeof((v=h==null?void 0:h.options)==null?void 0:v.timeout)=="number"&&p>(h.options.timeout??0)&&(h.options.timeout=p),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:f,...h&&{agent:h},signal:e.signal??null},url:c,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const o=this.defaultHeaders(e);return ux(s,o),ux(s,n),ox(e.body)&&qh!=="node"&&delete s["content-type"],hx(o,"x-stainless-retry-count")===void 0&&hx(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Yn.generate(e,n,r,i)}request(e,n=null){return new Lm(this.makeRequest(e,n))}async makeRequest(e,n){var h,p;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:o,timeout:a}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:o,options:r}),zc("request",o,r,s.headers),(h=r.signal)!=null&&h.aborted)throw new Vi;const l=new AbortController,c=await this.fetchWithTimeout(o,s,a,l).catch(Kv);if(c instanceof Error){if((p=r.signal)!=null&&p.aborted)throw new Vi;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new Ky:new Cm({cause:c})}const u=FT(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const w=`retrying, ${n} attempts remaining`;return zc(`response (error; ${w})`,c.status,o,u),this.retryRequest(r,n,u)}const f=await c.text().catch(w=>Kv(w).message),m=UT(f),v=m?void 0:f;throw zc(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,u,v),this.makeStatusError(c.status,m,v,u)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new MT(this,r,e)}buildURL(e,n){const r=WT(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return tA(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new dt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const a=setTimeout(()=>i.abort(),r);return this.fetch.call(void 0,e,{signal:i.signal,...o}).finally(()=>{clearTimeout(a)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const a=parseFloat(s);Number.isNaN(a)||(i=a)}const o=r==null?void 0:r["retry-after"];if(o&&!i){const a=parseFloat(o);Number.isNaN(a)?i=Date.parse(o)-Date.now():i=a*1e3}if(!(i&&0<=i&&i<60*1e3)){const a=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Kd(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${gc}`}}class eA{constructor(e,n,r,i){wp.set(this,void 0),TT(this,wp,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new dt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await IT(this,wp,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(wp=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class MT extends Lm{constructor(e,n,r){super(n,async i=>new r(e,i.response,await Qk(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const FT=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),DT={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Fr=t=>typeof t=="object"&&t!==null&&!tA(t)&&Object.keys(t).every(e=>nA(DT,e)),BT=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":lx(Deno.build.os),"X-Stainless-Arch":ax(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":lx(process.platform),"X-Stainless-Arch":ax(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=$T();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $T(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const ax=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",lx=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let cx;const zT=()=>cx??(cx=BT()),UT=t=>{try{return JSON.parse(t)}catch{return}},HT=/^[a-z][a-z0-9+.-]*:/i,WT=t=>HT.test(t),Kd=t=>new Promise(e=>setTimeout(e,t)),l1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new dt(`${t} must be an integer`);if(e<0)throw new dt(`${t} must be a positive integer`);return e},Kv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},bp=t=>{var e,n,r,i;if(typeof process<"u")return((e=$c==null?void 0:$c[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function tA(t){if(!t)return!0;for(const e in t)return!1;return!0}function nA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ux(t,e){for(const n in e){if(!nA(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function zc(t,...e){typeof process<"u"&&($c==null?void 0:$c.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const qT=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),VT=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",GT=t=>typeof(t==null?void 0:t.get)=="function",hx=(t,e)=>{var r;const n=e.toLowerCase();if(GT(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,o,a)=>o+a.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const o=t.get(s);if(o)return o}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s};function c1(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class YT extends eA{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Zi extends eA{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Lt{constructor(e){this._client=e}}let rA=class extends Lt{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}},Jy=class extends Lt{constructor(){super(...arguments),this.completions=new rA(this._client)}};Jy.Completions=rA;class iA extends Lt{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}class sA extends Lt{create(e,n){return this._client.post("/audio/transcriptions",su({body:e,...n}))}}class oA extends Lt{create(e,n){return this._client.post("/audio/translations",su({body:e,...n}))}}class Jd extends Lt{constructor(){super(...arguments),this.transcriptions=new sA(this._client),this.translations=new oA(this._client),this.speech=new iA(this._client)}}Jd.Transcriptions=sA;Jd.Translations=oA;Jd.Speech=iA;class Xy extends Lt{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Fr(e)?this.list({},e):this._client.getAPIList("/batches",Qy,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Qy extends Zi{}Xy.BatchesPage=Qy;class Zy extends Lt{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Fr(e)?this.list({},e):this._client.getAPIList("/assistants",e5,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class e5 extends Zi{}Zy.AssistantsPage=e5;function dx(t){return typeof t.parse=="function"}const Uc=t=>(t==null?void 0:t.role)==="assistant",aA=t=>(t==null?void 0:t.role)==="function",lA=t=>(t==null?void 0:t.role)==="tool";var Di=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Qt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jv,tg,ng,_h,Sh,rg,kh,Gs,Ah,zg,Ug,mc,cA;class uA{constructor(){Jv.add(this),this.controller=new AbortController,tg.set(this,void 0),ng.set(this,()=>{}),_h.set(this,()=>{}),Sh.set(this,void 0),rg.set(this,()=>{}),kh.set(this,()=>{}),Gs.set(this,{}),Ah.set(this,!1),zg.set(this,!1),Ug.set(this,!1),mc.set(this,!1),Di(this,tg,new Promise((e,n)=>{Di(this,ng,e,"f"),Di(this,_h,n,"f")}),"f"),Di(this,Sh,new Promise((e,n)=>{Di(this,rg,e,"f"),Di(this,kh,n,"f")}),"f"),Qt(this,tg,"f").catch(()=>{}),Qt(this,Sh,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Qt(this,Jv,"m",cA).bind(this))},0)}_connected(){this.ended||(Qt(this,ng,"f").call(this),this._emit("connect"))}get ended(){return Qt(this,Ah,"f")}get errored(){return Qt(this,zg,"f")}get aborted(){return Qt(this,Ug,"f")}abort(){this.controller.abort()}on(e,n){return(Qt(this,Gs,"f")[e]||(Qt(this,Gs,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Qt(this,Gs,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Qt(this,Gs,"f")[e]||(Qt(this,Gs,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Di(this,mc,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Di(this,mc,!0,"f"),await Qt(this,Sh,"f")}_emit(e,...n){if(Qt(this,Ah,"f"))return;e==="end"&&(Di(this,Ah,!0,"f"),Qt(this,rg,"f").call(this));const r=Qt(this,Gs,"f")[e];if(r&&(Qt(this,Gs,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Qt(this,mc,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Qt(this,_h,"f").call(this,i),Qt(this,kh,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Qt(this,mc,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Qt(this,_h,"f").call(this,i),Qt(this,kh,"f").call(this,i),this._emit("end")}}_emitFinal(){}}tg=new WeakMap,ng=new WeakMap,_h=new WeakMap,Sh=new WeakMap,rg=new WeakMap,kh=new WeakMap,Gs=new WeakMap,Ah=new WeakMap,zg=new WeakMap,Ug=new WeakMap,mc=new WeakMap,Jv=new WeakSet,cA=function(e){if(Di(this,zg,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Vi),e instanceof Vi)return Di(this,Ug,!0,"f"),this._emit("abort",e);if(e instanceof dt)return this._emit("error",e);if(e instanceof Error){const n=new dt(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new dt(String(e)))};function hA(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Xd(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function KT(t,e){return!e||!dA(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:t5(t,e)}function t5(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new Vk;if(r.finish_reason==="content_filter")throw new Gk;return{...r,message:{...r.message,tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>XT(e,s)))??[],parsed:r.message.content&&!r.message.refusal?JT(e,r.message.content):null}}});return{...t,choices:n}}function JT(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function XT(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Xd(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function QT(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return Xd(n)||(n==null?void 0:n.function.strict)||!1}function dA(t){var e;return hA(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Xd(n)||n.type==="function"&&n.function.strict===!0))??!1}function ZT(t){for(const e of t??[]){if(e.type!=="function")throw new dt(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new dt(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Cr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ir,Xv,Hg,Qv,Zv,e2,fA,t2;const fx=10;class pA extends uA{constructor(){super(...arguments),ir.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(aA(e)||lA(e))&&e.content)this._emit("functionCallResult",e.content);else if(Uc(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Uc(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new dt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Cr(this,ir,"m",Xv).call(this)}async finalMessage(){return await this.done(),Cr(this,ir,"m",Hg).call(this)}async finalFunctionCall(){return await this.done(),Cr(this,ir,"m",Qv).call(this)}async finalFunctionCallResult(){return await this.done(),Cr(this,ir,"m",Zv).call(this)}async totalUsage(){return await this.done(),Cr(this,ir,"m",e2).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Cr(this,ir,"m",Hg).call(this);n&&this._emit("finalMessage",n);const r=Cr(this,ir,"m",Xv).call(this);r&&this._emit("finalContent",r);const i=Cr(this,ir,"m",Qv).call(this);i&&this._emit("finalFunctionCall",i);const s=Cr(this,ir,"m",Zv).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Cr(this,ir,"m",e2).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Cr(this,ir,"m",fA).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(t5(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var p;const i="function",{function_call:s="auto",stream:o,...a}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:c=fx}=r||{},u={};for(const f of n.functions)u[f.name||f.function.name]=f;const h=n.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of n.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const v=(p=(await this._createChatCompletion(e,{...a,function_call:s,functions:h,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!v)throw new dt("missing message in ChatCompletion response");if(!v.function_call)return;const{name:x,arguments:y}=v.function_call,w=u[x];if(w){if(l&&l!==x){const T=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:x,content:T});continue}}else{const T=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${h.map(E=>JSON.stringify(E.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:x,content:T});continue}let _;try{_=dx(w)?await w.parse(y):y}catch(T){this._addMessage({role:i,name:x,content:T instanceof Error?T.message:String(T)});continue}const k=await w.function(_,this),N=Cr(this,ir,"m",t2).call(this,k);if(this._addMessage({role:i,name:x,content:N}),l)return}}async _runTools(e,n,r){var f,m,v;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&((f=s==null?void 0:s.function)==null?void 0:f.name),{maxChatCompletions:c=fx}=r||{},u=n.tools.map(x=>{if(Xd(x)){if(!x.$callback)throw new dt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),h={};for(const x of u)x.type==="function"&&(h[x.function.name||x.function.function.name]=x.function);const p="tools"in n?u.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<c;++x){const w=(m=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:p,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!w)throw new dt("missing message in ChatCompletion response");if(!((v=w.tool_calls)!=null&&v.length))return;for(const _ of w.tool_calls){if(_.type!=="function")continue;const k=_.id,{name:N,arguments:T}=_.function,E=h[N];if(E){if(l&&l!==N){const C=`Invalid tool_call: ${JSON.stringify(N)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:k,content:C});continue}}else{const C=`Invalid tool_call: ${JSON.stringify(N)}. Available options are: ${Object.keys(h).map(O=>JSON.stringify(O)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:k,content:C});continue}let L;try{L=dx(E)?await E.parse(T):T}catch(C){const O=C instanceof Error?C.message:String(C);this._addMessage({role:i,tool_call_id:k,content:O});continue}const F=await E.function(L,this),z=Cr(this,ir,"m",t2).call(this,F);if(this._addMessage({role:i,tool_call_id:k,content:z}),l)return}}}}ir=new WeakSet,Xv=function(){return Cr(this,ir,"m",Hg).call(this).content??null},Hg=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Uc(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new dt("stream ended without producing a ChatCompletionMessage with role=assistant")},Qv=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Uc(i)&&(i!=null&&i.function_call))return i.function_call;if(Uc(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},Zv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(aA(n)&&n.content!=null||lA(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},e2=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},fA=function(e){if(e.n!=null&&e.n>1)throw new dt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},t2=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Nd extends pA{static runFunctions(e,n,r){const i=new Nd,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Nd,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Uc(e)&&e.content&&this._emit("content",e.content)}}const gA=1,mA=2,vA=4,yA=8,wA=16,bA=32,xA=64,_A=128,SA=256,kA=_A|SA,AA=wA|bA|kA|xA,PA=gA|mA|AA,NA=vA|yA,eI=PA|NA,Fn={STR:gA,NUM:mA,ARR:vA,OBJ:yA,NULL:wA,BOOL:bA,NAN:xA,INFINITY:_A,MINUS_INFINITY:SA,INF:kA,SPECIAL:AA,ATOM:PA,COLLECTION:NA,ALL:eI};class tI extends Error{}class nI extends Error{}function rI(t,e=Fn.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return iI(t.trim(),e)}const iI=(t,e)=>{const n=t.length;let r=0;const i=p=>{throw new tI(`${p} at position ${r}`)},s=p=>{throw new nI(`${p} at position ${r}`)},o=()=>(h(),r>=n&&i("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?c():t.substring(r,r+4)==="null"||Fn.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Fn.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Fn.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Fn.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Fn.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Fn.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):u()),a=()=>{const p=r;let f=!1;for(r++;r<n&&(t[r]!=='"'||f&&t[r-1]==="\\");)f=t[r]==="\\"?!f:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(p,++r-Number(f)))}catch(m){s(String(m))}else if(Fn.STR&e)try{return JSON.parse(t.substring(p,r-Number(f))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,h();const p={};try{for(;t[r]!=="}";){if(h(),r>=n&&Fn.OBJ&e)return p;const f=a();h(),r++;try{const m=o();Object.defineProperty(p,f,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(Fn.OBJ&e)return p;throw m}h(),t[r]===","&&r++}}catch{if(Fn.OBJ&e)return p;i("Expected '}' at end of object")}return r++,p},c=()=>{r++;const p=[];try{for(;t[r]!=="]";)p.push(o()),h(),t[r]===","&&r++}catch{if(Fn.ARR&e)return p;i("Expected ']' at end of array")}return r++,p},u=()=>{if(r===0){t==="-"&&Fn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(f){if(Fn.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(f))}}const p=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Fn.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(p,r))}catch{t.substring(p,r)==="-"&&Fn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(m){s(String(m))}}},h=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},px=t=>rI(t,Fn.ALL^Fn.NUM);var lc=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Tt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Nn,Ws,cc,No,u1,xp,h1,d1,f1,_p,p1,gx;class Cd extends pA{constructor(e){super(),Nn.add(this),Ws.set(this,void 0),cc.set(this,void 0),No.set(this,void 0),lc(this,Ws,e,"f"),lc(this,cc,[],"f")}get currentChatCompletionSnapshot(){return Tt(this,No,"f")}static fromReadableStream(e){const n=new Cd(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new Cd(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Tt(this,Nn,"m",u1).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)Tt(this,Nn,"m",h1).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new Vi;return this._addChatCompletion(Tt(this,Nn,"m",_p).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Tt(this,Nn,"m",u1).call(this),this._connected();const i=As.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(Tt(this,Nn,"m",_p).call(this)),Tt(this,Nn,"m",h1).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new Vi;return this._addChatCompletion(Tt(this,Nn,"m",_p).call(this))}[(Ws=new WeakMap,cc=new WeakMap,No=new WeakMap,Nn=new WeakSet,u1=function(){this.ended||lc(this,No,void 0,"f")},xp=function(n){let r=Tt(this,cc,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Tt(this,cc,"f")[n.index]=r,r)},h1=function(n){var i,s,o,a,l,c,u,h,p,f,m,v,x,y,w;if(this.ended)return;const r=Tt(this,Nn,"m",gx).call(this,n);this._emit("chunk",n,r);for(const _ of n.choices){const k=r.choices[_.index];_.delta.content!=null&&((i=k.message)==null?void 0:i.role)==="assistant"&&((s=k.message)!=null&&s.content)&&(this._emit("content",_.delta.content,k.message.content),this._emit("content.delta",{delta:_.delta.content,snapshot:k.message.content,parsed:k.message.parsed})),_.delta.refusal!=null&&((o=k.message)==null?void 0:o.role)==="assistant"&&((a=k.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:_.delta.refusal,snapshot:k.message.refusal}),((l=_.logprobs)==null?void 0:l.content)!=null&&((c=k.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=_.logprobs)==null?void 0:u.content,snapshot:((h=k.logprobs)==null?void 0:h.content)??[]}),((p=_.logprobs)==null?void 0:p.refusal)!=null&&((f=k.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=_.logprobs)==null?void 0:m.refusal,snapshot:((v=k.logprobs)==null?void 0:v.refusal)??[]});const N=Tt(this,Nn,"m",xp).call(this,k);k.finish_reason&&(Tt(this,Nn,"m",f1).call(this,k),N.current_tool_call_index!=null&&Tt(this,Nn,"m",d1).call(this,k,N.current_tool_call_index));for(const T of _.delta.tool_calls??[])N.current_tool_call_index!==T.index&&(Tt(this,Nn,"m",f1).call(this,k),N.current_tool_call_index!=null&&Tt(this,Nn,"m",d1).call(this,k,N.current_tool_call_index)),N.current_tool_call_index=T.index;for(const T of _.delta.tool_calls??[]){const E=(x=k.message.tool_calls)==null?void 0:x[T.index];E!=null&&E.type&&((E==null?void 0:E.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=E.function)==null?void 0:y.name,index:T.index,arguments:E.function.arguments,parsed_arguments:E.function.parsed_arguments,arguments_delta:((w=T.function)==null?void 0:w.arguments)??""}):(E==null||E.type,void 0))}}},d1=function(n,r){var o,a,l;if(Tt(this,Nn,"m",xp).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const c=(l=(a=Tt(this,Ws,"f"))==null?void 0:a.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Xd(c)?c.$parseRaw(s.function.arguments):c!=null&&c.function.strict?JSON.parse(s.function.arguments):null})}else s.type},f1=function(n){var i,s;const r=Tt(this,Nn,"m",xp).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=Tt(this,Nn,"m",p1).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},_p=function(){if(this.ended)throw new dt("stream has ended, this shouldn't happen");const n=Tt(this,No,"f");if(!n)throw new dt("request ended without sending any chunks");return lc(this,No,void 0,"f"),lc(this,cc,[],"f"),sI(n,Tt(this,Ws,"f"))},p1=function(){var r;const n=(r=Tt(this,Ws,"f"))==null?void 0:r.response_format;return hA(n)?n:null},gx=function(n){var r,i,s,o;let a=Tt(this,No,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=lc(this,No,{...c,choices:[]},"f");for(const{delta:u,finish_reason:h,index:p,logprobs:f=null,...m}of n.choices){let v=a.choices[p];if(v||(v=a.choices[p]={finish_reason:h,index:p,message:{},logprobs:f,...m}),f)if(!v.logprobs)v.logprobs=Object.assign({},f);else{const{content:T,refusal:E,...L}=f;Object.assign(v.logprobs,L),T&&((r=v.logprobs).content??(r.content=[]),v.logprobs.content.push(...T)),E&&((i=v.logprobs).refusal??(i.refusal=[]),v.logprobs.refusal.push(...E))}if(h&&(v.finish_reason=h,Tt(this,Ws,"f")&&dA(Tt(this,Ws,"f")))){if(h==="length")throw new Vk;if(h==="content_filter")throw new Gk}if(Object.assign(v,m),!u)continue;const{content:x,refusal:y,function_call:w,role:_,tool_calls:k,...N}=u;if(Object.assign(v.message,N),y&&(v.message.refusal=(v.message.refusal||"")+y),_&&(v.message.role=_),w&&(v.message.function_call?(w.name&&(v.message.function_call.name=w.name),w.arguments&&((s=v.message.function_call).arguments??(s.arguments=""),v.message.function_call.arguments+=w.arguments)):v.message.function_call=w),x&&(v.message.content=(v.message.content||"")+x,!v.message.refusal&&Tt(this,Nn,"m",p1).call(this)&&(v.message.parsed=px(v.message.content))),k){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:T,id:E,type:L,function:F,...z}of k){const C=(o=v.message.tool_calls)[T]??(o[T]={});Object.assign(C,z),E&&(C.id=E),L&&(C.type=L),F&&(C.function??(C.function={name:F.name??"",arguments:""})),F!=null&&F.name&&(C.function.name=F.name),F!=null&&F.arguments&&(C.function.arguments+=F.arguments,QT(Tt(this,Ws,"f"),C)&&(C.function.parsed_arguments=px(C.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new As(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function sI(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:c,finish_reason:u,index:h,logprobs:p,...f})=>{if(!u)throw new dt(`missing finish_reason for choice ${h}`);const{content:m=null,function_call:v,tool_calls:x,...y}=c,w=c.role;if(!w)throw new dt(`missing role for choice ${h}`);if(v){const{arguments:_,name:k}=v;if(_==null)throw new dt(`missing function_call.arguments for choice ${h}`);if(!k)throw new dt(`missing function_call.name for choice ${h}`);return{...f,message:{content:m,function_call:{arguments:_,name:k},role:w,refusal:c.refusal??null},finish_reason:u,index:h,logprobs:p}}return x?{...f,index:h,finish_reason:u,logprobs:p,message:{...y,role:w,content:m,refusal:c.refusal??null,tool_calls:x.map((_,k)=>{const{function:N,type:T,id:E,...L}=_,{arguments:F,name:z,...C}=N||{};if(E==null)throw new dt(`missing choices[${h}].tool_calls[${k}].id
${Sp(t)}`);if(T==null)throw new dt(`missing choices[${h}].tool_calls[${k}].type
${Sp(t)}`);if(z==null)throw new dt(`missing choices[${h}].tool_calls[${k}].function.name
${Sp(t)}`);if(F==null)throw new dt(`missing choices[${h}].tool_calls[${k}].function.arguments
${Sp(t)}`);return{...L,id:E,type:T,function:{...C,name:z,arguments:F}}})}}:{...f,message:{...y,content:m,role:w,refusal:c.refusal??null},finish_reason:u,index:h,logprobs:p}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return KT(l,e)}function Sp(t){return JSON.stringify(t)}class Hc extends Cd{static fromReadableStream(e){const n=new Hc(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new Hc(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new Hc(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let CA=class extends Lt{parse(e,n){return ZT(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>t5(r,e))}runFunctions(e,n){return e.stream?Hc.runFunctions(this._client,e,n):Nd.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Hc.runTools(this._client,e,n):Nd.runTools(this._client,e,n)}stream(e,n){return Cd.createChatCompletion(this._client,e,n)}},n2=class extends Lt{constructor(){super(...arguments),this.completions=new CA(this._client)}};(function(t){t.Completions=CA})(n2||(n2={}));var Ue=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},qr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},qn,r2,_s,ig,$i,Za,jc,za,Wg,Gr,sg,og,Vh,Ph,Nh,mx,vx,yx,wx,bx,xx,_x;class Gi extends uA{constructor(){super(...arguments),qn.add(this),r2.set(this,[]),_s.set(this,{}),ig.set(this,{}),$i.set(this,void 0),Za.set(this,void 0),jc.set(this,void 0),za.set(this,void 0),Wg.set(this,void 0),Gr.set(this,void 0),sg.set(this,void 0),og.set(this,void 0),Vh.set(this,void 0)}[(r2=new WeakMap,_s=new WeakMap,ig=new WeakMap,$i=new WeakMap,Za=new WeakMap,jc=new WeakMap,za=new WeakMap,Wg=new WeakMap,Gr=new WeakMap,sg=new WeakMap,og=new WeakMap,Vh=new WeakMap,qn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Gi;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=As.fromReadableStream(e,this.controller);for await(const o of i)Ue(this,qn,"m",Ph).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new Vi;return this._addRun(Ue(this,qn,"m",Nh).call(this))}toReadableStream(){return new As(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const o=new Gi;return o._run(()=>o._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,i,s){var c;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...i,stream:!0},l=await e.submitToolOutputs(n,r,a,{...s,signal:this.controller.signal});this._connected();for await(const u of l)Ue(this,qn,"m",Ph).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Vi;return this._addRun(Ue(this,qn,"m",Nh).call(this))}static createThreadAssistantStream(e,n,r){const i=new Gi;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Gi;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return Ue(this,sg,"f")}currentRun(){return Ue(this,og,"f")}currentMessageSnapshot(){return Ue(this,$i,"f")}currentRunStepSnapshot(){return Ue(this,Vh,"f")}async finalRunSteps(){return await this.done(),Object.values(Ue(this,_s,"f"))}async finalMessages(){return await this.done(),Object.values(Ue(this,ig,"f"))}async finalRun(){if(await this.done(),!Ue(this,Za,"f"))throw Error("Final run was not received.");return Ue(this,Za,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)Ue(this,qn,"m",Ph).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Vi;return this._addRun(Ue(this,qn,"m",Nh).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const c of a)Ue(this,qn,"m",Ph).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Vi;return this._addRun(Ue(this,qn,"m",Nh).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(c1(s)&&c1(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!c1(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=s[a];l==null?s.push(o):s[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}Ph=function(e){if(!this.ended)switch(qr(this,sg,e,"f"),Ue(this,qn,"m",yx).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Ue(this,qn,"m",_x).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ue(this,qn,"m",vx).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Ue(this,qn,"m",mx).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Nh=function(){if(this.ended)throw new dt("stream has ended, this shouldn't happen");if(!Ue(this,Za,"f"))throw Error("Final run has not been received");return Ue(this,Za,"f")},mx=function(e){const[n,r]=Ue(this,qn,"m",bx).call(this,e,Ue(this,$i,"f"));qr(this,$i,n,"f"),Ue(this,ig,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Ue(this,jc,"f")){if(Ue(this,za,"f"))switch(Ue(this,za,"f").type){case"text":this._emit("textDone",Ue(this,za,"f").text,Ue(this,$i,"f"));break;case"image_file":this._emit("imageFileDone",Ue(this,za,"f").image_file,Ue(this,$i,"f"));break}qr(this,jc,i.index,"f")}qr(this,za,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Ue(this,jc,"f")!==void 0){const i=e.data.content[Ue(this,jc,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Ue(this,$i,"f"));break;case"text":this._emit("textDone",i.text,Ue(this,$i,"f"));break}}Ue(this,$i,"f")&&this._emit("messageDone",e.data),qr(this,$i,void 0,"f")}},vx=function(e){const n=Ue(this,qn,"m",wx).call(this,e);switch(qr(this,Vh,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==Ue(this,Wg,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(Ue(this,Gr,"f")&&this._emit("toolCallDone",Ue(this,Gr,"f")),qr(this,Wg,s.index,"f"),qr(this,Gr,n.step_details.tool_calls[s.index],"f"),Ue(this,Gr,"f")&&this._emit("toolCallCreated",Ue(this,Gr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":qr(this,Vh,void 0,"f"),e.data.step_details.type=="tool_calls"&&Ue(this,Gr,"f")&&(this._emit("toolCallDone",Ue(this,Gr,"f")),qr(this,Gr,void 0,"f")),this._emit("runStepDone",e.data,n);break}},yx=function(e){Ue(this,r2,"f").push(e),this._emit("event",e)},wx=function(e){switch(e.event){case"thread.run.step.created":return Ue(this,_s,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Ue(this,_s,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Gi.accumulateDelta(n,r.delta);Ue(this,_s,"f")[e.data.id]=i}return Ue(this,_s,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Ue(this,_s,"f")[e.data.id]=e.data;break}if(Ue(this,_s,"f")[e.data.id])return Ue(this,_s,"f")[e.data.id];throw new Error("No snapshot available")},bx=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=Ue(this,qn,"m",xx).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},xx=function(e,n){return Gi.accumulateDelta(n,e)},_x=function(e){switch(qr(this,og,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":qr(this,Za,e.data,"f"),Ue(this,Gr,"f")&&(this._emit("toolCallDone",Ue(this,Gr,"f")),qr(this,Gr,void 0,"f"));break}};class n5 extends Lt{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Fr(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,r5,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class r5 extends Zi{}n5.MessagesPage=r5;class i5 extends Lt{retrieve(e,n,r,i={},s){return Fr(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return Fr(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,s5,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class s5 extends Zi{}i5.RunStepsPage=s5;class Qd extends Lt{constructor(){super(...arguments),this.steps=new i5(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Fr(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,o5,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return Gi.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Kd(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return Gi.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return Gi.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}}class o5 extends Zi{}Qd.RunsPage=o5;Qd.Steps=i5;Qd.RunStepsPage=s5;class mu extends Lt{constructor(){super(...arguments),this.runs=new Qd(this._client),this.messages=new n5(this._client)}create(e={},n){return Fr(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Gi.createThreadAssistantStream(e,this._client.beta.threads,n)}}mu.Runs=Qd;mu.RunsPage=o5;mu.Messages=n5;mu.MessagesPage=r5;const oI=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let a5=class extends Lt{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return Fr(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,jm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),o=s.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Kd(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}};class jm extends Zi{}a5.VectorStoreFilesPage=jm;class EA extends Lt{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return Fr(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,jm,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Kd(a);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),c=[...r];async function u(p){for(let f of p){const m=await a.files.create({file:f,purpose:"assistants"},i);c.push(m.id)}}const h=Array(o).fill(l).map(u);return await oI(h),await this.createAndPoll(e,{file_ids:c})}}class vu extends Lt{constructor(){super(...arguments),this.files=new a5(this._client),this.fileBatches=new EA(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Fr(e)?this.list({},e):this._client.getAPIList("/vector_stores",l5,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class l5 extends Zi{}vu.VectorStoresPage=l5;vu.Files=a5;vu.VectorStoreFilesPage=jm;vu.FileBatches=EA;class Pl extends Lt{constructor(){super(...arguments),this.vectorStores=new vu(this._client),this.chat=new n2(this._client),this.assistants=new Zy(this._client),this.threads=new mu(this._client)}}Pl.VectorStores=vu;Pl.VectorStoresPage=l5;Pl.Assistants=Zy;Pl.AssistantsPage=e5;Pl.Threads=mu;class LA extends Lt{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class jA extends Lt{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class c5 extends Lt{create(e,n){return this._client.post("/files",su({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Fr(e)?this.list({},e):this._client.getAPIList("/files",u5,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await Kd(n),o=await this.retrieve(e),Date.now()-s>r)throw new Ky({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}class u5 extends Zi{}c5.FileObjectsPage=u5;class h5 extends Lt{list(e,n={},r){return Fr(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,d5,{query:n,...r})}}class d5 extends Zi{}h5.FineTuningJobCheckpointsPage=d5;class yu extends Lt{constructor(){super(...arguments),this.checkpoints=new h5(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Fr(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",f5,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Fr(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,p5,{query:n,...r})}}class f5 extends Zi{}class p5 extends Zi{}yu.FineTuningJobsPage=f5;yu.FineTuningJobEventsPage=p5;yu.Checkpoints=h5;yu.FineTuningJobCheckpointsPage=d5;class Zd extends Lt{constructor(){super(...arguments),this.jobs=new yu(this._client)}}Zd.Jobs=yu;Zd.FineTuningJobsPage=f5;Zd.FineTuningJobEventsPage=p5;class OA extends Lt{createVariation(e,n){return this._client.post("/images/variations",su({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",su({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class g5 extends Lt{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",m5,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class m5 extends YT{}g5.ModelsPage=m5;class TA extends Lt{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class IA extends Lt{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,su({body:n,...r}))}}class v5 extends Lt{constructor(){super(...arguments),this.parts=new IA(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}v5.Parts=IA;var RA;class gt extends RT{constructor({baseURL:e=bp("OPENAI_BASE_URL"),apiKey:n=bp("OPENAI_API_KEY"),organization:r=bp("OPENAI_ORG_ID")??null,project:i=bp("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new dt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&VT())throw new dt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new LA(this),this.chat=new Jy(this),this.embeddings=new jA(this),this.files=new c5(this),this.images=new OA(this),this.audio=new Jd(this),this.moderations=new TA(this),this.models=new g5(this),this.fineTuning=new Zd(this),this.beta=new Pl(this),this.batches=new Xy(this),this.uploads=new v5(this),this._options=o,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return yT(e,{arrayFormat:"brackets"})}}RA=gt;gt.OpenAI=RA;gt.DEFAULT_TIMEOUT=6e5;gt.OpenAIError=dt;gt.APIError=Yn;gt.APIConnectionError=Cm;gt.APIConnectionTimeoutError=Ky;gt.APIUserAbortError=Vi;gt.NotFoundError=zk;gt.ConflictError=Uk;gt.RateLimitError=Wk;gt.BadRequestError=Dk;gt.AuthenticationError=Bk;gt.InternalServerError=qk;gt.PermissionDeniedError=$k;gt.UnprocessableEntityError=Hk;gt.toFile=Xk;gt.fileFromPath=Mk;gt.Completions=LA;gt.Chat=Jy;gt.Embeddings=jA;gt.Files=c5;gt.FileObjectsPage=u5;gt.Images=OA;gt.Audio=Jd;gt.Moderations=TA;gt.Models=g5;gt.ModelsPage=m5;gt.FineTuning=Zd;gt.Beta=Pl;gt.Batches=Xy;gt.BatchesPage=Qy;gt.Uploads=v5;function aI(t){const e=new Date().toISOString().split("T")[0];return{fecha:t.fecha||e,monto:typeof t.monto=="number"?t.monto:0,impuestos:typeof t.impuestos=="number"?t.impuestos:0,categoria:t.categoria||"otros",nombres:t.nombres||[],descripcion:t.descripcion||"",ruc:t.ruc||"",servicios:t.servicios||""}}function lI(t){if(!t.trim())throw new Error("El texto del documento est vaco")}class g1 extends Error{constructor(e,n){super(e),this.provider=n,this.name="AIError"}}function Sx(t,e){throw console.error(`Error en ${e}:`,t),t instanceof Error?t.message.includes("API key")?new g1(`Error de autenticacin con ${e}`,e):new g1(t.message,e):new g1(`Error al procesar la solicitud con ${e}`,e)}class MA{async analyzeReceipt(e){try{lI(e);const n=await this.processReceiptText(e);return aI(n)}catch(n){throw Sx(n,this.providerName)}}async chat(e,n){try{return await this.processChatPrompt(e,n)}catch(r){throw Sx(r,this.providerName)}}}const Gh={GEMINI:{API_KEY:"AIzaSyDUdt-smNaPd0AEdjcYvRJkIpywbWjJAIM",MODEL:"gemini-1.5-flash"},OPENAI:{API_KEY:"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",MODEL:"gpt-4o"}},i2={analyze:`Analiza este recibo y extrae la siguiente informacin en formato JSON:
  {
    "fecha": "YYYY-MM-DD",
    "monto": number,
    "impuestos": number[],
    "categoria": string,
    "nombres": string[],
    "ruc del emisor": string,
    "descripcion": string,
    "servicios": string[]
  }
  
  Texto del recibo:`,systemRole:`Eres un asistente especializado en analizar documentos financieros.
  Extrae la siguiente informacin del texto proporcionado y devulvela en formato JSON:
  {
    "fecha": "YYYY-MM-DD",
    "monto": number,
    "impuestos": number[],
    "categoria": string,
    "nombres": string[],
    "ruc del emisor": string,
    "descripcion": string,
    "servicios": string[]
  }`},FA={systemRole:`Acta como un asistente financiero profesional. REGLAS OBLIGATORIAS:
  1. Mximo 25 palabras por respuesta
  2. Comenzar con "Usuario:" seguido del mensaje del usuario
  3. Responder con "Asistente Financiero:" seguido de tu respuesta
  4. Ser directo y especfico
  5. Usar datos del contexto cuando estn disponibles`,withContext:(t,e)=>`Contexto financiero actual:
${t}

Usuario: ${e}

Recuerda: Mximo 25 palabras en tu respuesta.`},Ha=class Ha extends MA{constructor(){super();je(this,"providerName","openai");je(this,"openai");this.openai=new gt({apiKey:Gh.OPENAI.API_KEY,dangerouslyAllowBrowser:!0})}static getInstance(){return Ha.instance||(Ha.instance=new Ha),Ha.instance}async processReceiptText(n){const r=`${i2.analyze}
${n}`,o=((await this.openai.chat.completions.create({model:Gh.OPENAI.MODEL,messages:[{role:"system",content:i2.systemRole},{role:"user",content:r}],temperature:.7,max_tokens:5e3})).choices[0].message.content||"Lo siento, no pude procesar tu consulta.").match(/\{[\s\S]*\}/);if(!o)throw new Error("No se pudo extraer informacin del documento");return JSON.parse(o[0])}async processChatPrompt(n,r){const i=[{role:"system",content:FA.systemRole}];return r&&i.push({role:"system",content:`Contexto: ${r}`}),i.push({role:"user",content:n}),(await this.openai.chat.completions.create({model:Gh.OPENAI.MODEL,messages:i,temperature:.7,max_tokens:50})).choices[0].message.content||"Lo siento, no pude procesar tu consulta."}};je(Ha,"instance");let s2=Ha;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(kx||(kx={}));var Ax;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ax||(Ax={}));var Px;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Px||(Px={}));var Nx;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Nx||(Nx={}));var qg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(qg||(qg={}));var Cx;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Cx||(Cx={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ex extends Ed{constructor(e,n){super(e),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="https://generativelanguage.googleapis.com",uI="v1",hI="0.1.3",dI="genai-js";var vl;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(vl||(vl={}));class ef{constructor(e,n,r,i){this.model=e,this.task=n,this.apiKey=r,this.stream=i}toString(){let e=`${cI}/${uI}/models/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}function fI(){return`${dI}/${hI}`}async function tf(t,e){let n;try{if(n=await fetch(t.toString(),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":fI(),"x-goog-api-key":t.apiKey},body:e}),!n.ok){let r="";try{const i=await n.json();r=i.error.message,i.error.details&&(r+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${n.status} ${n.statusText}] ${r}`)}}catch(r){const i=new Ed(`Error fetching from ${t.toString()}: ${r.message}`);throw i.stack=r.stack,i}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),DA(t.candidates[0]))throw new Ex(`${Vg(t)}`,t);return pI(t)}else if(t.promptFeedback)throw new Ex(`Text not available. ${Vg(t)}`,t);return""},t}function pI(t){var e,n,r,i;return!((i=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||i===void 0)&&i.text?t.candidates[0].content.parts[0].text:""}const gI=[qg.RECITATION,qg.SAFETY];function DA(t){return!!t.finishReason&&gI.includes(t.finishReason)}function Vg(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];DA(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Ld(t){return this instanceof Ld?(this.v=t,this):new Ld(t)}function mI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(f){return new Promise(function(m,v){s.push([p,f,m,v])>1||a(p,f)})})}function a(p,f){try{l(r[p](f))}catch(m){h(s[0][3],m)}}function l(p){p.value instanceof Ld?Promise.resolve(p.value.v).then(c,u):h(s[0][2],p)}function c(p){a("next",p)}function u(p){a("throw",p)}function h(p,f){p(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function vI(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=bI(e),[r,i]=n.tee();return{stream:wI(r),response:yI(i)}}async function yI(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return y5(xI(e));e.push(i)}}function wI(t){return mI(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Ld(n.read());if(i)break;yield yield Ld(y5(r))}})}function bI(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new Ed("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match(Lx),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Ed(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),i=i.substring(l[0].length),l=i.match(Lx)}return s()})}}})}function xI(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[{text:""}]});for(const o of i.content.parts)o.text&&(n.candidates[s].content.parts[0].text+=o.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(t,e,n){const r=new ef(e,vl.STREAM_GENERATE_CONTENT,t,!0),i=await tf(r,JSON.stringify(n));return vI(i)}async function $A(t,e,n){const r=new ef(e,vl.GENERATE_CONTENT,t,!1),s=await(await tf(r,JSON.stringify(n))).json();return{response:y5(s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e){let n=[];if(typeof t=="string")n=[{text:t}];else for(const r of t)typeof r=="string"?n.push({text:r}):n.push(r);return{role:e,parts:n}}function m1(t){return t.contents?t:{contents:[Yh(t,"user")]}}function _I(t){return typeof t=="string"||Array.isArray(t)?{content:Yh(t,"user")}:t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="SILENT_ERROR";class SI{constructor(e,n,r){this.model=n,this.params=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return Yh(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r;await this._sendPromise;const i=Yh(e,"user"),s={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,i]};let o;return this._sendPromise=this._sendPromise.then(()=>$A(this._apiKey,this.model,s)).then(a=>{var l;if(a.response.candidates&&a.response.candidates.length>0){this._history.push(i);const c=Object.assign({parts:[],role:"model"},(l=a.response.candidates)===null||l===void 0?void 0:l[0].content);this._history.push(c)}else{const c=Vg(a.response);c&&console.warn(`sendMessage() was unsuccessful. ${c}. Inspect response object for details.`)}o=a}),await this._sendPromise,o}async sendMessageStream(e){var n,r;await this._sendPromise;const i=Yh(e,"user"),s={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,i]},o=BA(this._apiKey,this.model,s);return this._sendPromise=this._sendPromise.then(()=>o).catch(a=>{throw new Error(jx)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(i);const l=Object.assign({},a.candidates[0].content);l.role||(l.role="model"),this._history.push(l)}else{const l=Vg(a);l&&console.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(a=>{a.message!==jx&&console.error(a)}),o}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t,e,n){const r=new ef(e,vl.COUNT_TOKENS,t,!1);return(await tf(r,JSON.stringify(Object.assign(Object.assign({},n),{model:e})))).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t,e,n){const r=new ef(e,vl.EMBED_CONTENT,t,!1);return(await tf(r,JSON.stringify(n))).json()}async function PI(t,e,n){const r=new ef(e,vl.BATCH_EMBED_CONTENTS,t,!1),i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:`models/${e}`}));return(await tf(r,JSON.stringify({requests:i}))).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){var r;this.apiKey=e,n.model.startsWith("models/")?this.model=(r=n.model.split("models/"))===null||r===void 0?void 0:r[1]:this.model=n.model,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[]}async generateContent(e){const n=m1(e);return $A(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n))}async generateContentStream(e){const n=m1(e);return BA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n))}startChat(e){return new SI(this.apiKey,this.model,e)}async countTokens(e){const n=m1(e);return kI(this.apiKey,this.model,n)}async embedContent(e){const n=_I(e);return AI(this.apiKey,this.model,n)}async batchEmbedContents(e){return PI(this.apiKey,this.model,e)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.apiKey=e}getGenerativeModel(e){if(!e.model)throw new Ed("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new NI(this.apiKey,e)}}const Wa=class Wa extends MA{constructor(){super();je(this,"providerName","Gemini");je(this,"genAI");je(this,"model");this.genAI=new CI(Gh.GEMINI.API_KEY),this.model=this.genAI.getGenerativeModel({model:Gh.GEMINI.MODEL,generationConfig:{maxOutputTokens:50}})}static getInstance(){return Wa.instance||(Wa.instance=new Wa),Wa.instance}async processReceiptText(n){const r=`${i2.analyze}
${n}`;console.log("Prompt:",r);const s=await(await this.model.generateContent(r)).response;console.log("Response:",s);const o=s.candidates[0].content.parts[0].text;console.log("Content:",o);const a=o.match(/\{[\s\S]*\}/);if(console.log("JSON Match:",a),!a)throw new Error("No se pudo extraer informacin del documento");return JSON.parse(a[0])}async processChatPrompt(n,r){const i=r?FA.withContext(r,n):n;return(await(await this.model.generateContent(i)).response).text()}};je(Wa,"instance");let o2=Wa;class zA{static getProvider(e){switch(e){case"openai":return s2.getInstance();case"gemini":return o2.getInstance();default:throw new Error("Proveedor de IA no soportado")}}}var EI={exports:{}};(function(t){var e=function(n){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(M,V,ne){M[V]=ne.value},o,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function h(M,V,ne){return Object.defineProperty(M,V,{value:ne,enumerable:!0,configurable:!0,writable:!0}),M[V]}try{h({},"")}catch{h=function(V,ne,j){return V[ne]=j}}function p(M,V,ne,j){var D=V&&V.prototype instanceof _?V:_,G=Object.create(D.prototype),Z=new J(j||[]);return s(G,"_invoke",{value:O(M,ne,Z)}),G}n.wrap=p;function f(M,V,ne){try{return{type:"normal",arg:M.call(V,ne)}}catch(j){return{type:"throw",arg:j}}}var m="suspendedStart",v="suspendedYield",x="executing",y="completed",w={};function _(){}function k(){}function N(){}var T={};h(T,l,function(){return this});var E=Object.getPrototypeOf,L=E&&E(E(K([])));L&&L!==r&&i.call(L,l)&&(T=L);var F=N.prototype=_.prototype=Object.create(T);k.prototype=N,s(F,"constructor",{value:N,configurable:!0}),s(N,"constructor",{value:k,configurable:!0}),k.displayName=h(N,u,"GeneratorFunction");function z(M){["next","throw","return"].forEach(function(V){h(M,V,function(ne){return this._invoke(V,ne)})})}n.isGeneratorFunction=function(M){var V=typeof M=="function"&&M.constructor;return V?V===k||(V.displayName||V.name)==="GeneratorFunction":!1},n.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,N):(M.__proto__=N,h(M,u,"GeneratorFunction")),M.prototype=Object.create(F),M},n.awrap=function(M){return{__await:M}};function C(M,V){function ne(G,Z,ee,ce){var he=f(M[G],M,Z);if(he.type==="throw")ce(he.arg);else{var ge=he.arg,Ae=ge.value;return Ae&&typeof Ae=="object"&&i.call(Ae,"__await")?V.resolve(Ae.__await).then(function(Se){ne("next",Se,ee,ce)},function(Se){ne("throw",Se,ee,ce)}):V.resolve(Ae).then(function(Se){ge.value=Se,ee(ge)},function(Se){return ne("throw",Se,ee,ce)})}}var j;function D(G,Z){function ee(){return new V(function(ce,he){ne(G,Z,ce,he)})}return j=j?j.then(ee,ee):ee()}s(this,"_invoke",{value:D})}z(C.prototype),h(C.prototype,c,function(){return this}),n.AsyncIterator=C,n.async=function(M,V,ne,j,D){D===void 0&&(D=Promise);var G=new C(p(M,V,ne,j),D);return n.isGeneratorFunction(V)?G:G.next().then(function(Z){return Z.done?Z.value:G.next()})};function O(M,V,ne){var j=m;return function(G,Z){if(j===x)throw new Error("Generator is already running");if(j===y){if(G==="throw")throw Z;return Y()}for(ne.method=G,ne.arg=Z;;){var ee=ne.delegate;if(ee){var ce=H(ee,ne);if(ce){if(ce===w)continue;return ce}}if(ne.method==="next")ne.sent=ne._sent=ne.arg;else if(ne.method==="throw"){if(j===m)throw j=y,ne.arg;ne.dispatchException(ne.arg)}else ne.method==="return"&&ne.abrupt("return",ne.arg);j=x;var he=f(M,V,ne);if(he.type==="normal"){if(j=ne.done?y:v,he.arg===w)continue;return{value:he.arg,done:ne.done}}else he.type==="throw"&&(j=y,ne.method="throw",ne.arg=he.arg)}}}function H(M,V){var ne=V.method,j=M.iterator[ne];if(j===o)return V.delegate=null,ne==="throw"&&M.iterator.return&&(V.method="return",V.arg=o,H(M,V),V.method==="throw")||ne!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+ne+"' method")),w;var D=f(j,M.iterator,V.arg);if(D.type==="throw")return V.method="throw",V.arg=D.arg,V.delegate=null,w;var G=D.arg;if(!G)return V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,w;if(G.done)V[M.resultName]=G.value,V.next=M.nextLoc,V.method!=="return"&&(V.method="next",V.arg=o);else return G;return V.delegate=null,w}z(F),h(F,u,"Generator"),h(F,l,function(){return this}),h(F,"toString",function(){return"[object Generator]"});function W(M){var V={tryLoc:M[0]};1 in M&&(V.catchLoc=M[1]),2 in M&&(V.finallyLoc=M[2],V.afterLoc=M[3]),this.tryEntries.push(V)}function ie(M){var V=M.completion||{};V.type="normal",delete V.arg,M.completion=V}function J(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(W,this),this.reset(!0)}n.keys=function(M){var V=Object(M),ne=[];for(var j in V)ne.push(j);return ne.reverse(),function D(){for(;ne.length;){var G=ne.pop();if(G in V)return D.value=G,D.done=!1,D}return D.done=!0,D}};function K(M){if(M){var V=M[l];if(V)return V.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var ne=-1,j=function D(){for(;++ne<M.length;)if(i.call(M,ne))return D.value=M[ne],D.done=!1,D;return D.value=o,D.done=!0,D};return j.next=j}}return{next:Y}}n.values=K;function Y(){return{value:o,done:!0}}return J.prototype={constructor:J,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(ie),!M)for(var V in this)V.charAt(0)==="t"&&i.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=o)},stop:function(){this.done=!0;var M=this.tryEntries[0],V=M.completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var V=this;function ne(ce,he){return G.type="throw",G.arg=M,V.next=ce,he&&(V.method="next",V.arg=o),!!he}for(var j=this.tryEntries.length-1;j>=0;--j){var D=this.tryEntries[j],G=D.completion;if(D.tryLoc==="root")return ne("end");if(D.tryLoc<=this.prev){var Z=i.call(D,"catchLoc"),ee=i.call(D,"finallyLoc");if(Z&&ee){if(this.prev<D.catchLoc)return ne(D.catchLoc,!0);if(this.prev<D.finallyLoc)return ne(D.finallyLoc)}else if(Z){if(this.prev<D.catchLoc)return ne(D.catchLoc,!0)}else if(ee){if(this.prev<D.finallyLoc)return ne(D.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(M,V){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var j=this.tryEntries[ne];if(j.tryLoc<=this.prev&&i.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var D=j;break}}D&&(M==="break"||M==="continue")&&D.tryLoc<=V&&V<=D.finallyLoc&&(D=null);var G=D?D.completion:{};return G.type=M,G.arg=V,D?(this.method="next",this.next=D.finallyLoc,w):this.complete(G)},complete:function(M,V){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&V&&(this.next=V),w},finish:function(M){for(var V=this.tryEntries.length-1;V>=0;--V){var ne=this.tryEntries[V];if(ne.finallyLoc===M)return this.complete(ne.completion,ne.afterLoc),ie(ne),w}},catch:function(M){for(var V=this.tryEntries.length-1;V>=0;--V){var ne=this.tryEntries[V];if(ne.tryLoc===M){var j=ne.completion;if(j.type==="throw"){var D=j.arg;ie(ne)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(M,V,ne){return this.delegate={iterator:K(M),resultName:V,nextLoc:ne},this.method==="next"&&(this.arg=o),w}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(EI);var w5=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const LI=w5;let Ox=0;var UA=({id:t,action:e,payload:n={}})=>{let r=t;return typeof r>"u"&&(r=LI("Job",Ox),Ox+=1),{id:r,action:e,payload:n}},wu={};let b5=!1;wu.logging=b5;wu.setLogging=t=>{b5=t};wu.log=(...t)=>b5?console.log.apply(void 0,t):null;const jI=UA,{log:kp}=wu,OI=w5;let Tx=0;var TI=()=>{const t=OI("Scheduler",Tx),e={},n={};let r=[];Tx+=1;const i=()=>r.length,s=()=>Object.keys(e).length,o=()=>{if(r.length!==0){const h=Object.keys(e);for(let p=0;p<h.length;p+=1)if(typeof n[h[p]]>"u"){r[0](e[h[p]]);break}}},a=(h,p)=>new Promise((f,m)=>{const v=jI({action:h,payload:p});r.push(async x=>{r.shift(),n[x.id]=v;try{f(await x[h].apply(void 0,[...p,v.id]))}catch(y){m(y)}finally{delete n[x.id],o()}}),kp(`[${t}]: Add ${v.id} to JobQueue`),kp(`[${t}]: JobQueue length=${r.length}`),o()});return{addWorker:h=>(e[h.id]=h,kp(`[${t}]: Add ${h.id}`),kp(`[${t}]: Number of workers=${s()}`),o(),h.id),addJob:async(h,...p)=>{if(s()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return a(h,p)},terminate:async()=>{Object.keys(e).forEach(async h=>{await e[h].terminate()}),r=[]},getQueueLen:i,getNumWorkers:s}};function II(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function RI(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var MI=RI;const FI=MI;var DI=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":FI()?e.type="electron":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof II=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const BI=DI("type")==="browser",$I=BI?t=>new URL(t,window.location.href).href:t=>t;var zI=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(n=>{t[n]&&(e[n]=$I(e[n]))}),e},UI=t=>{const e=[],n=[],r=[],i=[],s=[];return t.blocks&&t.blocks.forEach(o=>{o.paragraphs.forEach(a=>{a.lines.forEach(l=>{l.words.forEach(c=>{c.symbols.forEach(u=>{s.push({...u,page:t,block:o,paragraph:a,line:l,word:c})}),i.push({...c,page:t,block:o,paragraph:a,line:l})}),r.push({...l,page:t,block:o,paragraph:a})}),n.push({...a,page:t,block:o})}),e.push({...o,page:t})}),{...t,blocks:e,paragraphs:n,lines:r,words:i,symbols:s}},HA={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const HI=HA;var WI={defaultOEM:HI.DEFAULT};const qI="tesseract.js",VI="4.1.4",GI="Pure Javascript Multilingual OCR",YI="src/index.js",KI="src/index.d.ts",JI="dist/tesseract.min.js",XI="dist/tesseract.min.js",QI={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},ZI={"./src/worker/node/index.js":"./src/worker/browser/index.js"},eR="",tR=["jeromewu"],nR="Apache-2.0",rR={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},iR={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^4.0.4","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},sR={"@rollup/pluginutils":"^5.0.2"},oR={type:"git",url:"https://github.com/naptha/tesseract.js.git"},aR={url:"https://github.com/naptha/tesseract.js/issues"},lR="https://github.com/naptha/tesseract.js",cR={type:"opencollective",url:"https://opencollective.com/tesseractjs"},uR={name:qI,version:VI,description:GI,main:YI,types:KI,unpkg:JI,jsdelivr:XI,scripts:QI,browser:ZI,author:eR,contributors:tR,license:nR,devDependencies:rR,dependencies:iR,overrides:sR,repository:oR,bugs:aR,homepage:lR,collective:cR};var hR={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}},dR={};const fR=t=>new URL(t,window.location.href).href,{version:pR}=uR,gR=hR;var mR={...gR,workerPath:typeof process<"u"&&dR.TESS_ENV==="development"?fR(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://cdn.jsdelivr.net/npm/tesseract.js@v${pR}/dist/worker.min.js`,corePath:null},vR=({workerPath:t,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const r=new Blob([`importScripts("${t}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(t);return n},yR=t=>{t.terminate()},wR=(t,e)=>{t.onmessage=({data:n})=>{e(n)}},bR=async(t,e)=>{t.postMessage(e)};const v1=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:i}}})=>{n(Error(`File could not be read! Code=${i}`))},r.readAsArrayBuffer(t)}),a2=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(n=>n.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await a2(t.src)),t.tagName==="VIDEO"&&(e=await a2(t.poster)),t.tagName==="CANVAS"&&await new Promise(n=>{t.toBlob(async r=>{e=await v1(r),n()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const n=await t.convertToBlob();e=await v1(n)}else(t instanceof File||t instanceof Blob)&&(e=await v1(t));return new Uint8Array(e)};var xR=a2;const _R=mR,SR=vR,kR=yR,AR=wR,PR=bR,NR=xR;var CR={defaultOptions:_R,spawnWorker:SR,terminateWorker:kR,onMessage:AR,send:PR,loadImage:NR};const ER=zI,LR=UI,Ri=UA,{log:Ix}=wu,jR=w5,{defaultOEM:OR}=WI,{defaultOptions:TR,spawnWorker:IR,terminateWorker:RR,onMessage:MR,loadImage:Rx,send:FR}=CR;let Mx=0;var WA=async(t={})=>{const e=jR("Worker",Mx),{logger:n,errorHandler:r,...i}=ER({...TR,...t}),s={},o={};let a,l;const c=new Promise((H,W)=>{l=H,a=W}),u=H=>{a(H.message)};let h=IR(i);h.onerror=u,Mx+=1;const p=(H,W)=>{s[H]=W},f=(H,W)=>{o[H]=W},m=({id:H,action:W,payload:ie})=>new Promise((J,K)=>{Ix(`[${e}]: Start ${H}, action=${W}`),p(W,J),f(W,K),FR(h,{workerId:e,jobId:H,action:W,payload:ie})}),v=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),x=H=>m(Ri({id:H,action:"load",payload:{options:i}})),y=(H,W,ie)=>m(Ri({id:ie,action:"FS",payload:{method:"writeFile",args:[H,W]}})),w=(H,W)=>m(Ri({id:W,action:"FS",payload:{method:"readFile",args:[H,{encoding:"utf8"}]}})),_=(H,W)=>m(Ri({id:W,action:"FS",payload:{method:"unlink",args:[H]}})),k=(H,W,ie)=>m(Ri({id:ie,action:"FS",payload:{method:H,args:W}})),N=(H="eng",W)=>m(Ri({id:W,action:"loadLanguage",payload:{langs:H,options:i}})),T=(H="eng",W=OR,ie,J)=>m(Ri({id:J,action:"initialize",payload:{langs:H,oem:W,config:ie}})),E=(H={},W)=>m(Ri({id:W,action:"setParameters",payload:{params:H}})),L=async(H,W={},ie={blocks:!0,text:!0,hocr:!0,tsv:!0},J)=>m(Ri({id:J,action:"recognize",payload:{image:await Rx(H),options:W,output:ie}})),F=(H="Tesseract OCR Result",W=!1,ie)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),m(Ri({id:ie,action:"getPDF",payload:{title:H,textonly:W}}))),z=async(H,W)=>m(Ri({id:W,action:"detect",payload:{image:await Rx(H)}})),C=async()=>(h!==null&&(RR(h),h=null),Promise.resolve());MR(h,({workerId:H,jobId:W,status:ie,action:J,data:K})=>{if(ie==="resolve"){Ix(`[${H}]: Complete ${W}`);let Y=K;J==="recognize"?Y=LR(K):J==="getPDF"&&(Y=Array.from({...K,length:Object.keys(K).length})),s[J]({jobId:W,data:Y})}else if(ie==="reject")if(o[J](K),J==="load"&&a(K),r)r(K);else throw Error(K);else ie==="progress"&&n({...K,userJobId:W})});const O={id:e,worker:h,setResolve:p,setReject:f,load:v,writeText:y,readText:w,removeFile:_,FS:k,loadLanguage:N,initialize:T,setParameters:E,recognize:L,getPDF:F,detect:z,terminate:C};return x().then(()=>l(O)).catch(()=>{}),c};const qA=WA,DR=async(t,e,n)=>{const r=await qA(n);return await r.loadLanguage(e),await r.initialize(e),r.recognize(t).finally(async()=>{await r.terminate()})},BR=async(t,e)=>{const n=await qA(e);return await n.loadLanguage("osd"),await n.initialize("osd"),n.detect(t).finally(async()=>{await n.terminate()})};var $R={recognize:DR,detect:BR},zR={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},UR={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const HR=TI,WR=WA,qR=$R,VR=zR,GR=HA,YR=UR,{setLogging:KR}=wu;var JR={languages:VR,OEM:GR,PSM:YR,createScheduler:HR,createWorker:WR,setLogging:KR,...qR};const qa=class qa{constructor(e="gemini"){je(this,"aiProvider");this.aiProvider=zA.getProvider(e)}static getInstance(e="gemini"){return qa.instance||(qa.instance=new qa(e)),qa.instance}async processReceipt(e){try{const n=await JR.createWorker();await n.load(),await n.loadLanguage("spa"),await n.initialize("spa");const{data:{text:r}}=await n.recognize(e);if(await n.terminate(),!r.trim())throw new Error("No se pudo extraer texto de la imagen");return await this.aiProvider.analyzeReceipt(r)}catch(n){throw console.error("Error al procesar el recibo:",n),n instanceof Error?new Error(`Error: ${n.message}`):new Error("Error al procesar el documento")}}};je(qa,"instance");let l2=qa;const Va=class Va{constructor(){je(this,"bucketName","cashai-storage")}static getInstance(){return Va.instance||(Va.instance=new Va),Va.instance}async uploadFile(e){const n=(await It.auth.getUser()).data.user;if(!n)throw new Error("Usuario no autenticado");try{if(e.size>5*1024*1024)throw new Error("El archivo es demasiado grande. Mximo 5MB.");const r=`${n.id}/${Date.now()}_${e.name}`,{error:i}=await It.storage.from(this.bucketName).upload(r,e);if(i)throw i;const{data:{publicUrl:s}}=It.storage.from(this.bucketName).getPublicUrl(r);return await It.from("documents").insert({user_id:n.id,file_name:e.name,file_url:s,file_type:e.type,file_size:e.size}),s}catch(r){throw console.error("Error al subir archivo:",r),r}}async uploadBase64Image(e,n){const r=(await It.auth.getUser()).data.user;if(!r)throw new Error("Usuario no autenticado");try{const i=e.split(",")[1]||e,s=await fetch(`data:image/jpeg;base64,${i}`).then(c=>c.blob()),o=`${r.id}/${Date.now()}_${n}`,{error:a}=await It.storage.from(this.bucketName).upload(o,s,{contentType:"image/jpeg"});if(a)throw a;console.log("File uploaded successfully:",o);const{data:{publicUrl:l}}=It.storage.from(this.bucketName).getPublicUrl(o);return await It.from("documents").insert({user_id:r.id,file_name:n,file_url:l,file_type:"image/jpeg",file_size:s.size}),l}catch(i){throw console.error("Error al subir imagen:",i),i}}};je(Va,"instance");let c2=Va;function XR({onClose:t,onScanComplete:e}){const n=X.useRef(null),r=X.useRef(null),[i,s]=X.useState(!1),[o,a]=X.useState(null),[l,c]=X.useState("camera"),u=l2.getInstance("openai"),h=c2.getInstance(),p=async(x,y)=>{try{s(!0),a(null);const w=await h.uploadBase64Image(x,`receipt-${Date.now()}.jpg`);y||(y=await u.processReceipt(x)),y={...y,nombres:[]},e(y,w)}catch(w){console.error("Error processing receipt:",w),a(w instanceof Error?w.message:"Error al procesar el documento")}finally{s(!1)}},f=X.useCallback(async()=>{if(a(null),s(!0),!n.current)return;const x=n.current.getScreenshot({height:1920,width:1080});if(!x){a("No se pudo capturar la imagen");return}let y=3.5,w=null,_=null;for(;y>=1;){if(_=await v(x,y),_)try{if(w=await u.processReceipt(_),w&&w.monto)break}catch(k){console.error("Error processing receipt:",k)}y-=.5}if(!w||!w.monto){a("No se pudo procesar el recibo");return}_?await p(_,w):(a("No se pudo ajustar la imagen"),await p(x))},[]),m=async x=>{var w;const y=(w=x.target.files)==null?void 0:w[0];if(y)try{s(!0),a(null);const _=await new Promise((k,N)=>{const T=new FileReader;T.onload=()=>k(T.result),T.onerror=N,T.readAsDataURL(y)});await p(_)}catch(_){console.error("Error processing file:",_),a(_ instanceof Error?_.message:"Error al procesar el archivo"),s(!1)}};function v(x,y){const w=new Image;w.src=x;const _=document.createElement("canvas"),k=_.getContext("2d");return new Promise(N=>{w.onload=()=>{if(_.width=w.width,_.height=w.height,!k)return;k.drawImage(w,0,0);const T=k.getImageData(0,0,_.width,_.height);if(!T)return;const E=T.data;for(let L=0;L<E.length;L+=4)E[L]=Math.min(255,E[L]*y),E[L+1]=Math.min(255,E[L+1]*y),E[L+2]=Math.min(255,E[L+2]*y);k.putImageData(T,0,0),N(_.toDataURL())}})}return P.jsx(P.Fragment,{children:P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",children:[P.jsxs("div",{className:"flex justify-between items-center mb-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"Escanear Documento"}),P.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",disabled:i,children:""})]}),o&&P.jsx(ei,{type:"error",message:o}),P.jsxs("div",{className:"flex border-b mb-4",children:[P.jsx("button",{className:`px-4 py-2 ${l==="camera"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"}`,onClick:()=>c("camera"),disabled:i,children:" Cmara"}),P.jsx("button",{className:`px-4 py-2 ${l==="upload"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"}`,onClick:()=>c("upload"),disabled:i,children:" Subir Archivo"})]}),!i&&P.jsx("div",{children:l==="camera"?P.jsxs("div",{className:"relative",children:[P.jsx(lT,{ref:n,screenshotFormat:"image/jpeg",className:"w-5/6 rounded-lg",videoConstraints:{width:1280,height:720,facingMode:"environment",aspectRatio:16/9,frameRate:30},screenshotQuality:1}),P.jsx("div",{className:"mt-4 flex justify-center",children:P.jsx("button",{onClick:f,disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Procesando...":"Capturar"})})]}):P.jsxs("div",{className:"text-center py-8",children:[P.jsx("input",{type:"file",ref:r,onChange:m,accept:"image/*",className:"hidden",disabled:i}),P.jsx("div",{className:"mb-4",children:P.jsx("button",{onClick:()=>{var x;return(x=r.current)==null?void 0:x.click()},disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Procesando...":"Seleccionar Archivo"})}),P.jsx("p",{className:"text-sm text-gray-500",children:"Formatos soportados: JPG, PNG (mx. 5MB)"})]})}),i&&P.jsxs("div",{className:"mt-4",children:[P.jsxs("div",{className:"animate-pulse flex space-x-4 items-center justify-center",children:[P.jsx("div",{className:"h-3 w-3 bg-blue-600 rounded-full"}),P.jsx("div",{className:"h-3 w-3 bg-blue-600 rounded-full"}),P.jsx("div",{className:"h-3 w-3 bg-blue-600 rounded-full"})]}),P.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:"Procesando documento..."})]})]})})})}function QR(t){return new Date(t).toLocaleDateString()}function ZR(){return new Date().toISOString().slice(0,7)}function VA(t=ZR()){const[e,n]=X.useState({ingresos:0,gastos:0,categorias:[]}),[r,i]=X.useState(!0),[s,o]=X.useState(null);return X.useEffect(()=>{(async()=>{try{i(!0),o(null);const c=await iu.getInstance().getMonthlyStats(t);n(c)}catch(l){o("Error al cargar las estadsticas"),console.error("Error loading stats:",l)}finally{i(!1)}})()},[t]),{stats:e,loading:r,error:s}}function eM(){const t=Qi(),{stats:e}=VA(),n=()=>{sessionStorage.setItem("financialContext",JSON.stringify({ingresos:e.ingresos,gastos:e.gastos,categorias:e.categorias,timestamp:new Date().toISOString()})),t("/chat")};return P.jsxs("button",{onClick:n,className:"w-full bg-indigo-600 text-white p-4 rounded-lg hover:bg-indigo-700 flex items-center justify-center gap-2",children:[P.jsx(FO,{className:"h-6 w-6"}),P.jsx("span",{children:"Analizar Finanzas con IA"})]})}function io(t,e){return e?new Intl.NumberFormat(tM(e.code),{style:"currency",currency:e.currency.code,currencyDisplay:"symbol"}).format(t):`${t.toFixed(2)}`}function tM(t){return{AR:"es-AR",BO:"es-BO",BR:"pt-BR",CL:"es-CL",CO:"es-CO",CR:"es-CR",EC:"es-EC",SV:"es-SV",GT:"es-GT",HN:"es-HN",MX:"es-MX",NI:"es-NI",PA:"es-PA",PY:"es-PY",PE:"es-PE",UY:"es-UY",VE:"es-VE"}[t]||"es"}function x5({size:t="md"}){const e={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return P.jsx("div",{className:"flex justify-center items-center",children:P.jsx("div",{className:`animate-spin rounded-full border-b-2 border-blue-600 ${e[t]}`})})}function _5({message:t,className:e=""}){return P.jsx("div",{className:`bg-red-100 text-red-700 p-4 rounded-lg ${e}`,children:t})}function nM(){const{stats:t,loading:e,error:n}=VA(),{country:r}=Al();if(e)return P.jsx(x5,{});if(n)return P.jsx(_5,{message:n});const i=t.ingresos-t.gastos;return P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Ingresos"}),P.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:io(t.ingresos,r)})]}),P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Gastos"}),P.jsx("p",{className:"mt-2 text-3xl font-bold text-red-600",children:io(t.gastos,r)})]}),P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Balance"}),P.jsx("p",{className:`mt-2 text-3xl font-bold ${i>=0?"text-green-600":"text-red-600"}`,children:io(i,r)})]})]})}function rM(){return P.jsxs("div",{className:"space-y-4",children:[P.jsx(nM,{}),P.jsx(Lr,{to:"/reports",className:"block bg-white p-4 rounded-lg shadow-sm hover:bg-gray-50 transition-colors",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center",children:[P.jsx(RO,{className:"h-6 w-6 text-emerald-600 mr-2"}),P.jsx("span",{className:"font-medium text-gray-900",children:"Ver Reportes Detallados"})]}),P.jsx("span",{className:"text-emerald-600",children:""})]})})]})}function iM({month:t,limit:e}={}){const[n,r]=X.useState([]),[i,s]=X.useState(!0),[o,a]=X.useState(null);return X.useEffect(()=>{(async()=>{try{s(!0),a(null);const u=await iu.getInstance().getTransactionsWithOptions({month:t,limit:e});r(u)}catch(c){console.error("Error loading transactions:",c),a("Error al cargar las transacciones")}finally{s(!1)}})()},[t,e]),{transactions:n,loading:i,error:o}}function sM(){const{transactions:t,loading:e,error:n}=iM({limit:5}),{country:r}=Al();return e?P.jsx(x5,{}):n?P.jsx(_5,{message:n}):t.length?P.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[P.jsx("div",{className:"p-6 border-b border-gray-200",children:P.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transacciones Recientes"})}),P.jsx("div",{className:"p-6",children:P.jsx("div",{className:"space-y-4",children:t.map(i=>P.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-0",children:[P.jsxs("div",{children:[P.jsx("p",{className:"font-medium",children:i.description}),P.jsx("p",{className:"text-sm text-gray-500",children:QR(i.date)})]}),P.jsx("span",{className:i.type==="ingreso"?"text-green-600":"text-red-600",children:io(Math.abs(i.amount),r)})]},i.id))})})]}):P.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay transacciones registradas"})}function oM({data:t,onClose:e}){const[n,r]=X.useState("gasto"),[i,s]=X.useState(null),[o,a]=X.useState(t.nombres[0]),{submitTransaction:l,loading:c}=Ak({onSuccess:e,onError:h=>{s(h),console.log("error",h)}}),u=async()=>{const h={type:n,amount:t.monto,description:t.descripcion,category:t.categoria,subcategory:t.subcategoria??"sub",date:t.fecha||new Date().toISOString().split("T")[0],businessName:o};await l(h)};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",children:[P.jsxs("div",{className:"flex justify-between items-center mb-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"Confirmar Informacin"}),P.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),i&&P.jsx(ei,{type:"error",message:i}),P.jsxs("div",{className:"mb-4",children:[t.nombres.length>1?P.jsxs("div",{children:[P.jsx("label",{children:P.jsx("strong",{children:"Nombre:"})}),P.jsx("select",{value:o,onChange:h=>a(h.target.value),className:"ml-2 border rounded p-1 pr-10",children:t.nombres.map((h,p)=>P.jsx("option",{value:h,children:h},p))})]}):t.nombres.length===1?P.jsxs("p",{children:[P.jsx("strong",{children:"Nombre:"})," ",t.nombres[0]]}):P.jsxs("div",{children:[P.jsx("label",{children:P.jsx("strong",{children:"Nombre:"})}),P.jsx("input",{type:"text",value:o||"",onChange:h=>a(h.target.value),className:"ml-2 border rounded p-1",placeholder:"Ingrese nombre"})]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Monto:"})," $",t.monto.toLocaleString()]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Descripcin:"})," ",t.descripcion]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Categora:"})," ",t.categoria]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Fecha:"})," ",new Date(t.fecha).toLocaleDateString()]})]}),P.jsxs("div",{className:"mb-4",children:[P.jsxs("label",{children:[P.jsx("input",{className:"mr-2",type:"radio",value:"gasto",checked:n==="gasto",onChange:()=>r("gasto")}),"Gasto"]}),P.jsxs("label",{className:"ml-4",children:[P.jsx("input",{className:"mr-2",type:"radio",value:"ingreso",checked:n==="ingreso",onChange:()=>r("ingreso")}),"Ingreso"]})]}),P.jsx("button",{onClick:u,disabled:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Guardando...":"Confirmar"})]})})}function aM(){const[t,e]=X.useState(!1),[n,r]=X.useState(!1),[i,s]=X.useState("gasto"),[o,a]=X.useState(!1),[l,c]=X.useState(null),[u,h]=X.useState(""),p=m=>{s(m),e(!0)},f=(m,v)=>{console.log("data",m),c(m),h(v),a(!0)};return P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(nu,{}),P.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[P.jsx("button",{className:"bg-green-600 text-white p-4 rounded-lg hover:bg-green-700",onClick:()=>p("ingreso"),children:"Agregar Ingreso"}),P.jsx("button",{className:"bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700",onClick:()=>p("gasto"),children:"Agregar Gasto"}),P.jsx("button",{className:"bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700",onClick:()=>r(!0),children:"Escanear Documento"}),P.jsx(eM,{})]}),P.jsxs("div",{className:"space-y-8",children:[P.jsx(rM,{}),P.jsx(sM,{})]}),t&&P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:P.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[P.jsxs("div",{className:"flex justify-between items-center mb-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:i==="ingreso"?"Agregar Ingreso":"Agregar Gasto"}),P.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),P.jsx(oT,{type:i,onSuccess:()=>e(!1),onError:m=>console.error(m)})]})}),n&&P.jsx(XR,{onClose:()=>r(!1),onScanComplete:(m,v)=>f(m,v)}),o&&P.jsx(oM,{data:l,imageUrl:u,onClose:()=>{a(!1)}})]}),P.jsx(ru,{})]})}function lM({onDateRangeChange:t,onExport:e,startDate:n,endDate:r}){return P.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:P.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[P.jsxs("div",{children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reportes Financieros"}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Analiza tus finanzas en detalle"})]}),P.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 w-full sm:w-auto",children:[P.jsxs("div",{className:"flex space-x-2",children:[P.jsx("input",{type:"date",value:n,onChange:i=>t(i.target.value,r),className:"rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),P.jsx("input",{type:"date",value:r,onChange:i=>t(n,i.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"})]}),P.jsx("div",{className:"relative",children:P.jsxs("button",{className:"w-full sm:w-auto inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",onClick:()=>e("pdf"),children:[P.jsx(zO,{className:"h-5 w-5 mr-2 text-gray-500"}),"Exportar Reporte"]})})]})]})})}function cM({ingresos:t,gastos:e,facturasPendientes:n}){const{country:r}=Al(),i=t-e;return P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Ingresos Totales"}),P.jsx("p",{className:"mt-2 text-3xl font-bold text-emerald-600",children:io(t,r)})]}),P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Gastos Totales"}),P.jsx("p",{className:"mt-2 text-3xl font-bold text-red-600",children:io(e,r)})]}),P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Saldo Neto"}),P.jsx("p",{className:`mt-2 text-3xl font-bold ${i>=0?"text-emerald-600":"text-red-600"}`,children:io(i,r)})]}),P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Facturas Pendientes"}),P.jsx("p",{className:"mt-2 text-3xl font-bold text-orange-600",children:n})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nf(t){return t+.5|0}const Wo=(t,e,n)=>Math.max(Math.min(t,n),e);function Ch(t){return Wo(nf(t*2.55),0,255)}function ra(t){return Wo(nf(t*255),0,255)}function Zs(t){return Wo(nf(t/2.55)/100,0,1)}function Fx(t){return Wo(nf(t*100),0,100)}const di={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},u2=[..."0123456789ABCDEF"],uM=t=>u2[t&15],hM=t=>u2[(t&240)>>4]+u2[t&15],Ap=t=>(t&240)>>4===(t&15),dM=t=>Ap(t.r)&&Ap(t.g)&&Ap(t.b)&&Ap(t.a);function fM(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&di[t[1]]*17,g:255&di[t[2]]*17,b:255&di[t[3]]*17,a:e===5?di[t[4]]*17:255}:(e===7||e===9)&&(n={r:di[t[1]]<<4|di[t[2]],g:di[t[3]]<<4|di[t[4]],b:di[t[5]]<<4|di[t[6]],a:e===9?di[t[7]]<<4|di[t[8]]:255})),n}const pM=(t,e)=>t<255?e(t):"";function gM(t){var e=dM(t)?uM:hM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+pM(t.a,e):void 0}const mM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GA(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function vM(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function yM(t,e,n){const r=GA(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function wM(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function S5(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=wM(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function k5(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ra)}function A5(t,e,n){return k5(GA,t,e,n)}function bM(t,e,n){return k5(yM,t,e,n)}function xM(t,e,n){return k5(vM,t,e,n)}function YA(t){return(t%360+360)%360}function _M(t){const e=mM.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ch(+e[5]):ra(+e[5]));const i=YA(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=bM(i,s,o):e[1]==="hsv"?r=xM(i,s,o):r=A5(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function SM(t,e){var n=S5(t);n[0]=YA(n[0]+e),n=A5(n),t.r=n[0],t.g=n[1],t.b=n[2]}function kM(t){if(!t)return;const e=S5(t),n=e[0],r=Fx(e[1]),i=Fx(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Zs(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Dx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function AM(){const t={},e=Object.keys(Bx),n=Object.keys(Dx);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Dx[s]);s=parseInt(Bx[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Pp;function PM(t){Pp||(Pp=AM(),Pp.transparent=[0,0,0,0]);const e=Pp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const NM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CM(t){const e=NM.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Ch(o):Wo(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Ch(r):Wo(r,0,255)),i=255&(e[4]?Ch(i):Wo(i,0,255)),s=255&(e[6]?Ch(s):Wo(s,0,255)),{r,g:i,b:s,a:n}}}function EM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const y1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,uc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function LM(t,e,n){const r=uc(Zs(t.r)),i=uc(Zs(t.g)),s=uc(Zs(t.b));return{r:ra(y1(r+n*(uc(Zs(e.r))-r))),g:ra(y1(i+n*(uc(Zs(e.g))-i))),b:ra(y1(s+n*(uc(Zs(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Np(t,e,n){if(t){let r=S5(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=A5(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function KA(t,e){return t&&Object.assign(e||{},t)}function $x(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ra(t[3]))):(e=KA(t,{r:0,g:0,b:0,a:1}),e.a=ra(e.a)),e}function jM(t){return t.charAt(0)==="r"?CM(t):_M(t)}class jd{constructor(e){if(e instanceof jd)return e;const n=typeof e;let r;n==="object"?r=$x(e):n==="string"&&(r=fM(e)||PM(e)||jM(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=KA(this._rgb);return e&&(e.a=Zs(e.a)),e}set rgb(e){this._rgb=$x(e)}rgbString(){return this._valid?EM(this._rgb):void 0}hexString(){return this._valid?gM(this._rgb):void 0}hslString(){return this._valid?kM(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=LM(this._rgb,e._rgb,n)),this}clone(){return new jd(this.rgb)}alpha(e){return this._rgb.a=ra(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=nf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Np(this._rgb,2,e),this}darken(e){return Np(this._rgb,2,-e),this}saturate(e){return Np(this._rgb,1,e),this}desaturate(e){return Np(this._rgb,1,-e),this}rotate(e){return SM(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function qs(){}const OM=(()=>{let t=0;return()=>t++})();function Ht(t){return t==null}function jn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function wt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ps(t,e){return bi(t)?t:e}function ct(t,e){return typeof t>"u"?e:t}const TM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,JA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Vt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Nt(t,e,n,r){let i,s,o;if(jn(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(wt(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Gg(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Yg(t){if(jn(t))return t.map(Yg);if(wt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Yg(t[n[i]]);return e}return t}function XA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function IM(t,e,n,r){if(!XA(t))return;const i=e[t],s=n[t];wt(i)&&wt(s)?Od(i,s,r):e[t]=Yg(s)}function Od(t,e,n){const r=jn(e)?e:[e],i=r.length;if(!wt(t))return t;n=n||{};const s=n.merger||IM;let o;for(let a=0;a<i;++a){if(o=r[a],!wt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Kh(t,e){return Od(t,e,{merger:RM})}function RM(t,e,n){if(!XA(t))return;const r=e[t],i=n[t];wt(r)&&wt(i)?Kh(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Yg(i))}const zx={"":t=>t,x:t=>t.x,y:t=>t.y};function MM(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function FM(t){const e=MM(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function yl(t,e){return(zx[e]||(zx[e]=FM(e)))(t)}function P5(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Td=t=>typeof t<"u",aa=t=>typeof t=="function",Ux=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function DM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const un=Math.PI,cn=2*un,BM=cn+un,Kg=Number.POSITIVE_INFINITY,$M=un/180,Tn=un/2,La=un/4,Hx=un*2/3,h2=Math.log10,Ls=Math.sign;function Jh(t,e,n){return Math.abs(t-e)<n}function Wx(t){const e=Math.round(t);t=Jh(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(h2(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function zM(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Id(t){return!isNaN(parseFloat(t))&&isFinite(t)}function UM(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function HM(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function no(t){return t*(un/180)}function WM(t){return t*(180/un)}function qx(t){if(!bi(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function QA(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*un&&(s+=cn),{angle:s,distance:i}}function d2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qM(t,e){return(t-e+BM)%cn-un}function To(t){return(t%cn+cn)%cn}function Rd(t,e,n,r){const i=To(t),s=To(e),o=To(n),a=To(s-i),l=To(o-i),c=To(i-s),u=To(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function lr(t,e,n){return Math.max(e,Math.min(n,t))}function VM(t){return lr(t,-32768,32767)}function qo(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function N5(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const el=(t,e,n,r)=>N5(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),GM=(t,e,n)=>N5(t,n,r=>t[r][e]>=n);function YM(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const ZA=["push","pop","shift","splice","unshift"];function KM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ZA.forEach(n=>{const r="_onData"+P5(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Vx(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(ZA.forEach(s=>{delete t[s]}),delete t._chartjs)}function e6(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const t6=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function n6(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,t6.call(window,()=>{r=!1,t.apply(e,n)}))}}function JM(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const C5=t=>t==="start"?"left":t==="end"?"right":"center",sr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,XM=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function QM(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:p}=o.getUserBounds();h&&(i=lr(Math.min(el(a,l,c).lo,n?r:el(e,l,o.getPixelForValue(c)).lo),0,r-1)),p?s=lr(Math.max(el(a,o.axis,u,!0).hi+1,n?0:el(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function ZM(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Cp=t=>t===0||t===1,Gx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*cn/n)),Yx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*cn/n)+1,Xh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Tn)+1,easeOutSine:t=>Math.sin(t*Tn),easeInOutSine:t=>-.5*(Math.cos(un*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Cp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Cp(t)?t:Gx(t,.075,.3),easeOutElastic:t=>Cp(t)?t:Yx(t,.075,.3),easeInOutElastic(t){return Cp(t)?t:t<.5?.5*Gx(t*2,.1125,.45):.5+.5*Yx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Xh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xh.easeInBounce(t*2)*.5:Xh.easeOutBounce(t*2-1)*.5+.5};function E5(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Kx(t){return E5(t)?t:new jd(t)}function w1(t){return E5(t)?t:new jd(t).saturate(.5).darken(.1).hexString()}const eF=["x","y","borderWidth","radius","tension"],tF=["color","borderColor","backgroundColor"];function nF(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tF},numbers:{type:"number",properties:eF}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rF(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jx=new Map;function iF(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Jx.get(n);return r||(r=new Intl.NumberFormat(t,e),Jx.set(n,r)),r}function L5(t,e,n){return iF(e,n).format(t)}const r6={values(t){return jn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=sF(t,n)}const o=h2(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),L5(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(h2(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?r6.numeric.call(this,t,e,n):""}};function sF(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var i6={formatters:r6};function oF(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const wl=Object.create(null),f2=Object.create(null);function Qh(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function b1(t,e,n){return typeof e=="string"?Od(Qh(t,e),n):Od(Qh(t,""),e)}class aF{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>w1(i.backgroundColor),this.hoverBorderColor=(r,i)=>w1(i.borderColor),this.hoverColor=(r,i)=>w1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return b1(this,e,n)}get(e){return Qh(this,e)}describe(e,n){return b1(f2,e,n)}override(e,n){return b1(wl,e,n)}route(e,n,r,i){const s=Qh(this,e),o=Qh(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return wt(l)?Object.assign({},c,l):ct(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var yn=new aF({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nF,rF,oF]);function lF(t){return!t||Ht(t.size)||Ht(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xx(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function ja(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Qx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function p2(t,e,n,r){s6(t,e,n,r,null)}function s6(t,e,n,r,i){let s,o,a,l,c,u,h,p;const f=e.pointStyle,m=e.rotation,v=e.radius;let x=(m||0)*$M;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,v,0,0,cn):t.arc(n,r,v,0,cn),t.closePath();break;case"triangle":u=i?i/2:v,t.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*v),x+=Hx,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*v),x+=Hx,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(x+La)*l,h=Math.cos(x+La)*(i?i/2-c:l),a=Math.sin(x+La)*l,p=Math.sin(x+La)*(i?i/2-c:l),t.arc(n-h,r-a,c,x-un,x-Tn),t.arc(n+p,r-o,c,x-Tn,x),t.arc(n+h,r+a,c,x,x+Tn),t.arc(n-p,r+o,c,x+Tn,x+un),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*v,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}x+=La;case"rectRot":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,p=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+p,r-o),t.lineTo(n+h,r+a),t.lineTo(n-p,r+o),t.closePath();break;case"crossRot":x+=La;case"cross":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,p=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"star":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,p=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o),x+=La,h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,p=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"line":o=i?i/2:Math.cos(x)*v,a=Math.sin(x)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(i?i/2:v),r+Math.sin(x)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Md(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function j5(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function O5(t){t.restore()}function cF(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function uF(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function hF(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ht(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function dF(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function fF(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Fd(t,e,n,r,i,s={}){const o=jn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,hF(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&fF(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ht(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),dF(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Jg(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*un,un,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,un,Tn,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Tn,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Tn,!0),t.lineTo(n+o.topLeft,r)}const pF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mF(t,e){const n=(""+t).match(pF);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vF=t=>+t||0;function T5(t,e){const n={},r=wt(e),i=r?Object.keys(e):e,s=wt(t)?r?o=>ct(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=vF(s(o));return n}function o6(t){return T5(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wc(t){return T5(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xi(t){const e=o6(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function cr(t,e){t=t||{},e=e||yn.font;let n=ct(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ct(t.style,e.style);r&&!(""+r).match(gF)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ct(t.family,e.family),lineHeight:mF(ct(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ct(t.weight,e.weight),string:""};return i.string=lF(i),i}function Ep(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function yF(t,e,n){const{min:r,max:i}=t,s=JA(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Nl(t,e){return Object.assign(Object.create(t),e)}function I5(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=u6("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>I5([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return l6(a,l,()=>PF(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return e_(a).includes(l)},ownKeys(a){return e_(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ou(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:a6(t,r),setContext:s=>ou(t,s,n,r),override:s=>ou(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return l6(s,o,()=>bF(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function a6(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:aa(n)?n:()=>n,isIndexable:aa(r)?r:()=>r}}const wF=(t,e)=>t?t+P5(e):e,R5=(t,e)=>wt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function l6(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function bF(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return aa(a)&&o.isScriptable(e)&&(a=xF(e,a,t,n)),jn(a)&&a.length&&(a=_F(e,a,t,o.isIndexable)),R5(e,a)&&(a=ou(a,i,s&&s[e],o)),a}function xF(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),R5(t,l)&&(l=M5(i._scopes,i,t,l)),l}function _F(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(wt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=M5(c,i,t,u);e.push(ou(h,s,o&&o[t],a))}}return e}function c6(t,e,n){return aa(t)?t(e,n):t}const SF=(t,e)=>t===!0?e:typeof t=="string"?yl(e,t):void 0;function kF(t,e,n,r,i){for(const s of e){const o=SF(n,s);if(o){t.add(o);const a=c6(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function M5(t,e,n,r){const i=e._rootScopes,s=c6(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=Zx(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Zx(a,o,s,l,r),l===null)?!1:I5(Array.from(a),[""],i,s,()=>AF(e,n,r))}function Zx(t,e,n,r,i){for(;n;)n=kF(t,e,n,r,i);return n}function AF(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return jn(i)&&wt(n)?n:i||{}}function PF(t,e,n,r){let i;for(const s of e)if(i=u6(wF(s,t),n),typeof i<"u")return R5(t,i)?M5(n,r,t,i):i}function u6(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function e_(t){let e=t._keys;return e||(e=t._keys=NF(t._scopes)),e}function NF(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const CF=Number.EPSILON||1e-14,au=(t,e)=>e<t.length&&!t[e].skip&&t[e],h6=t=>t==="x"?"y":"x";function EF(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=d2(s,i),l=d2(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,p=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+p*(o.x-i.x),y:s.y+p*(o.y-i.y)}}}function LF(t,e,n){const r=t.length;let i,s,o,a,l,c=au(t,0);for(let u=0;u<r-1;++u)if(l=c,c=au(t,u+1),!(!l||!c)){if(Jh(e[u],0,CF)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function jF(t,e,n="x"){const r=h6(n),i=t.length;let s,o,a,l=au(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=au(t,c+1),!a)continue;const u=a[n],h=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function OF(t,e="x"){const n=h6(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=au(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=au(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Ls(i[o-1])!==Ls(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}LF(t,i,s),jF(t,s,e)}function Lp(t,e,n){return Math.max(Math.min(t,n),e)}function TF(t,e){let n,r,i,s,o,a=Md(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Md(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Lp(i.cp1x,e.left,e.right),i.cp1y=Lp(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Lp(i.cp2x,e.left,e.right),i.cp2y=Lp(i.cp2y,e.top,e.bottom)))}function IF(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")OF(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=EF(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&TF(t,n)}function F5(){return typeof window<"u"&&typeof document<"u"}function D5(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Xg(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Om=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function RF(t,e){return Om(t).getPropertyValue(e)}const MF=["top","right","bottom","left"];function sl(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=MF[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const FF=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function DF(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(FF(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Fa(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Om(n),s=i.boxSizing==="border-box",o=sl(i,"padding"),a=sl(i,"border","width"),{x:l,y:c,box:u}=DF(t,n),h=o.left+(u&&a.left),p=o.top+(u&&a.top);let{width:f,height:m}=e;return s&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-p)/m*n.height/r)}}function BF(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&D5(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Om(s),l=sl(a,"border","width"),c=sl(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Xg(a.maxWidth,s,"clientWidth"),i=Xg(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Kg,maxHeight:i||Kg}}const jp=t=>Math.round(t*10)/10;function $F(t,e,n,r){const i=Om(t),s=sl(i,"margin"),o=Xg(i.maxWidth,t,"clientWidth")||Kg,a=Xg(i.maxHeight,t,"clientHeight")||Kg,l=BF(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const p=sl(i,"border","width"),f=sl(i,"padding");c-=f.width+p.width,u-=f.height+p.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=jp(Math.min(c,o,l.maxWidth)),u=jp(Math.min(u,a,l.maxHeight)),c&&!u&&(u=jp(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=jp(Math.floor(u*r))),{width:c,height:u}}function t_(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const zF=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};F5()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function n_(t,e){const n=RF(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Da(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function UF(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function HF(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Da(t,i,n),a=Da(i,s,n),l=Da(s,e,n),c=Da(o,a,n),u=Da(a,l,n);return Da(c,u,n)}const WF=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},qF=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function qc(t,e,n){return t?WF(e,n):qF()}function d6(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function f6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function p6(t){return t==="angle"?{between:Rd,compare:qM,normalize:To}:{between:qo,compare:(e,n)=>e-n,normalize:e=>e}}function r_({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function VF(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=p6(r),l=e.length;let{start:c,end:u,loop:h}=t,p,f;if(h){for(c+=l,u+=l,p=0,f=l;p<f&&o(a(e[c%l][r]),i,s);++p)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function GF(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=p6(r),{start:u,end:h,loop:p,style:f}=VF(t,e,n),m=[];let v=!1,x=null,y,w,_;const k=()=>l(i,_,y)&&a(i,_)!==0,N=()=>a(s,y)===0||l(s,_,y),T=()=>v||k(),E=()=>!v||N();for(let L=u,F=u;L<=h;++L)w=e[L%o],!w.skip&&(y=c(w[r]),y!==_&&(v=l(y,i,s),x===null&&T()&&(x=a(y,i)===0?L:F),x!==null&&E()&&(m.push(r_({start:x,end:L,loop:p,count:o,style:f})),x=null),F=L,_=y));return x!==null&&m.push(r_({start:x,end:h,loop:p,count:o,style:f})),m}function YF(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=GF(r[i],t.points,e);s.length&&n.push(...s)}return n}function KF(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function JF(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function XF(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=KF(n,i,s,r);if(r===!0)return i_(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return i_(t,JF(n,o,l,c),n,e)}function i_(t,e,n,r){return!r||!r.setContext||!n?e:QF(t,e,n,r)}function QF(t,e,n,r){const i=t._chart.getContext(),s=s_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,p=h;function f(m,v,x,y){const w=a?-1:1;if(m!==v){for(m+=l;n[m%l].skip;)m-=w;for(;n[v%l].skip;)v+=w;m%l!==v%l&&(c.push({start:m%l,end:v%l,loop:x,style:y}),u=y,h=v%l)}}for(const m of e){h=a?h:m.start;let v=n[h%l],x;for(p=h+1;p<=m.end;p++){const y=n[p%l];x=s_(r.setContext(Nl(i,{type:"segment",p0:v,p1:y,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),ZF(x,u)&&f(h,p-1,m.loop,u),v=y,u=x}h<p-1&&f(h,p-1,m.loop,u)}return c}function s_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ZF(t,e){if(!e)return!1;const n=[],r=function(i,s){return E5(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class eD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=t6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ys=new eD;const o_="transparent",tD={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Kx(t||o_),i=r.valid&&Kx(e||o_);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class nD{constructor(e,n,r,i){const s=n[r];i=Ep([e.to,i,s,e.from]);const o=Ep([e.from,s,i]);this._active=!0,this._fn=e.fn||tD[e.type||typeof o],this._easing=Xh[e.easing]||Xh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ep([e.to,n,i,e.from]),this._from=Ep([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class g6{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!wt(e))return;const n=Object.keys(yn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!wt(s))return;const o={};for(const a of n)o[a]=s[a];(jn(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=iD(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&rD(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const p=r.get(c);if(h)if(p&&h.active()){h.update(p,u,a);continue}else h.cancel();if(!p||!p.duration){e[c]=u;continue}s[c]=h=new nD(p,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ys.add(this._chart,r),!0}}function rD(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function iD(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function a_(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function sD(t,e,n){if(n===!1)return!1;const r=a_(t,n),i=a_(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function oD(t){let e,n,r,i;return wt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function m6(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function l_(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],bi(c)&&(s||e===0||Ls(e)===Ls(c))&&(e+=c)}return!u&&!r.all?0:e}function aD(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function x1(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function lD(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function cD(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function uD(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function c_(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function u_(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=lD(s,o,r),h=e.length;let p;for(let f=0;f<h;++f){const m=e[f],{[l]:v,[c]:x}=m,y=m._stacks||(m._stacks={});p=y[c]=uD(i,u,v),p[a]=x,p._top=c_(p,o,!0,r.type),p._bottom=c_(p,o,!1,r.type);const w=p._visualValues||(p._visualValues={});w[a]=x}}function _1(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function hD(t,e){return Nl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function dD(t,e,n){return Nl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ch(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const S1=t=>t==="reset"||t==="none",h_=(t,e)=>e?t:Object.assign({},t),fD=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:m6(n,!0),values:null};class ol{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=x1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ch(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,p,f,m)=>h==="x"?p:h==="r"?m:f,s=n.xAxisID=ct(r.xAxisID,_1(e,"x")),o=n.yAxisID=ct(r.yAxisID,_1(e,"y")),a=n.rAxisID=ct(r.rAxisID,_1(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Vx(this._data,this),e._stacked&&ch(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(wt(n)){const i=this._cachedMeta;this._data=aD(n,i)}else if(r!==n){if(r){Vx(r,this);const i=this._cachedMeta;ch(i),i._parsed=[]}n&&Object.isExtensible(n)&&KM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=x1(n.vScale,n),n.stack!==r.stack&&(i=!0,ch(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(u_(this,n._parsed),n._stacked=x1(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,p;if(this._parsing===!1)r._parsed=i,r._sorted=!0,p=i;else{jn(i[e])?p=this.parseArrayData(r,i,e,n):wt(i[e])?p=this.parseObjectData(r,i,e,n):p=this.parsePrimitiveData(r,i,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=h=p[u],l&&(f()&&(l=!1),c=h);r._sorted=l}o&&u_(this,p)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let p,f,m;for(p=0,f=i;p<f;++p)m=p+r,h[p]={[a]:u||s.parse(c[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,p,f;for(u=0,h=i;u<h;++u)p=u+r,f=n[p],c[u]={x:s.parse(yl(f,a),p),y:o.parse(yl(f,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:m6(i,!0),values:n._stacks[e.axis]._visualValues};return l_(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=l_(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=fD(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=cD(a);let p,f;function m(){f=i[p];const v=f[a.axis];return!bi(f[e.axis])||u>v||h<v}for(p=0;p<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++p);if(s){for(p=o-1;p>=0;--p)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],bi(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=oD(ct(this.options.clip,sD(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=dD(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=hD(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Td(r);if(a)return h_(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),u),f=Object.keys(yn.elements[e]),m=()=>this.getContext(r,i,n),v=c.resolveNamedOptions(p,f,m,h);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(h_(v,l))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),p=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(p,this.getContext(e,r,n))}const c=new g6(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||S1(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){S1(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!S1(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ch(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}je(ol,"defaults",{}),je(ol,"datasetElementType",null),je(ol,"dataElementType",null);function pD(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=e6(r.sort((i,s)=>i-s))}return t._cache.$bar}function gD(t){const e=t.iScale,n=pD(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Td(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function mD(t,e,n,r){const i=n.barThickness;let s,o;return Ht(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function vD(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function yD(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function v6(t,e,n,r){return jn(t)?yD(t,e,n,r):e[n.axis]=n.parse(t,r),e}function d_(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,p;for(c=n,u=n+r;c<u;++c)p=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(v6(p,h,s,c));return l}function k1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function wD(t,e,n){return t!==0?Ls(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function bD(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function xD(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=bD(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[f_(u,o,a,l)]=!0,i=c)),s[f_(i,o,a,l)]=!0,t.borderSkipped=s}function f_(t,e,n,r){return r?(t=_D(t,e,n),t=p_(t,n,e)):t=p_(t,e,n),t}function _D(t,e,n){return t===e?n:t===n?e:t}function p_(t,e,n){return t==="start"?e:t==="end"?n:t}function SD(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ag extends ol{parsePrimitiveData(e,n,r,i){return d_(e,n,r,i)}parseArrayData(e,n,r,i){return d_(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let p,f,m,v;for(p=r,f=r+i;p<f;++p)v=n[p],m={},m[s.axis]=s.parse(yl(v,c),p),h.push(v6(yl(v,u),m,o,p));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=k1(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const m=this.getParsed(f),v=s||Ht(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),x=this._calculateBarIndexPixels(f,u),y=(m._stacks||{})[a.axis],w={horizontal:c,base:v.base,enableBorderRadius:!y||k1(m._custom)||o===y._top||o===y._bottom,x:c?v.head:x.center,y:c?x.center:v.head,height:c?x.size:Math.abs(v.size),width:c?Math.abs(v.size):x.size};p&&(w.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const _=w.options||e[f].options;xD(w,_,y,o),SD(w,_,u.ratio),this.updateElement(e[f],f,w,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const h=u._parsed.find(f=>f[r.axis]===l),p=h&&h[u.vScale.axis];if(Ht(p)||isNaN(p))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||gD(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=k1(c);let h=l[n.axis],p=0,f=r?this.applyStack(n,l,r):h,m,v;f!==h&&(p=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&Ls(h)!==Ls(c.barEnd)&&(p=0),p+=h);const x=!Ht(s)&&!u?s:p;let y=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(p+f):m=y,v=m-y,Math.abs(v)<o){v=wD(v,n,a)*o,h===a&&(y-=v/2);const w=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),k=Math.min(w,_),N=Math.max(w,_);y=Math.max(Math.min(y,N),k),m=y+v,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const w=Ls(v)*n.getLineWidthForValue(a)/2;y+=w,v-=w}return{size:v,base:y,head:m,center:m+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=ct(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?vD(e,n,i,c):mD(e,n,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}je(ag,"id","bar"),je(ag,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),je(ag,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function kD(t,e,n){let r=1,i=1,s=0,o=0;if(e<cn){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),p=Math.sin(l),f=(_,k,N)=>Rd(_,a,l,!0)?1:Math.max(k,k*n,N,N*n),m=(_,k,N)=>Rd(_,a,l,!0)?-1:Math.min(k,k*n,N,N*n),v=f(0,c,h),x=f(Tn,u,p),y=m(un,c,h),w=m(un+Tn,u,p);r=(v-y)/2,i=(x-w)/2,s=-(v+y)/2,o=-(x+w)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Eh extends ol{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(wt(r[e])){const{key:l="value"}=this._parsing;s=c=>+yl(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return no(this.options.rotation-90)}_getCircumference(){return no(this.options.circumference)}_getRotationExtents(){let e=cn,n=-cn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(TM(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:v}=kD(h,u,l),x=(r.width-o)/p,y=(r.height-o)/f,w=Math.max(Math.min(x,y)/2,0),_=JA(this.options.radius,w),k=Math.max(_*l,0),N=(_-k)/this._getVisibleDatasetWeightTotal();this.offsetX=m*_,this.offsetY=v*_,i.total=this.calculateTotal(),this.outerRadius=_-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/cn)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,p=s&&c.animateScale,f=p?0:this.innerRadius,m=p?0:this.outerRadius,{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,i);let y=this._getRotation(),w;for(w=0;w<n;++w)y+=this._circumference(w,s);for(w=n;w<n+r;++w){const _=this._circumference(w,s),k=e[w],N={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+_,circumference:_,outerRadius:m,innerRadius:f};x&&(N.options=v||this.resolveDataElementOptions(w,k.active?"active":i)),y+=_,this.updateElement(k,w,N,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?cn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=L5(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ct(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}je(Eh,"id","doughnut"),je(Eh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),je(Eh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),je(Eh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class lg extends ol{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=QM(n,i,o);this._drawStart=a,this._drawCount=l,ZM(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),p=o.axis,f=a.axis,{spanGaps:m,segment:v}=this.options,x=Id(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",w=n+r,_=e.length;let k=n>0&&this.getParsed(n-1);for(let N=0;N<_;++N){const T=e[N],E=y?T:{};if(N<n||N>=w){E.skip=!0;continue}const L=this.getParsed(N),F=Ht(L[f]),z=E[p]=o.getPixelForValue(L[p],N),C=E[f]=s||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,L,l):L[f],N);E.skip=isNaN(z)||isNaN(C)||F,E.stop=N>0&&Math.abs(L[p]-k[p])>x,v&&(E.parsed=L,E.raw=c.data[N]),h&&(E.options=u||this.resolveDataElementOptions(N,T.active?"active":i)),y||this.updateElement(T,N,E,i),k=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}je(lg,"id","line"),je(lg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),je(lg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class g2 extends Eh{}je(g2,"id","pie"),je(g2,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Oa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class B5{constructor(e){je(this,"options");this.options=e||{}}static override(e){Object.assign(B5.prototype,e)}init(){}formats(){return Oa()}parse(){return Oa()}format(){return Oa()}add(){return Oa()}diff(){return Oa()}startOf(){return Oa()}endOf(){return Oa()}}var AD={_date:B5};function PD(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?GM:el;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),p=l(s,e,n+u);return{lo:h.lo,hi:p.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function rf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:p}=PD(s[a],e,o,i);for(let f=h;f<=p;++f){const m=u[f];m.skip||r(m,c,f)}}}function ND(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function A1(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||rf(t,n,e,function(a,l,c){!i&&!Md(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function CD(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=QA(o,{x:e.x,y:e.y});Rd(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return rf(t,n,e,s),i}function ED(t,e,n,r,i,s){let o=[];const a=ND(n);let l=Number.POSITIVE_INFINITY;function c(u,h,p){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!f)return;const x=a(e,m);x<l?(o=[{element:u,datasetIndex:h,index:p}],l=x):x===l&&o.push({element:u,datasetIndex:h,index:p})}return rf(t,n,e,c),o}function P1(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?CD(t,e,n,i):ED(t,e,n,r,i,s)}function g_(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return rf(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var LD={evaluateInteractionItems:rf,modes:{index(t,e,n,r){const i=Fa(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?A1(t,i,s,r,o):P1(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Fa(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?A1(t,i,s,r,o):P1(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Fa(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return A1(t,i,s,r,o)},nearest(t,e,n,r){const i=Fa(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return P1(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Fa(e,t);return g_(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Fa(e,t);return g_(t,i,"y",n.intersect,r)}}};const y6=["left","top","right","bottom"];function uh(t,e){return t.filter(n=>n.pos===e)}function m_(t,e){return t.filter(n=>y6.indexOf(n.pos)===-1&&n.box.axis===e)}function hh(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function jD(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function OD(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!y6.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function TD(t,e){const n=OD(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function ID(t){const e=jD(t),n=hh(e.filter(c=>c.box.fullSize),!0),r=hh(uh(e,"left"),!0),i=hh(uh(e,"right")),s=hh(uh(e,"top"),!0),o=hh(uh(e,"bottom")),a=m_(e,"x"),l=m_(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:uh(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function v_(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function w6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function RD(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!wt(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&w6(o,s.getPadding());const a=Math.max(0,e.outerWidth-v_(o,t,"left","right")),l=Math.max(0,e.outerHeight-v_(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function MD(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function FD(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Lh(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,FD(a.horizontal,e));const{same:h,other:p}=RD(e,n,a,r);c|=h&&i.length,u=u||p,l.fullSize||i.push(a)}return c&&Lh(i,e,n,r)||u}function Op(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function y_(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,p=c.size||l.height;Td(c.start)&&(o=c.start),l.fullSize?Op(l,i.left,o,n.outerWidth-i.right-i.left,p):Op(l,e.left+c.placed,o,h,p),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,p=c.size||l.width;Td(c.start)&&(s=c.start),l.fullSize?Op(l,s,i.top,p,n.outerHeight-i.bottom-i.top):Op(l,s,e.top+c.placed,p,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var mi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=xi(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=ID(t.boxes),l=a.vertical,c=a.horizontal;Nt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,x)=>x.box.options&&x.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),p=Object.assign({},i);w6(p,xi(r));const f=Object.assign({maxPadding:p,w:s,h:o,x:i.left,y:i.top},i),m=TD(l.concat(c),h);Lh(a.fullSize,f,h,m),Lh(l,f,h,m),Lh(c,f,h,m)&&Lh(l,f,h,m),MD(f),y_(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,y_(a.rightAndBottom,f,h,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Nt(a.chartArea,v=>{const x=v.box;Object.assign(x,t.chartArea),x.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class b6{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class DD extends b6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cg="$chartjs",BD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},w_=t=>t===null||t==="";function $D(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[cg]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",w_(i)){const s=n_(t,"width");s!==void 0&&(t.width=s)}if(w_(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=n_(t,"height");s!==void 0&&(t.height=s)}return t}const x6=zF?{passive:!0}:!1;function zD(t,e,n){t&&t.addEventListener(e,n,x6)}function UD(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,x6)}function HD(t,e){const n=BD[t.type]||t.type,{x:r,y:i}=Fa(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Qg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function WD(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Qg(a.addedNodes,r),o=o&&!Qg(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function qD(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Qg(a.removedNodes,r),o=o&&!Qg(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Dd=new Map;let b_=0;function _6(){const t=window.devicePixelRatio;t!==b_&&(b_=t,Dd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function VD(t,e){Dd.size||window.addEventListener("resize",_6),Dd.set(t,e)}function GD(t){Dd.delete(t),Dd.size||window.removeEventListener("resize",_6)}function YD(t,e,n){const r=t.canvas,i=r&&D5(r);if(!i)return;const s=n6((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),VD(t,s),o}function N1(t,e,n){n&&n.disconnect(),e==="resize"&&GD(t)}function KD(t,e,n){const r=t.canvas,i=n6(s=>{t.ctx!==null&&n(HD(s,t))},t);return zD(r,e,i),i}class JD extends b6{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?($D(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[cg])return!1;const r=n[cg].initial;["height","width"].forEach(s=>{const o=r[s];Ht(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[cg],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:WD,detach:qD,resize:YD}[n]||KD;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:N1,detach:N1,resize:N1}[n]||UD)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return $F(e,n,r,i)}isAttached(e){const n=e&&D5(e);return!!(n&&n.isConnected)}}function XD(t){return!F5()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?DD:JD}class Xi{constructor(){je(this,"x");je(this,"y");je(this,"active",!1);je(this,"options");je(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Id(this.x)&&Id(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}je(Xi,"defaults",{}),je(Xi,"defaultRoutes");function QD(t,e){const n=t.options.ticks,r=ZD(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?t9(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return n9(e,c,s,o/i),c;const u=e9(s,e,i);if(o>0){let h,p;const f=o>1?Math.round((l-a)/(o-1)):null;for(Tp(e,c,u,Ht(f)?0:a-f,a),h=0,p=o-1;h<p;h++)Tp(e,c,u,s[h],s[h+1]);return Tp(e,c,u,l,Ht(f)?e.length:l+f),c}return Tp(e,c,u),c}function ZD(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function e9(t,e,n){const r=r9(t),i=e.length/n;if(!r)return Math.max(i,1);const s=zM(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function t9(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function n9(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Tp(t,e,n,r,i){const s=ct(r,0),o=Math.min(ct(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function r9(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const i9=t=>t==="left"?"right":t==="right"?"left":t,x_=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,__=(t,e)=>Math.min(e||t,t);function S_(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function s9(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function o9(t,e){Nt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function dh(t){return t.drawTicks?t.tickLength:0}function k_(t,e){if(!t.display)return 0;const n=cr(t.font,e),r=xi(t.padding);return(jn(t.text)?t.text.length:1)*n.lineHeight+r.height}function a9(t,e){return Nl(t,{scale:e,type:"scale"})}function l9(t,e,n){return Nl(t,{tick:n,index:e,type:"tick"})}function c9(t,e,n){let r=C5(t);return(n&&e!=="right"||!n&&e==="right")&&(r=i9(r)),r}function u9(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,p,f,m;const v=o-i,x=a-s;if(t.isHorizontal()){if(f=sr(r,s,a),wt(n)){const y=Object.keys(n)[0],w=n[y];m=u[y].getPixelForValue(w)+v-e}else n==="center"?m=(c.bottom+c.top)/2+v-e:m=x_(t,n,e);p=a-s}else{if(wt(n)){const y=Object.keys(n)[0],w=n[y];f=u[y].getPixelForValue(w)-x+e}else n==="center"?f=(c.left+c.right)/2-x+e:f=x_(t,n,e);m=sr(r,o,i),h=n==="left"?-Tn:Tn}return{titleX:f,titleY:m,maxWidth:p,rotation:h}}class bu extends Xi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=ps(e,Number.POSITIVE_INFINITY),n=ps(n,Number.NEGATIVE_INFINITY),r=ps(r,Number.POSITIVE_INFINITY),i=ps(i,Number.NEGATIVE_INFINITY),{min:ps(e,r),max:ps(n,i),minDefined:bi(e),maxDefined:bi(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ps(n,ps(r,n)),max:ps(r,ps(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yF(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?S_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=QD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Vt(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=__(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,f=lr(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-dh(e.grid)-n.padding-k_(e.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),o=WM(Math.min(Math.asin(lr((u.highest.height+6)/a,-1,1)),Math.asin(lr(l/c,-1,1))-Math.asin(lr(p/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=k_(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=dh(s)+l):(e.height=this.maxHeight,e.width=dh(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:p}=this._getLabelSizes(),f=r.padding*2,m=no(this.labelRotation),v=Math.cos(m),x=Math.sin(m);if(a){const y=r.mirror?0:x*h.width+v*p.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:v*h.width+x*p.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,x,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;l?c?(p=i*e.width,f=r*n.height):(p=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,f=n.width/2),this.paddingLeft=Math.max((p-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ht(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=S_(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/__(n,r));let c=0,u=0,h,p,f,m,v,x,y,w,_,k,N;for(h=0;h<n;h+=l){if(m=e[h].label,v=this._resolveTickFontOptions(h),i.font=x=v.string,y=s[x]=s[x]||{data:{},gc:[]},w=v.lineHeight,_=k=0,!Ht(m)&&!jn(m))_=Xx(i,y.data,y.gc,_,m),k=w;else if(jn(m))for(p=0,f=m.length;p<f;++p)N=m[p],!Ht(N)&&!jn(N)&&(_=Xx(i,y.data,y.gc,_,N),k+=w);o.push(_),a.push(k),c=Math.max(_,c),u=Math.max(k,u)}o9(s,n);const T=o.indexOf(c),E=a.indexOf(u),L=F=>({width:o[F]||0,height:a[F]||0});return{first:L(0),last:L(n-1),widest:L(T),highest:L(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return VM(this._alignToPixels?ja(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=l9(this.getContext(),e,r))}return this.$context||(this.$context=a9(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=no(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=dh(s),f=[],m=a.setContext(this.getContext()),v=m.display?m.width:0,x=v/2,y=function(J){return ja(r,J,v)};let w,_,k,N,T,E,L,F,z,C,O,H;if(o==="top")w=y(this.bottom),E=this.bottom-p,F=w-x,C=y(e.top)+x,H=e.bottom;else if(o==="bottom")w=y(this.top),C=e.top,H=y(e.bottom)-x,E=w+x,F=this.top+p;else if(o==="left")w=y(this.right),T=this.right-p,L=w-x,z=y(e.left)+x,O=e.right;else if(o==="right")w=y(this.left),z=e.left,O=y(e.right)-x,T=w+x,L=this.left+p;else if(n==="x"){if(o==="center")w=y((e.top+e.bottom)/2+.5);else if(wt(o)){const J=Object.keys(o)[0],K=o[J];w=y(this.chart.scales[J].getPixelForValue(K))}C=e.top,H=e.bottom,E=w+x,F=E+p}else if(n==="y"){if(o==="center")w=y((e.left+e.right)/2);else if(wt(o)){const J=Object.keys(o)[0],K=o[J];w=y(this.chart.scales[J].getPixelForValue(K))}T=w-x,L=T-p,z=e.left,O=e.right}const W=ct(i.ticks.maxTicksLimit,h),ie=Math.max(1,Math.ceil(h/W));for(_=0;_<h;_+=ie){const J=this.getContext(_),K=s.setContext(J),Y=a.setContext(J),M=K.lineWidth,V=K.color,ne=Y.dash||[],j=Y.dashOffset,D=K.tickWidth,G=K.tickColor,Z=K.tickBorderDash||[],ee=K.tickBorderDashOffset;k=s9(this,_,l),k!==void 0&&(N=ja(r,k,M),c?T=L=z=O=N:E=F=C=H=N,f.push({tx1:T,ty1:E,tx2:L,ty2:F,x1:z,y1:C,x2:O,y2:H,width:M,color:V,borderDash:ne,borderDashOffset:j,tickWidth:D,tickColor:G,tickBorderDash:Z,tickBorderDashOffset:ee}))}return this._ticksLength=h,this._borderValue=w,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,p=dh(r.grid),f=p+u,m=h?-u:f,v=-no(this.labelRotation),x=[];let y,w,_,k,N,T,E,L,F,z,C,O,H="middle";if(i==="top")T=this.bottom-m,E=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+m,E=this._getXAxisLabelAlignment();else if(i==="left"){const ie=this._getYAxisLabelAlignment(p);E=ie.textAlign,N=ie.x}else if(i==="right"){const ie=this._getYAxisLabelAlignment(p);E=ie.textAlign,N=ie.x}else if(n==="x"){if(i==="center")T=(e.top+e.bottom)/2+f;else if(wt(i)){const ie=Object.keys(i)[0],J=i[ie];T=this.chart.scales[ie].getPixelForValue(J)+f}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")N=(e.left+e.right)/2-f;else if(wt(i)){const ie=Object.keys(i)[0],J=i[ie];N=this.chart.scales[ie].getPixelForValue(J)}E=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?H="top":l==="end"&&(H="bottom"));const W=this._getLabelSizes();for(y=0,w=a.length;y<w;++y){_=a[y],k=_.label;const ie=s.setContext(this.getContext(y));L=this.getPixelForTick(y)+s.labelOffset,F=this._resolveTickFontOptions(y),z=F.lineHeight,C=jn(k)?k.length:1;const J=C/2,K=ie.color,Y=ie.textStrokeColor,M=ie.textStrokeWidth;let V=E;o?(N=L,E==="inner"&&(y===w-1?V=this.options.reverse?"left":"right":y===0?V=this.options.reverse?"right":"left":V="center"),i==="top"?c==="near"||v!==0?O=-C*z+z/2:c==="center"?O=-W.highest.height/2-J*z+z:O=-W.highest.height+z/2:c==="near"||v!==0?O=z/2:c==="center"?O=W.highest.height/2-J*z:O=W.highest.height-C*z,h&&(O*=-1),v!==0&&!ie.showLabelBackdrop&&(N+=z/2*Math.sin(v))):(T=L,O=(1-C)*z/2);let ne;if(ie.showLabelBackdrop){const j=xi(ie.backdropPadding),D=W.heights[y],G=W.widths[y];let Z=O-j.top,ee=0-j.left;switch(H){case"middle":Z-=D/2;break;case"bottom":Z-=D;break}switch(E){case"center":ee-=G/2;break;case"right":ee-=G;break;case"inner":y===w-1?ee-=G:y>0&&(ee-=G/2);break}ne={left:ee,top:Z,width:G+j.width,height:D+j.height,color:ie.backdropColor}}x.push({label:k,font:F,textOffset:O,options:{rotation:v,color:K,strokeColor:Y,strokeWidth:M,textAlign:V,textBaseline:H,translation:[N,T],backdrop:ne}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-no(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,p;this.isHorizontal()?(c=ja(e,this.left,o)-o/2,u=ja(e,this.right,a)+a/2,h=p=l):(h=ja(e,this.top,o)-o/2,p=ja(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&j5(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Fd(r,c,0,u,l,a)}i&&O5(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=cr(r.font),o=xi(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||wt(n)?(l+=o.bottom,jn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:p}=u9(this,l,n,a);Fd(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:p,textAlign:c9(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ct(e.grid&&e.grid.z,-1),i=ct(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==bu.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return cr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ip{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;f9(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,h9(e,o,r),this.override&&yn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in yn[i]&&(delete yn[i][r],this.override&&delete wl[r])}}function h9(t,e,n){const r=Od(Object.create(null),[n?yn.get(n):{},yn.get(e),t.defaults]);yn.set(e,r),t.defaultRoutes&&d9(e,t.defaultRoutes),t.descriptors&&yn.describe(e,t.descriptors)}function d9(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");yn.route(s,i,l,a)})}function f9(t){return"id"in t&&"defaults"in t}class p9{constructor(){this.controllers=new Ip(ol,"datasets",!0),this.elements=new Ip(Xi,"elements"),this.plugins=new Ip(Object,"plugins"),this.scales=new Ip(bu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Nt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=P5(e);Vt(r["before"+i],[],r),n[e](r),Vt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var bs=new p9;class g9{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Vt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=ct(r.options&&r.options.plugins,{}),s=m9(r);return i===!1&&!n?[]:y9(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function m9(t){const e={},n=[],r=Object.keys(bs.plugins.items);for(let s=0;s<r.length;s++)n.push(bs.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function v9(t,e){return!e&&t===!1?null:t===!0?{}:t}function y9(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=v9(r[l],i);c!==null&&s.push({plugin:a,options:w9(t.config,{plugin:a,local:n[l]},c,o)})}return s}function w9(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function m2(t,e){const n=yn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function b9(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function x9(t,e){return t===e?"_index_":"_value_"}function A_(t){if(t==="x"||t==="y"||t==="r")return t}function _9(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function v2(t,...e){if(A_(t))return t;for(const n of e){const r=n.axis||_9(n.position)||t.length>1&&A_(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function P_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function S9(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return P_(t,"x",n[0])||P_(t,"y",n[0])}return{}}function k9(t,e){const n=wl[t.type]||{scales:{}},r=e.scales||{},i=m2(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!wt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=v2(o,a,S9(o,t),yn.scales[a.type]),c=x9(l,i),u=n.scales||{};s[o]=Kh(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||m2(a,e),u=(wl[a]||{}).scales||{};Object.keys(u).forEach(h=>{const p=b9(h,l),f=o[p+"AxisID"]||p;s[f]=s[f]||Object.create(null),Kh(s[f],[{axis:p},r[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Kh(a,[yn.scales[a.type],yn.scale])}),s}function S6(t){const e=t.options||(t.options={});e.plugins=ct(e.plugins,{}),e.scales=k9(t,e)}function k6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function A9(t){return t=t||{},t.data=k6(t.data),S6(t),t}const N_=new Map,A6=new Set;function Rp(t,e){let n=N_.get(t);return n||(n=e(),N_.set(t,n),A6.add(n)),n}const fh=(t,e,n)=>{const r=yl(e,n);r!==void 0&&t.add(r)};class P9{constructor(e){this._config=A9(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=k6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),S6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Rp(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Rp(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Rp(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>fh(l,e,h))),u.forEach(h=>fh(l,i,h)),u.forEach(h=>fh(l,wl[s]||{},h)),u.forEach(h=>fh(l,yn,h)),u.forEach(h=>fh(l,f2,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),A6.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,wl[n]||{},yn.datasets[n]||{},{type:n},yn,f2]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=C_(this._resolverCache,e,i);let l=o;if(C9(o,n)){s.$shared=!1,r=aa(r)?r():r;const c=this.createResolver(e,r,a);l=ou(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=C_(this._resolverCache,e,r);return wt(n)?ou(s,n,void 0,i):s}}function C_(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:I5(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const N9=t=>wt(t)&&Object.getOwnPropertyNames(t).some(e=>aa(t[e]));function C9(t,e){const{isScriptable:n,isIndexable:r}=a6(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(aa(a)||N9(a))||o&&jn(a))return!0}return!1}var E9="4.4.7";const L9=["top","bottom","left","right","chartArea"];function E_(t,e){return t==="top"||t==="bottom"||L9.indexOf(t)===-1&&e==="x"}function L_(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function j_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Vt(n&&n.onComplete,[t],e)}function j9(t){const e=t.chart,n=e.options.animation;Vt(n&&n.onProgress,[t],e)}function P6(t){return F5()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ug={},O_=t=>{const e=P6(t);return Object.values(ug).filter(n=>n.canvas===e).pop()};function O9(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function T9(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Mp(t,e,n){return t.options.clip?t[n]:e[n]}function I9(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Mp(n,e,"left"),right:Mp(n,e,"right"),top:Mp(r,e,"top"),bottom:Mp(r,e,"bottom")}:e}var Lo;let sf=(Lo=class{static register(...e){bs.add(...e),T_()}static unregister(...e){bs.remove(...e),T_()}constructor(e,n){const r=this.config=new P9(n),i=P6(e),s=O_(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||XD(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=OM(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new g9,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=JM(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ug[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ys.listen(this,"complete",j_),Ys.listen(this,"progress",j9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ht(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():t_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qx(this.canvas,this.ctx),this}stop(){return Ys.stop(this),this}resize(e,n){Ys.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,t_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Vt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=v2(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Nt(s,o=>{const a=o.options,l=a.id,c=v2(l,a),u=ct(a.type,o.dtype);(a.position===void 0||E_(a.position,c)!==E_(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const p=bs.getScale(u);h=new p({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Nt(i,(o,a)=>{o||delete r[a]}),Nt(r,o=>{mi.configure(this,o,o.options),mi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(L_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||m2(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=bs.getController(a),{datasetElementType:c,dataElementType:u}=yn.datasets[a];Object.assign(l,{dataElementType:bs.getElement(u),datasetElementType:c&&bs.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),p=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(p),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Nt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(L_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Nt(this.scales,e=>{mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Ux(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;O9(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Ux(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,aa(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ys.has(this)?this.attached&&!Ys.running(this)&&Ys.start(this):(this.draw(),j_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=I9(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&j5(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&O5(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Md(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=LD.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Nl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Td(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ys.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Qx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ug[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Nt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Gg(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=DM(e),c=T9(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Vt(s.onHover,[e,a,this],this),l&&Vt(s.onClick,[e,a,this],this));const u=!Gg(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},je(Lo,"defaults",yn),je(Lo,"instances",ug),je(Lo,"overrides",wl),je(Lo,"registry",bs),je(Lo,"version",E9),je(Lo,"getChart",O_),Lo);function T_(){return Nt(sf.instances,t=>t._plugins.invalidate())}function R9(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Tn,r-Tn),t.closePath(),t.clip()}function M9(t){return T5(t,["outerStart","outerEnd","innerStart","innerEnd"])}function F9(t,e,n,r){const i=M9(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return lr(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:lr(i.innerStart,0,o),innerEnd:lr(i.innerEnd,0,o)}}function hc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Zg(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),p=u>0?u+r+n+c:0;let f=0;const m=i-l;if(r){const ie=u>0?u-r:0,J=h>0?h-r:0,K=(ie+J)/2,Y=K!==0?m*K/(K+r):m;f=(m-Y)/2}const v=Math.max(.001,m*h-n/un)/h,x=(m-v)/2,y=l+x+f,w=i-x-f,{outerStart:_,outerEnd:k,innerStart:N,innerEnd:T}=F9(e,p,h,w-y),E=h-_,L=h-k,F=y+_/E,z=w-k/L,C=p+N,O=p+T,H=y+N/C,W=w-T/O;if(t.beginPath(),s){const ie=(F+z)/2;if(t.arc(o,a,h,F,ie),t.arc(o,a,h,ie,z),k>0){const M=hc(L,z,o,a);t.arc(M.x,M.y,k,z,w+Tn)}const J=hc(O,w,o,a);if(t.lineTo(J.x,J.y),T>0){const M=hc(O,W,o,a);t.arc(M.x,M.y,T,w+Tn,W+Math.PI)}const K=(w-T/p+(y+N/p))/2;if(t.arc(o,a,p,w-T/p,K,!0),t.arc(o,a,p,K,y+N/p,!0),N>0){const M=hc(C,H,o,a);t.arc(M.x,M.y,N,H+Math.PI,y-Tn)}const Y=hc(E,y,o,a);if(t.lineTo(Y.x,Y.y),_>0){const M=hc(E,F,o,a);t.arc(M.x,M.y,_,y-Tn,F)}}else{t.moveTo(o,a);const ie=Math.cos(F)*h+o,J=Math.sin(F)*h+a;t.lineTo(ie,J);const K=Math.cos(z)*h+o,Y=Math.sin(z)*h+a;t.lineTo(K,Y)}t.closePath()}function D9(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Zg(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%cn||cn))}return Zg(t,e,n,r,l,i),t.fill(),l}function B9(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:p}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=p,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(s){Zg(t,e,n,r,m,i);for(let v=0;v<s;++v)t.stroke();isNaN(a)||(m=o+(a%cn||cn))}f&&R9(t,e,m),s||(Zg(t,e,n,r,m,i),t.stroke())}class jh extends Xi{constructor(n){super();je(this,"circumference");je(this,"endAngle");je(this,"fullCircles");je(this,"innerRadius");je(this,"outerRadius");je(this,"pixelMargin");je(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=QA(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=ct(p,c-l),v=Rd(o,l,c)&&l!==c,x=m>=cn||v,y=qo(a,u+f,h+f);return x&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(s+o)/2,p=(a+l+u+c)/2;return{x:r+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>cn?Math.floor(i/cn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(un,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,D9(n,this,u,o,a),B9(n,this,u,o,a),n.restore()}}je(jh,"id","arc"),je(jh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),je(jh,"defaultRoutes",{backgroundColor:"backgroundColor"}),je(jh,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function N6(t,e,n=e){t.lineCap=ct(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ct(n.borderDash,e.borderDash)),t.lineDashOffset=ct(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ct(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ct(n.borderWidth,e.borderWidth),t.strokeStyle=ct(n.borderColor,e.borderColor)}function $9(t,e,n){t.lineTo(n.x,n.y)}function z9(t){return t.stepped?cF:t.tension||t.cubicInterpolationMode==="monotone"?uF:$9}function C6(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function U9(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=C6(i,n,r),u=z9(s);let{move:h=!0,reverse:p}=r||{},f,m,v;for(f=0;f<=c;++f)m=i[(a+(p?c-f:f))%o],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):u(t,v,m,p,s.stepped),v=m);return l&&(m=i[(a+(p?c:0))%o],u(t,v,m,p,s.stepped)),!!l}function H9(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=C6(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,p,f,m,v,x,y;const w=k=>(o+(c?a-k:k))%s,_=()=>{v!==x&&(t.lineTo(u,x),t.lineTo(u,v),t.lineTo(u,y))};for(l&&(f=i[w(0)],t.moveTo(f.x,f.y)),p=0;p<=a;++p){if(f=i[w(p)],f.skip)continue;const k=f.x,N=f.y,T=k|0;T===m?(N<v?v=N:N>x&&(x=N),u=(h*u+k)/++h):(_(),t.lineTo(k,N),m=T,h=0,v=x=N),y=N}_()}function y2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?H9:U9}function W9(t){return t.stepped?UF:t.tension||t.cubicInterpolationMode==="monotone"?HF:Da}function q9(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),N6(t,e.options),t.stroke(i)}function V9(t,e,n,r){const{segments:i,options:s}=e,o=y2(e);for(const a of i)N6(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const G9=typeof Path2D=="function";function Y9(t,e,n,r){G9&&!e.options.segment?q9(t,e,n,r):V9(t,e,n,r)}class Oh extends Xi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;IF(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=XF(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=YF(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=W9(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:p}=o[c],f=s[h],m=s[p];if(f===m){a.push(f);continue}const v=Math.abs((i-f[n])/(m[n]-f[n])),x=l(f,m,v,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return y2(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=y2(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Y9(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}je(Oh,"id","line"),je(Oh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),je(Oh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),je(Oh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function I_(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class hg extends Xi{constructor(n){super();je(this,"parsed");je(this,"skip");je(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return I_(this,n,"x",r)}inYRange(n,r){return I_(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Md(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,p2(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}je(hg,"id","point"),je(hg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),je(hg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function E6(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Vo(t,e,n,r){return t?0:lr(e,n,r)}function K9(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=o6(r);return{t:Vo(i.top,s.top,0,n),r:Vo(i.right,s.right,0,e),b:Vo(i.bottom,s.bottom,0,n),l:Vo(i.left,s.left,0,e)}}function J9(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Wc(i),o=Math.min(e,n),a=t.borderSkipped,l=r||wt(i);return{topLeft:Vo(!l||a.top||a.left,s.topLeft,0,o),topRight:Vo(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Vo(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Vo(!l||a.bottom||a.right,s.bottomRight,0,o)}}function X9(t){const e=E6(t),n=e.right-e.left,r=e.bottom-e.top,i=K9(t,n/2,r/2),s=J9(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function C1(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&E6(t,r);return a&&(i||qo(e,a.left,a.right))&&(s||qo(n,a.top,a.bottom))}function Q9(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Z9(t,e){t.rect(e.x,e.y,e.w,e.h)}function E1(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class dg extends Xi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=X9(this),a=Q9(o.radius)?Jg:Z9;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,E1(o,n,s)),e.clip(),a(e,E1(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,E1(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return C1(this,e,n,r)}inXRange(e,n){return C1(this,e,null,n)}inYRange(e,n){return C1(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}je(dg,"id","bar"),je(dg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),je(dg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const R_=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},eB=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class M_ extends Xi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Vt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=cr(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=R_(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let p=-1,f=-u;return this.legendItems.forEach((m,v)=>{const x=r+n/2+s.measureText(m.text).width;(v===0||c[c.length-1]+x+2*a>o)&&(h+=u,c[c.length-(v>0?0:1)]=0,f+=u,p++),l[v]={left:0,top:f,row:p,width:x,height:i},c[c.length-1]+=x+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,p=0,f=0,m=0,v=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:w,itemHeight:_}=tB(r,n,s,x,i);y>0&&f+_+2*a>u&&(h+=p+a,c.push({width:p,height:f}),m+=p+a,v++,p=f=0),l[y]={left:m,top:f,col:v,width:w,height:_},p=Math.max(p,w),f+=_+a}),h+=p,c.push({width:p,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=qc(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=sr(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=sr(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=sr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=sr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;j5(e,this),this._draw(),O5(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=yn.color,l=qc(e.rtl,this.left,this.width),c=cr(o.font),{padding:u}=o,h=c.size,p=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:v,itemHeight:x}=R_(o,h),y=function(T,E,L){if(isNaN(m)||m<=0||isNaN(v)||v<0)return;i.save();const F=ct(L.lineWidth,1);if(i.fillStyle=ct(L.fillStyle,a),i.lineCap=ct(L.lineCap,"butt"),i.lineDashOffset=ct(L.lineDashOffset,0),i.lineJoin=ct(L.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=ct(L.strokeStyle,a),i.setLineDash(ct(L.lineDash,[])),o.usePointStyle){const z={radius:v*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:F},C=l.xPlus(T,m/2),O=E+p;s6(i,z,C,O,o.pointStyleWidth&&m)}else{const z=E+Math.max((h-v)/2,0),C=l.leftForLtr(T,m),O=Wc(L.borderRadius);i.beginPath(),Object.values(O).some(H=>H!==0)?Jg(i,{x:C,y:z,w:m,h:v,radius:O}):i.rect(C,z,m,v),i.fill(),F!==0&&i.stroke()}i.restore()},w=function(T,E,L){Fd(i,L.text,T,E+x/2,c,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},_=this.isHorizontal(),k=this._computeTitleHeight();_?f={x:sr(s,this.left+u,this.right-r[0]),y:this.top+u+k,line:0}:f={x:this.left+u,y:sr(s,this.top+k+u,this.bottom-n[0].height),line:0},d6(this.ctx,e.textDirection);const N=x+u;this.legendItems.forEach((T,E)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const L=i.measureText(T.text).width,F=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),z=m+p+L;let C=f.x,O=f.y;l.setWidth(this.width),_?E>0&&C+z+u>this.right&&(O=f.y+=N,f.line++,C=f.x=sr(s,this.left+u,this.right-r[f.line])):E>0&&O+N>this.bottom&&(C=f.x=C+n[f.line].width+u,f.line++,O=f.y=sr(s,this.top+k+u,this.bottom-n[f.line].height));const H=l.x(C);if(y(H,O,T),C=XM(F,C+m+p,_?C+z:this.right,e.rtl),w(l.x(C),O,T),_)f.x+=z+u;else if(typeof T.text!="string"){const W=c.lineHeight;f.y+=L6(T,W)+u}else f.y+=N}),f6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=cr(n.font),i=xi(n.padding);if(!n.display)return;const s=qc(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+c,h=sr(e.align,h,this.right-p);else{const m=this.columnSizes.reduce((v,x)=>Math.max(v,x.height),0);u=c+sr(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=sr(a,h,h+p);o.textAlign=s.textAlign(C5(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Fd(o,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=cr(e.font),r=xi(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(qo(e,this.left,this.right)&&qo(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],qo(e,i.left,i.left+i.width)&&qo(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!iB(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=eB(i,r);i&&!s&&Vt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Vt(n.onHover,[e,r,this],this)}else r&&Vt(n.onClick,[e,r,this],this)}}function tB(t,e,n,r,i){const s=nB(r,t,e,n),o=rB(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function nB(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function rB(t,e,n){let r=t;return typeof e.text!="string"&&(r=L6(e,n)),r}function L6(t,e){const n=t.text?t.text.length:0;return e*n}function iB(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var j6={id:"legend",_element:M_,start(t,e,n){const r=t.legend=new M_({ctx:t.ctx,options:n,chart:t});mi.configure(t,r,n),mi.addBox(t,r)},stop(t){mi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;mi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=xi(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class O6 extends Xi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=jn(r.text)?r.text.length:1;this._padding=xi(r.padding);const s=i*cr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=sr(a,r,s),h=n+e,c=s-r):(o.position==="left"?(u=r+e,h=sr(a,i,n),l=un*-.5):(u=s-e,h=sr(a,n,i),l=un*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=cr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Fd(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:C5(n.align),textBaseline:"middle",translation:[o,a]})}}function sB(t,e){const n=new O6({ctx:t.ctx,options:e,chart:t});mi.configure(t,n,e),mi.addBox(t,n),t.titleBlock=n}var oB={id:"title",_element:O6,start(t,e,n){sB(t,n)},stop(t){const e=t.titleBlock;mi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;mi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Th={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=d2(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function vs(t,e){return e&&(jn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ks(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function aB(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function F_(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=cr(e.bodyFont),c=cr(e.titleFont),u=cr(e.footerFont),h=s.length,p=i.length,f=r.length,m=xi(e.padding);let v=m.height,x=0,y=r.reduce((k,N)=>k+N.before.length+N.lines.length+N.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const k=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=f*k+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}p&&(v+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let w=0;const _=function(k){x=Math.max(x,n.measureText(k).width+w)};return n.save(),n.font=c.string,Nt(t.title,_),n.font=l.string,Nt(t.beforeBody.concat(t.afterBody),_),w=e.displayColors?o+2+e.boxPadding:0,Nt(r,k=>{Nt(k.before,_),Nt(k.lines,_),Nt(k.after,_)}),w=0,n.font=u.string,Nt(t.footer,_),n.restore(),x+=m.width,{width:x,height:v}}function lB(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function cB(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function uB(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),cB(c,t,e,n)&&(c="center"),c}function D_(t,e,n){const r=n.yAlign||e.yAlign||lB(t,n);return{xAlign:n.xAlign||e.xAlign||uB(t,e,n,r),yAlign:r}}function hB(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function dB(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function B_(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=Wc(o);let m=hB(e,a);const v=dB(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,p)+i:a==="right"&&(m+=Math.max(h,f)+i),{x:lr(m,0,r.width-e.width),y:lr(v,0,r.height-e.height)}}function Fp(t,e,n){const r=xi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function $_(t){return vs([],Ks(t))}function fB(t,e,n){return Nl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function z_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const T6={beforeTitle:qs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:qs,beforeBody:qs,beforeLabel:qs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ht(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:qs,afterBody:qs,beforeFooter:qs,footer:qs,afterFooter:qs};function Nr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?T6[e].call(n,r):i}class w2 extends Xi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new g6(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=fB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Nr(r,"beforeTitle",this,e),s=Nr(r,"title",this,e),o=Nr(r,"afterTitle",this,e);let a=[];return a=vs(a,Ks(i)),a=vs(a,Ks(s)),a=vs(a,Ks(o)),a}getBeforeBody(e,n){return $_(Nr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Nt(e,s=>{const o={before:[],lines:[],after:[]},a=z_(r,s);vs(o.before,Ks(Nr(a,"beforeLabel",this,s))),vs(o.lines,Nr(a,"label",this,s)),vs(o.after,Ks(Nr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return $_(Nr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Nr(r,"beforeFooter",this,e),s=Nr(r,"footer",this,e),o=Nr(r,"afterFooter",this,e);let a=[];return a=vs(a,Ks(i)),a=vs(a,Ks(s)),a=vs(a,Ks(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(aB(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,p)=>e.filter(u,h,p,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),Nt(a,u=>{const h=z_(e.callbacks,u);i.push(Nr(h,"labelColor",this,u)),s.push(Nr(h,"labelPointStyle",this,u)),o.push(Nr(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Th[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=F_(this,r),c=Object.assign({},a,l),u=D_(this.chart,r,c),h=B_(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Wc(a),{x:p,y:f}=e,{width:m,height:v}=n;let x,y,w,_,k,N;return s==="center"?(k=f+v/2,i==="left"?(x=p,y=x-o,_=k+o,N=k-o):(x=p+m,y=x+o,_=k-o,N=k+o),w=x):(i==="left"?y=p+Math.max(l,u)+o:i==="right"?y=p+m-Math.max(c,h)-o:y=this.caretX,s==="top"?(_=f,k=_-o,x=y-o,w=y+o):(_=f+v,k=_+o,x=y+o,w=y-o),N=_),{x1:x,x2:y,x3:w,y1:_,y2:k,y3:N}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=qc(r.rtl,this.x,this.width);for(e.x=Fp(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=cr(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=cr(s.bodyFont),h=Fp(this,"left",s),p=i.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+f;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(p,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,p2(e,v,x,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,p2(e,v,x,y)}else{e.lineWidth=wt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(p,c),x=i.leftForLtr(i.xPlus(p,1),c-2),y=Wc(o.borderRadius);Object.values(y).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Jg(e,{x:v,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Jg(e,{x,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,m,c,l),e.strokeRect(v,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=cr(r.bodyFont);let p=h.lineHeight,f=0;const m=qc(r.rtl,this.x,this.width),v=function(L){n.fillText(L,m.x(e.x+f),e.y+p/2),e.y+=p+s},x=m.textAlign(o);let y,w,_,k,N,T,E;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Fp(this,x,r),n.fillStyle=r.bodyColor,Nt(this.beforeBody,v),f=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,k=0,T=i.length;k<T;++k){for(y=i[k],w=this.labelTextColors[k],n.fillStyle=w,Nt(y.before,v),_=y.lines,a&&_.length&&(this._drawColorBox(n,e,k,m,r),p=Math.max(h.lineHeight,l)),N=0,E=_.length;N<E;++N)v(_[N]),p=h.lineHeight;Nt(y.after,v)}f=0,p=h.lineHeight,Nt(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=qc(r.rtl,this.x,this.width);for(e.x=Fp(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=cr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:m}=Wc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Th[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=F_(this,e),l=Object.assign({},o,this._size),c=D_(n,e,l),u=B_(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=xi(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),d6(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),f6(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Gg(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Gg(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Th[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}je(w2,"positioners",Th);var I6={id:"tooltip",_element:w2,positioners:Th,afterInit(t,e,n){n&&(t.tooltip=new w2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:T6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pB=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function gB(t,e,n,r){const i=t.indexOf(e);if(i===-1)return pB(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const mB=(t,e)=>t===null?null:lr(Math.round(t),0,e);function U_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class b2 extends bu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ht(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:gB(r,e,ct(n,e),this._addedLabels),mB(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return U_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}je(b2,"id","category"),je(b2,"defaults",{ticks:{callback:U_}});function vB(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:p}=t,f=s||1,m=u-1,{min:v,max:x}=e,y=!Ht(o),w=!Ht(a),_=!Ht(c),k=(x-v)/(h+1);let N=Wx((x-v)/m/f)*f,T,E,L,F;if(N<1e-14&&!y&&!w)return[{value:v},{value:x}];F=Math.ceil(x/N)-Math.floor(v/N),F>m&&(N=Wx(F*N/m/f)*f),Ht(l)||(T=Math.pow(10,l),N=Math.ceil(N*T)/T),i==="ticks"?(E=Math.floor(v/N)*N,L=Math.ceil(x/N)*N):(E=v,L=x),y&&w&&s&&UM((a-o)/s,N/1e3)?(F=Math.round(Math.min((a-o)/N,u)),N=(a-o)/F,E=o,L=a):_?(E=y?o:E,L=w?a:L,F=c-1,N=(L-E)/F):(F=(L-E)/N,Jh(F,Math.round(F),N/1e3)?F=Math.round(F):F=Math.ceil(F));const z=Math.max(qx(N),qx(E));T=Math.pow(10,Ht(l)?z:l),E=Math.round(E*T)/T,L=Math.round(L*T)/T;let C=0;for(y&&(p&&E!==o?(n.push({value:o}),E<o&&C++,Jh(Math.round((E+C*N)*T)/T,o,H_(o,k,t))&&C++):E<o&&C++);C<F;++C){const O=Math.round((E+C*N)*T)/T;if(w&&O>a)break;n.push({value:O})}return w&&p&&L!==a?n.length&&Jh(n[n.length-1].value,a,H_(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!w||L===a)&&n.push({value:L}),n}function H_(t,e,{horizontal:n,minRotation:r}){const i=no(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class yB extends bu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ht(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Ls(i),c=Ls(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=vB(i,s);return e.bounds==="ticks"&&HM(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return L5(e,this.chart.options.locale,this.options.ticks.format)}}class x2 extends yB{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bi(e)?e:0,this.max=bi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=no(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}je(x2,"id","linear"),je(x2,"defaults",{ticks:{callback:i6.formatters.numeric}});const Tm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Or=Object.keys(Tm);function W_(t,e){return t-e}function q_(t,e){if(Ht(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),bi(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Id(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function V_(t,e,n,r){const i=Or.length;for(let s=Or.indexOf(t);s<i-1;++s){const o=Tm[Or[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Or[s]}return Or[i-1]}function wB(t,e,n,r,i){for(let s=Or.length-1;s>=Or.indexOf(n);s--){const o=Or[s];if(Tm[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Or[n?Or.indexOf(n):0]}function bB(t){for(let e=Or.indexOf(t)+1,n=Or.length;e<n;++e)if(Tm[Or[e]].common)return Or[e]}function G_(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=N5(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function xB(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Y_(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:xB(t,r,i,n)}class em extends bu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new AD._date(e.adapters.date);i.init(n),Kh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:q_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=bi(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=bi(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=YM(i,s,o);return this._unit=n.unit||(r.autoSkip?V_(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):wB(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:bB(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Y_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=lr(n,0,o),r=lr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||V_(s.minUnit,n,r,this._getLabelCapacity(n)),a=ct(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Id(l)||l===!0,u={};let h=n,p,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,f=0;p<r;p=+e.add(p,a,o),f++)G_(u,p,m);return(p===r||i.bounds==="ticks"||f===1)&&G_(u,p,m),Object.keys(u).sort(W_).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Vt(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],p=r[n],f=c&&h&&p&&p.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=no(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Y_(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(q_(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return e6(e.sort(W_))}}je(em,"id","time"),je(em,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Dp(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=el(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=el(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class K_ extends em{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Dp(n,this.min),this._tableRange=Dp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Dp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Dp(this._table,r*this._tableRange+this._minPos,!0)}}je(K_,"id","timeseries"),je(K_,"defaults",em.defaults);const R6="label";function J_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _B(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function M6(t,e){t.labels=e}function F6(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R6;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function SB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R6;const n={labels:[],datasets:[]};return M6(n,t.labels),F6(n,t.datasets,e),n}function kB(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...p}=t,f=X.useRef(null),m=X.useRef(),v=()=>{f.current&&(m.current=new sf(f.current,{type:o,data:SB(a,s),options:l&&{...l},plugins:c}),J_(e,m.current))},x=()=>{J_(e,null),m.current&&(m.current.destroy(),m.current=null)};return X.useEffect(()=>{!i&&m.current&&l&&_B(m.current,l)},[i,l]),X.useEffect(()=>{!i&&m.current&&M6(m.current.config.data,a.labels)},[i,a.labels]),X.useEffect(()=>{!i&&m.current&&a.datasets&&F6(m.current.config.data,a.datasets,s)},[i,a.datasets]),X.useEffect(()=>{m.current&&(i?(x(),setTimeout(v)):m.current.update(h))},[i,l,a.labels,a.datasets,h]),X.useEffect(()=>{m.current&&(x(),setTimeout(v))},[o]),X.useEffect(()=>(v(),()=>x()),[]),Wt.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:r},p),u)}const AB=X.forwardRef(kB);function $5(t,e){return sf.register(e),X.forwardRef((n,r)=>Wt.createElement(AB,Object.assign({},n,{ref:r,type:t})))}const PB=$5("line",lg),NB=$5("bar",ag),CB=$5("pie",g2);sf.register(jh,I6,j6);function EB({data:t}){const{country:e}=Al();if(!t||t.length===0)return P.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-500",children:"No hay gastos registrados en este perodo"});const n={labels:t.map(i=>{const s=Pk.find(o=>o.id===i.categoryId);return s?`${s.icon} ${s.name}`:"Otros"}),datasets:[{data:t.map(i=>i.monto),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FF6384","#36A2EB","#FFCE56","#4BC0C0"],borderColor:"#ffffff",borderWidth:2}]},r={plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle",font:{size:12}}},tooltip:{callbacks:{label:function(i){const s=i.raw,o=t.reduce((l,c)=>l+c.monto,0),a=(s/o*100).toFixed(1);return`${i.label}: ${io(s,e)} (${a}%)`}}}},maintainAspectRatio:!1};return P.jsx("div",{className:"h-[300px]",children:P.jsx(CB,{data:n,options:r})})}sf.register(b2,x2,hg,Oh,dg,oB,I6,j6);function LB({monthlyData:t,categoryData:e,monthlyComparison:n}){return P.jsxs("div",{className:"space-y-6 mb-6",children:[P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tendencia de Ingresos y Gastos"}),P.jsx("div",{className:"h-[300px]",children:P.jsx(PB,{data:{labels:t.labels,datasets:[{label:"Ingresos",data:t.ingresos,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.5)"},{label:"Gastos",data:t.gastos,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.5)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})})]}),P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribucin por Categoras"}),P.jsx(EB,{data:e})]})]}),P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Comparativa Mes a Mes"}),P.jsx("div",{className:"h-[300px]",children:P.jsx(NB,{data:{labels:n.labels,datasets:[{label:"Variacin",data:n.data,backgroundColor:n.data.map(r=>r>=0?"rgba(16, 185, 129, 0.5)":"rgba(239, 68, 68, 0.5)"),borderColor:n.data.map(r=>r>=0?"rgb(16, 185, 129)":"rgb(239, 68, 68)"),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})})]})]})}function jB({transactions:t,onEdit:e,onView:n}){const{country:r}=Al();return P.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[P.jsx("div",{className:"p-6 border-b border-gray-200",children:P.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lista de Transacciones"})}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[P.jsx("thead",{className:"bg-gray-50",children:P.jsxs("tr",{children:[P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),P.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categora"}),P.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),P.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),P.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>P.jsxs("tr",{children:[P.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(i.date).toLocaleDateString()}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.type}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.category}),P.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:P.jsx("span",{className:i.amount>=0?"text-emerald-600":"text-red-600",children:io(Math.abs(i.amount),r)})}),P.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[P.jsx("button",{onClick:()=>n(i.id),className:"text-emerald-600 hover:text-emerald-900 mr-3",children:P.jsx(qO,{className:"h-5 w-5"})}),P.jsx("button",{onClick:()=>e(i.id),className:"text-blue-600 hover:text-blue-900",children:P.jsx(XO,{className:"h-5 w-5"})})]})]},i.id))})]})})]})}function Ct(t){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}var ar=Uint8Array,Xr=Uint16Array,z5=Int32Array,Im=new ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rm=new ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_2=new ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D6=function(t,e){for(var n=new Xr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new z5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},B6=D6(Im,2),$6=B6.b,S2=B6.r;$6[28]=258,S2[258]=28;var z6=D6(Rm,0),OB=z6.b,X_=z6.r,k2=new Xr(32768);for(var Gt=0;Gt<32768;++Gt){var Co=(Gt&43690)>>1|(Gt&21845)<<1;Co=(Co&52428)>>2|(Co&13107)<<2,Co=(Co&61680)>>4|(Co&3855)<<4,k2[Gt]=((Co&65280)>>8|(Co&255)<<8)>>1}var js=function(t,e,n){for(var r=t.length,i=0,s=new Xr(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Xr(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Xr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=o[t[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)a[k2[h]>>l]=c}else for(a=new Xr(r),i=0;i<r;++i)t[i]&&(a[i]=k2[o[t[i]-1]++]>>15-t[i]);return a},la=new ar(288);for(var Gt=0;Gt<144;++Gt)la[Gt]=8;for(var Gt=144;Gt<256;++Gt)la[Gt]=9;for(var Gt=256;Gt<280;++Gt)la[Gt]=7;for(var Gt=280;Gt<288;++Gt)la[Gt]=8;var Bd=new ar(32);for(var Gt=0;Gt<32;++Gt)Bd[Gt]=5;var TB=js(la,9,0),IB=js(la,9,1),RB=js(Bd,5,0),MB=js(Bd,5,1),L1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Mi=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},j1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},U5=function(t){return(t+7)/8|0},U6=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ar(t.subarray(e,n))},FB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zi=function(t,e,n){var r=new Error(e||FB[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,zi),!n)throw r;return r},DB=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new ar(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new ar(i*3));var c=function(Se){var Le=n.length;if(Se>Le){var Oe=new ar(Math.max(Le*2,Se));Oe.set(n),n=Oe}},u=e.f||0,h=e.p||0,p=e.b||0,f=e.l,m=e.d,v=e.m,x=e.n,y=i*8;do{if(!f){u=Mi(t,h,1);var w=Mi(t,h+1,3);if(h+=3,w)if(w==1)f=IB,m=MB,v=9,x=5;else if(w==2){var T=Mi(t,h,31)+257,E=Mi(t,h+10,15)+4,L=T+Mi(t,h+5,31)+1;h+=14;for(var F=new ar(L),z=new ar(19),C=0;C<E;++C)z[_2[C]]=Mi(t,h+C*3,7);h+=E*3;for(var O=L1(z),H=(1<<O)-1,W=js(z,O,1),C=0;C<L;){var ie=W[Mi(t,h,H)];h+=ie&15;var _=ie>>4;if(_<16)F[C++]=_;else{var J=0,K=0;for(_==16?(K=3+Mi(t,h,3),h+=2,J=F[C-1]):_==17?(K=3+Mi(t,h,7),h+=3):_==18&&(K=11+Mi(t,h,127),h+=7);K--;)F[C++]=J}}var Y=F.subarray(0,T),M=F.subarray(T);v=L1(Y),x=L1(M),f=js(Y,v,1),m=js(M,x,1)}else zi(1);else{var _=U5(h)+4,k=t[_-4]|t[_-3]<<8,N=_+k;if(N>i){l&&zi(0);break}a&&c(p+k),n.set(t.subarray(_,N),p),e.b=p+=k,e.p=h=N*8,e.f=u;continue}if(h>y){l&&zi(0);break}}a&&c(p+131072);for(var V=(1<<v)-1,ne=(1<<x)-1,j=h;;j=h){var J=f[j1(t,h)&V],D=J>>4;if(h+=J&15,h>y){l&&zi(0);break}if(J||zi(2),D<256)n[p++]=D;else if(D==256){j=h,f=null;break}else{var G=D-254;if(D>264){var C=D-257,Z=Im[C];G=Mi(t,h,(1<<Z)-1)+$6[C],h+=Z}var ee=m[j1(t,h)&ne],ce=ee>>4;ee||zi(3),h+=ee&15;var M=OB[ce];if(ce>3){var Z=Rm[ce];M+=j1(t,h)&(1<<Z)-1,h+=Z}if(h>y){l&&zi(0);break}a&&c(p+131072);var he=p+G;if(p<M){var ge=s-M,Ae=Math.min(M,he);for(ge+p<0&&zi(3);p<Ae;++p)n[p]=r[ge+p]}for(;p<he;++p)n[p]=n[p-M]}}e.l=f,e.p=j,e.b=p,e.f=u,f&&(u=1,e.m=v,e.d=m,e.n=x)}while(!u);return p!=n.length&&o?U6(n,0,p):n.subarray(0,p)},Vs=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ph=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},O1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:W6,l:0};if(i==1){var o=new ar(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(N,T){return N.f-T.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new Xr(p+1),m=A2(n[u-1],f,0);if(m>e){var r=0,v=0,x=m-e,y=1<<x;for(s.sort(function(T,E){return f[E.s]-f[T.s]||T.f-E.f});r<i;++r){var w=s[r].s;if(f[w]>e)v+=y-(1<<m-f[w]),f[w]=e;else break}for(v>>=x;v>0;){var _=s[r].s;f[_]<e?v-=1<<e-f[_]++-1:++r}for(;r>=0&&v;--r){var k=s[r].s;f[k]==e&&(--f[k],++v)}m=e}return{t:new ar(f),l:m}},A2=function(t,e,n){return t.s==-1?Math.max(A2(t.l,e,n+1),A2(t.r,e,n+1)):e[t.s]=n},Q_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Xr(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},gh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},H6=function(t,e,n){var r=n.length,i=U5(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Z_=function(t,e,n,r,i,s,o,a,l,c,u){Vs(e,u++,n),++i[256];for(var h=O1(i,15),p=h.t,f=h.l,m=O1(s,15),v=m.t,x=m.l,y=Q_(p),w=y.c,_=y.n,k=Q_(v),N=k.c,T=k.n,E=new Xr(19),L=0;L<w.length;++L)++E[w[L]&31];for(var L=0;L<N.length;++L)++E[N[L]&31];for(var F=O1(E,7),z=F.t,C=F.l,O=19;O>4&&!z[_2[O-1]];--O);var H=c+5<<3,W=gh(i,la)+gh(s,Bd)+o,ie=gh(i,p)+gh(s,v)+o+14+3*O+gh(E,z)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&H<=W&&H<=ie)return H6(e,u,t.subarray(l,l+c));var J,K,Y,M;if(Vs(e,u,1+(ie<W)),u+=2,ie<W){J=js(p,f,0),K=p,Y=js(v,x,0),M=v;var V=js(z,C,0);Vs(e,u,_-257),Vs(e,u+5,T-1),Vs(e,u+10,O-4),u+=14;for(var L=0;L<O;++L)Vs(e,u+3*L,z[_2[L]]);u+=3*O;for(var ne=[w,N],j=0;j<2;++j)for(var D=ne[j],L=0;L<D.length;++L){var G=D[L]&31;Vs(e,u,V[G]),u+=z[G],G>15&&(Vs(e,u,D[L]>>5&127),u+=D[L]>>12)}}else J=TB,K=la,Y=RB,M=Bd;for(var L=0;L<a;++L){var Z=r[L];if(Z>255){var G=Z>>18&31;ph(e,u,J[G+257]),u+=K[G+257],G>7&&(Vs(e,u,Z>>23&31),u+=Im[G]);var ee=Z&31;ph(e,u,Y[ee]),u+=M[ee],ee>3&&(ph(e,u,Z>>5&8191),u+=Rm[ee])}else ph(e,u,J[Z]),u+=K[Z]}return ph(e,u,J[256]),u+K[256]},BB=new z5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W6=new ar(0),$B=function(t,e,n,r,i,s){var o=s.z||t.length,a=new ar(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=BB[e-1],p=h>>13,f=h&8191,m=(1<<n)-1,v=s.p||new Xr(32768),x=s.h||new Xr(m+1),y=Math.ceil(n/3),w=2*y,_=function(Ye){return(t[Ye]^t[Ye+1]<<y^t[Ye+2]<<w)&m},k=new z5(25e3),N=new Xr(288),T=new Xr(32),E=0,L=0,F=s.i||0,z=0,C=s.w||0,O=0;F+2<o;++F){var H=_(F),W=F&32767,ie=x[H];if(v[W]=ie,x[H]=W,C<=F){var J=o-F;if((E>7e3||z>24576)&&(J>423||!c)){u=Z_(t,l,0,k,N,T,L,z,O,F-O,u),z=E=L=0,O=F;for(var K=0;K<286;++K)N[K]=0;for(var K=0;K<30;++K)T[K]=0}var Y=2,M=0,V=f,ne=W-ie&32767;if(J>2&&H==_(F-ne))for(var j=Math.min(p,J)-1,D=Math.min(32767,F),G=Math.min(258,J);ne<=D&&--V&&W!=ie;){if(t[F+Y]==t[F+Y-ne]){for(var Z=0;Z<G&&t[F+Z]==t[F+Z-ne];++Z);if(Z>Y){if(Y=Z,M=ne,Z>j)break;for(var ee=Math.min(ne,Z-2),ce=0,K=0;K<ee;++K){var he=F-ne+K&32767,ge=v[he],Ae=he-ge&32767;Ae>ce&&(ce=Ae,ie=he)}}}W=ie,ie=v[W],ne+=W-ie&32767}if(M){k[z++]=268435456|S2[Y]<<18|X_[M];var Se=S2[Y]&31,Le=X_[M]&31;L+=Im[Se]+Rm[Le],++N[257+Se],++T[Le],C=F+Y,++E}else k[z++]=t[F],++N[t[F]]}}for(F=Math.max(F,C);F<o;++F)k[z++]=t[F],++N[t[F]];u=Z_(t,l,c,k,N,T,L,z,O,F-O,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=x,s.p=v,s.i=F,s.w=C)}else{for(var F=s.w||0;F<o+c;F+=65535){var Oe=F+65535;Oe>=o&&(l[u/8|0]=c,Oe=o),u=H6(l,u+1,t.subarray(F,Oe))}s.i=o}return U6(a,0,r+U5(u)+i)},q6=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},zB=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ar(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return $B(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},V6=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},UB=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=q6();i.p(e.dictionary),V6(t,2,i.d())}},HB=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&zi(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&zi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function P2(t,e){e||(e={});var n=q6();n.p(t);var r=zB(t,e,e.dictionary?6:2,4);return UB(r,e),V6(r,r.length-4,n.d()),r}function WB(t,e){return DB(t.subarray(HB(t,e),-4),{i:2},e,e)}var qB=typeof TextDecoder<"u"&&new TextDecoder,VB=0;try{qB.decode(W6,{stream:!0}),VB=1}catch{}var Ke=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function T1(){Ke.console&&typeof Ke.console.log=="function"&&Ke.console.log.apply(Ke.console,arguments)}var Dt={log:T1,warn:function(t){Ke.console&&(typeof Ke.console.warn=="function"?Ke.console.warn.apply(Ke.console,arguments):T1.call(null,arguments))},error:function(t){Ke.console&&(typeof Ke.console.error=="function"?Ke.console.error.apply(Ke.console,arguments):T1(t))}};function I1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ba(r.response,e,n)},r.onerror=function(){Dt.error("could not download file")},r.send()}function eS(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zh,N2,Ba=Ke.saveAs||((typeof window>"u"?"undefined":Ct(window))!=="object"||window!==Ke?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ke.URL||Ke.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?eS(i.href)?I1(t,e,n):Bp(i,i.target="_blank"):Bp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(eS(t))I1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Bp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ct(s)!=="object"&&(Dt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return I1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ke.HTMLElement)||Ke.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ct(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=Ke.URL||Ke.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function G6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function R1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=er(n,r,i,s,e[0],7,-680876936),s=er(s,n,r,i,e[1],12,-389564586),i=er(i,s,n,r,e[2],17,606105819),r=er(r,i,s,n,e[3],22,-1044525330),n=er(n,r,i,s,e[4],7,-176418897),s=er(s,n,r,i,e[5],12,1200080426),i=er(i,s,n,r,e[6],17,-1473231341),r=er(r,i,s,n,e[7],22,-45705983),n=er(n,r,i,s,e[8],7,1770035416),s=er(s,n,r,i,e[9],12,-1958414417),i=er(i,s,n,r,e[10],17,-42063),r=er(r,i,s,n,e[11],22,-1990404162),n=er(n,r,i,s,e[12],7,1804603682),s=er(s,n,r,i,e[13],12,-40341101),i=er(i,s,n,r,e[14],17,-1502002290),n=tr(n,r=er(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=tr(s,n,r,i,e[6],9,-1069501632),i=tr(i,s,n,r,e[11],14,643717713),r=tr(r,i,s,n,e[0],20,-373897302),n=tr(n,r,i,s,e[5],5,-701558691),s=tr(s,n,r,i,e[10],9,38016083),i=tr(i,s,n,r,e[15],14,-660478335),r=tr(r,i,s,n,e[4],20,-405537848),n=tr(n,r,i,s,e[9],5,568446438),s=tr(s,n,r,i,e[14],9,-1019803690),i=tr(i,s,n,r,e[3],14,-187363961),r=tr(r,i,s,n,e[8],20,1163531501),n=tr(n,r,i,s,e[13],5,-1444681467),s=tr(s,n,r,i,e[2],9,-51403784),i=tr(i,s,n,r,e[7],14,1735328473),n=nr(n,r=tr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=nr(s,n,r,i,e[8],11,-2022574463),i=nr(i,s,n,r,e[11],16,1839030562),r=nr(r,i,s,n,e[14],23,-35309556),n=nr(n,r,i,s,e[1],4,-1530992060),s=nr(s,n,r,i,e[4],11,1272893353),i=nr(i,s,n,r,e[7],16,-155497632),r=nr(r,i,s,n,e[10],23,-1094730640),n=nr(n,r,i,s,e[13],4,681279174),s=nr(s,n,r,i,e[0],11,-358537222),i=nr(i,s,n,r,e[3],16,-722521979),r=nr(r,i,s,n,e[6],23,76029189),n=nr(n,r,i,s,e[9],4,-640364487),s=nr(s,n,r,i,e[12],11,-421815835),i=nr(i,s,n,r,e[15],16,530742520),n=rr(n,r=nr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=rr(s,n,r,i,e[7],10,1126891415),i=rr(i,s,n,r,e[14],15,-1416354905),r=rr(r,i,s,n,e[5],21,-57434055),n=rr(n,r,i,s,e[12],6,1700485571),s=rr(s,n,r,i,e[3],10,-1894986606),i=rr(i,s,n,r,e[10],15,-1051523),r=rr(r,i,s,n,e[1],21,-2054922799),n=rr(n,r,i,s,e[8],6,1873313359),s=rr(s,n,r,i,e[15],10,-30611744),i=rr(i,s,n,r,e[6],15,-1560198380),r=rr(r,i,s,n,e[13],21,1309151649),n=rr(n,r,i,s,e[4],6,-145523070),s=rr(s,n,r,i,e[11],10,-1120210379),i=rr(i,s,n,r,e[2],15,718787259),r=rr(r,i,s,n,e[9],21,-343485551),t[0]=Go(n,t[0]),t[1]=Go(r,t[1]),t[2]=Go(i,t[2]),t[3]=Go(s,t[3])}function Mm(t,e,n,r,i,s){return e=Go(Go(e,t),Go(r,s)),Go(e<<i|e>>>32-i,n)}function er(t,e,n,r,i,s,o){return Mm(e&n|~e&r,t,e,i,s,o)}function tr(t,e,n,r,i,s,o){return Mm(e&r|n&~r,t,e,i,s,o)}function nr(t,e,n,r,i,s,o){return Mm(e^n^r,t,e,i,s,o)}function rr(t,e,n,r,i,s,o){return Mm(n^(e|~r),t,e,i,s,o)}function Y6(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)R1(r,GB(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(R1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,R1(r,i),r}function GB(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Zh=Ke.atob.bind(Ke),N2=Ke.btoa.bind(Ke);var tS="0123456789abcdef".split("");function YB(t){for(var e="",n=0;n<4;n++)e+=tS[t>>8*n+4&15]+tS[t>>8*n&15];return e}function KB(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function C2(t){return Y6(t).map(KB).join("")}var JB=function(t){for(var e=0;e<t.length;e++)t[e]=YB(t[e]);return t.join("")}(Y6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Go(t,e){if(JB){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function E2(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var h=e.length,p=0,f=0,m="";for(l=0;l<h;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],m+=String.fromCharCode(e.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var nS={print:4,modify:8,copy:16,"annot-forms":32};function vc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(nS.perm!==void 0)throw new Error("Invalid permission: "+a);i+=nS[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=C2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=E2(this.encryptionKey,this.padding)}function yc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function rS(t){if(Ct(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Ke.console&&Dt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $d(t){if(!(this instanceof $d))return new $d(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function K6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $o(t,e,n,r,i){if(!(this instanceof $o))return new $o(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,K6.call(this,r,i)}function tl(t,e,n,r,i){if(!(this instanceof tl))return new tl(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,K6.call(this,r,i)}function Ve(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Ct(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=rS;var m="1.3",v=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(b){m=b};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var y=f.__private__.getPageFormat=function(b){return x[b]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},_=w.COMPAT;function k(){this.saveGraphicsState(),re(new Ge(Me,0,0,-Me,0,po()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),c="n",_=w.ADVANCED}function N(){this.restoreGraphicsState(),c="S",_=w.COMPAT}var T=f.__private__.combineFontStyleAndFontWeight=function(b,R){if(b=="bold"&&R=="normal"||b=="bold"&&R==400||b=="normal"&&R=="italic"||b=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(b=R==400||R==="normal"?b==="italic"?"italic":"normal":R!=700&&R!=="bold"||b!=="normal"?(R==700?"bold":R)+""+b:"bold"),b};f.advancedAPI=function(b){var R=_===w.COMPAT;return R&&k.call(this),typeof b!="function"||(b(this),R&&N.call(this)),this},f.compatAPI=function(b){var R=_===w.ADVANCED;return R&&N.call(this),typeof b!="function"||(b(this),R&&k.call(this)),this},f.isAdvancedAPI=function(){return _===w.ADVANCED};var E,L=function(b){if(_!==w.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=f.roundToPrecision=f.__private__.roundToPrecision=function(b,R){var te=e||R;if(isNaN(b)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(te).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof l=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return F(b,l)}:l==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return F(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return F(b,16)};var z=f.f2=f.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return F(b,2)},C=f.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return F(b,3)},O=f.scale=f.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return _===w.COMPAT?b*Me:_===w.ADVANCED?b:void 0},H=function(b){return _===w.COMPAT?po()-b:_===w.ADVANCED?b:void 0},W=function(b){return O(H(b))};f.__private__.setPrecision=f.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var ie,J="00000000000000000000000000000000",K=f.__private__.getFileId=function(){return J},Y=f.__private__.setFileId=function(b){return J=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Jn=new vc(u.userPermissions,u.userPassword,u.ownerPassword,J)),J};f.setFileId=function(b){return Y(b),this},f.getFileId=function(){return K()};var M=f.__private__.convertDateToPDFDate=function(b){var R=b.getTimezoneOffset(),te=R<0?"+":"-",se=Math.floor(Math.abs(R/60)),de=Math.abs(R%60),ve=[te,G(se),"'",G(de),"'"].join("");return["D:",b.getFullYear(),G(b.getMonth()+1),G(b.getDate()),G(b.getHours()),G(b.getMinutes()),G(b.getSeconds()),ve].join("")},V=f.__private__.convertPDFDateToDate=function(b){var R=parseInt(b.substr(2,4),10),te=parseInt(b.substr(6,2),10)-1,se=parseInt(b.substr(8,2),10),de=parseInt(b.substr(10,2),10),ve=parseInt(b.substr(12,2),10),ke=parseInt(b.substr(14,2),10);return new Date(R,te,se,de,ve,ke,0)},ne=f.__private__.setCreationDate=function(b){var R;if(b===void 0&&(b=new Date),b instanceof Date)R=M(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=b}return ie=R},j=f.__private__.getCreationDate=function(b){var R=ie;return b==="jsDate"&&(R=V(ie)),R};f.setCreationDate=function(b){return ne(b),this},f.getCreationDate=function(b){return j(b)};var D,G=f.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},Z=f.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ee=0,ce=[],he=[],ge=0,Ae=[],Se=[],Le=!1,Oe=he,Ye=function(){ee=0,ge=0,he=[],ce=[],Ae=[],Is=bn(),Pi=bn()};f.__private__.setCustomOutputDestination=function(b){Le=!0,Oe=b};var ye=function(b){Le||(Oe=b)};f.__private__.resetCustomOutputDestination=function(){Le=!1,Oe=he};var re=f.__private__.out=function(b){return b=b.toString(),ge+=b.length+1,Oe.push(b),Oe},nt=f.__private__.write=function(b){return re(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},ze=f.__private__.getArrayBuffer=function(b){for(var R=b.length,te=new ArrayBuffer(R),se=new Uint8Array(te);R--;)se[R]=b.charCodeAt(R);return te},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pe};var Ce=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(b){return Ce=_===w.ADVANCED?b/Me:b,this};var Re,Ie=f.__private__.getFontSize=f.getFontSize=function(){return _===w.COMPAT?Ce:Ce*Me},He=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(b){return He=b,this},f.__private__.getR2L=f.getR2L=function(){return He};var Qe,st=f.__private__.setZoomMode=function(b){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))Re=b;else if(isNaN(b)){if(R.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');Re=b}else Re=parseInt(b,10)};f.__private__.getZoomMode=function(){return Re};var at,mt=f.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Qe=b};f.__private__.getPageMode=function(){return Qe};var jt=f.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');at=b};f.__private__.getLayoutMode=function(){return at},f.__private__.setDisplayMode=f.setDisplayMode=function(b,R,te){return st(b),jt(R),mt(te),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(b){if(Object.keys(Je).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[b]},f.__private__.getDocumentProperties=function(){return Je},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(b){for(var R in Je)Je.hasOwnProperty(R)&&b[R]&&(Je[R]=b[R]);return this},f.__private__.setDocumentProperty=function(b,R){if(Object.keys(Je).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[b]=R};var lt,Me,Kn,bt,Si,Mt={},Kt={},ns=[],_t={},ma={},nn={},ki={},Ts=null,rn=0,Ze=[],St=new rS(f),va=t.hotfixes||[],zn={},rs={},is=[],Ge=function b(R,te,se,de,ve,ke){if(!(this instanceof b))return new b(R,te,se,de,ve,ke);isNaN(R)&&(R=1),isNaN(te)&&(te=0),isNaN(se)&&(se=0),isNaN(de)&&(de=1),isNaN(ve)&&(ve=0),isNaN(ke)&&(ke=0),this._matrix=[R,te,se,de,ve,ke]};Object.defineProperty(Ge.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ge.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ge.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ge.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ge.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ge.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ge.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ge.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ge.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ge.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ge.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ge.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ge.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ge.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(b)},Ge.prototype.multiply=function(b){var R=b.sx*this.sx+b.shy*this.shx,te=b.sx*this.shy+b.shy*this.sy,se=b.shx*this.sx+b.sy*this.shx,de=b.shx*this.shy+b.sy*this.sy,ve=b.tx*this.sx+b.ty*this.shx+this.tx,ke=b.tx*this.shy+b.ty*this.sy+this.ty;return new Ge(R,te,se,de,ve,ke)},Ge.prototype.decompose=function(){var b=this.sx,R=this.shy,te=this.shx,se=this.sy,de=this.tx,ve=this.ty,ke=Math.sqrt(b*b+R*R),Fe=(b/=ke)*te+(R/=ke)*se;te-=b*Fe,se-=R*Fe;var We=Math.sqrt(te*te+se*se);return Fe/=We,b*(se/=We)<R*(te/=We)&&(b=-b,R=-R,Fe=-Fe,ke=-ke),{scale:new Ge(ke,0,0,We,0,0),translate:new Ge(1,0,0,1,de,ve),rotate:new Ge(b,R,-R,b,0,0),skew:new Ge(1,0,Fe,1,0,0)}},Ge.prototype.toString=function(b){return this.join(" ")},Ge.prototype.inversed=function(){var b=this.sx,R=this.shy,te=this.shx,se=this.sy,de=this.tx,ve=this.ty,ke=1/(b*se-R*te),Fe=se*ke,We=-R*ke,rt=-te*ke,et=b*ke;return new Ge(Fe,We,rt,et,-Fe*de-rt*ve,-We*de-et*ve)},Ge.prototype.applyToPoint=function(b){var R=b.x*this.sx+b.y*this.shx+this.tx,te=b.x*this.shy+b.y*this.sy+this.ty;return new Ul(R,te)},Ge.prototype.applyToRectangle=function(b){var R=this.applyToPoint(b),te=this.applyToPoint(new Ul(b.x+b.w,b.y+b.h));return new ju(R.x,R.y,te.x-R.x,te.y-R.y)},Ge.prototype.clone=function(){var b=this.sx,R=this.shy,te=this.shx,se=this.sy,de=this.tx,ve=this.ty;return new Ge(b,R,te,se,de,ve)},f.Matrix=Ge;var Ai=f.matrixMult=function(b,R){return R.multiply(b)},ss=new Ge(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ss;var br=function(b,R){if(!ma[b]){var te=(R instanceof $o?"Sh":"P")+(Object.keys(_t).length+1).toString(10);R.id=te,ma[b]=te,_t[te]=R,St.publish("addPattern",R)}};f.ShadingPattern=$o,f.TilingPattern=tl,f.addShadingPattern=function(b,R){return L("addShadingPattern()"),br(b,R),this},f.beginTilingPattern=function(b){L("beginTilingPattern()"),kf(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},f.endTilingPattern=function(b,R){L("endTilingPattern()"),R.stream=Se[D].join(`
`),br(b,R),St.publish("endTilingPattern",R),is.pop().restore()};var An=f.__private__.newObject=function(){var b=bn();return $r(b,!0),b},bn=f.__private__.newObjectDeferred=function(){return ee++,ce[ee]=function(){return ge},ee},$r=function(b,R){return R=typeof R=="boolean"&&R,ce[b]=ge,R&&re(b+" 0 obj"),b},El=f.__private__.newAdditionalObject=function(){var b={objId:bn(),content:""};return Ae.push(b),b},Is=bn(),Pi=bn(),Ni=f.__private__.decodeColorString=function(b){var R=b.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var te=parseFloat(R[0]);R=[te,te,te,"r"]}for(var se="#",de=0;de<3;de++)se+=("0"+Math.floor(255*parseFloat(R[de])).toString(16)).slice(-2);return se},Ci=f.__private__.encodeColorString=function(b){var R;typeof b=="string"&&(b={ch1:b});var te=b.ch1,se=b.ch2,de=b.ch3,ve=b.ch4,ke=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Fe=new G6(te);if(Fe.ok)te=Fe.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var We=parseInt(te.substr(1),16);te=We>>16&255,se=We>>8&255,de=255&We}if(se===void 0||ve===void 0&&te===se&&se===de)if(typeof te=="string")R=te+" "+ke[0];else switch(b.precision){case 2:R=z(te/255)+" "+ke[0];break;case 3:default:R=C(te/255)+" "+ke[0]}else if(ve===void 0||Ct(ve)==="object"){if(ve&&!isNaN(ve.a)&&ve.a===0)return R=["1.","1.","1.",ke[1]].join(" ");if(typeof te=="string")R=[te,se,de,ke[1]].join(" ");else switch(b.precision){case 2:R=[z(te/255),z(se/255),z(de/255),ke[1]].join(" ");break;default:case 3:R=[C(te/255),C(se/255),C(de/255),ke[1]].join(" ")}}else if(typeof te=="string")R=[te,se,de,ve,ke[2]].join(" ");else switch(b.precision){case 2:R=[z(te),z(se),z(de),z(ve),ke[2]].join(" ");break;case 3:default:R=[C(te),C(se),C(de),C(ve),ke[2]].join(" ")}return R},os=f.__private__.getFilters=function(){return o},ii=f.__private__.putStream=function(b){var R=(b=b||{}).data||"",te=b.filters||os(),se=b.alreadyAppliedFilters||[],de=b.addLength1||!1,ve=R.length,ke=b.objectId,Fe=function(Xn){return Xn};if(u!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Fe=Jn.encryptor(ke,0));var We={};te===!0&&(te=["FlateEncode"]);var rt=b.additionalKeyValues||[],et=(We=Ve.API.processDataByFilters!==void 0?Ve.API.processDataByFilters(R,te):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(We.data.length!==0&&(rt.push({key:"Length",value:We.data.length}),de===!0&&rt.push({key:"Length1",value:ve})),et.length!=0)if(et.split("/").length-1==1)rt.push({key:"Filter",value:et});else{rt.push({key:"Filter",value:"["+et+"]"});for(var pt=0;pt<rt.length;pt+=1)if(rt[pt].key==="DecodeParms"){for(var Xt=[],sn=0;sn<We.reverseChain.split("/").length-1;sn+=1)Xt.push("null");Xt.push(rt[pt].value),rt[pt].value="["+Xt.join(" ")+"]"}}re("<<");for(var xn=0;xn<rt.length;xn++)re("/"+rt[xn].key+" "+rt[xn].value);re(">>"),We.data.length!==0&&(re("stream"),re(Fe(We.data)),re("endstream"))},as=f.__private__.putPage=function(b){var R=b.number,te=b.data,se=b.objId,de=b.contentsObjId;$r(se,!0),re("<</Type /Page"),re("/Parent "+b.rootDictionaryObjId+" 0 R"),re("/Resources "+b.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(E(b.mediaBox.bottomLeftX))+" "+parseFloat(E(b.mediaBox.bottomLeftY))+" "+E(b.mediaBox.topRightX)+" "+E(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&re("/CropBox ["+E(b.cropBox.bottomLeftX)+" "+E(b.cropBox.bottomLeftY)+" "+E(b.cropBox.topRightX)+" "+E(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&re("/BleedBox ["+E(b.bleedBox.bottomLeftX)+" "+E(b.bleedBox.bottomLeftY)+" "+E(b.bleedBox.topRightX)+" "+E(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&re("/TrimBox ["+E(b.trimBox.bottomLeftX)+" "+E(b.trimBox.bottomLeftY)+" "+E(b.trimBox.topRightX)+" "+E(b.trimBox.topRightY)+"]"),b.artBox!==null&&re("/ArtBox ["+E(b.artBox.bottomLeftX)+" "+E(b.artBox.bottomLeftY)+" "+E(b.artBox.topRightX)+" "+E(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&re("/UserUnit "+b.userUnit),St.publish("putPage",{objId:se,pageContext:Ze[R],pageNumber:R,page:te}),re("/Contents "+de+" 0 R"),re(">>"),re("endobj");var ve=te.join(`
`);return _===w.ADVANCED&&(ve+=`
Q`),$r(de,!0),ii({data:ve,filters:os(),objectId:de}),re("endobj"),se},ya=f.__private__.putPages=function(){var b,R,te=[];for(b=1;b<=rn;b++)Ze[b].objId=bn(),Ze[b].contentsObjId=bn();for(b=1;b<=rn;b++)te.push(as({number:b,data:Se[b],objId:Ze[b].objId,contentsObjId:Ze[b].contentsObjId,mediaBox:Ze[b].mediaBox,cropBox:Ze[b].cropBox,bleedBox:Ze[b].bleedBox,trimBox:Ze[b].trimBox,artBox:Ze[b].artBox,userUnit:Ze[b].userUnit,rootDictionaryObjId:Is,resourceDictionaryObjId:Pi}));$r(Is,!0),re("<</Type /Pages");var se="/Kids [";for(R=0;R<rn;R++)se+=te[R]+" 0 R ";re(se+"]"),re("/Count "+rn),re(">>"),re("endobj"),St.publish("postPutPages")},Ll=function(b){St.publish("putFont",{font:b,out:re,newObject:An,putStream:ii}),b.isAlreadyPutted!==!0&&(b.objectNumber=An(),re("<<"),re("/Type /Font"),re("/BaseFont /"+yc(b.postScriptName)),re("/Subtype /Type1"),typeof b.encoding=="string"&&re("/Encoding /"+b.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},jl=function(){for(var b in Mt)Mt.hasOwnProperty(b)&&(h===!1||h===!0&&p.hasOwnProperty(b))&&Ll(Mt[b])},Ol=function(b){b.objectNumber=An();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[E(b.x),E(b.y),E(b.x+b.width),E(b.y+b.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var te=b.pages[1].join(`
`);ii({data:te,additionalKeyValues:R,objectId:b.objectNumber}),re("endobj")},Tl=function(){for(var b in zn)zn.hasOwnProperty(b)&&Ol(zn[b])},of=function(b,R){var te,se=[],de=1/(R-1);for(te=0;te<1;te+=de)se.push(te);if(se.push(1),b[0].offset!=0){var ve={offset:0,color:b[0].color};b.unshift(ve)}if(b[b.length-1].offset!=1){var ke={offset:1,color:b[b.length-1].color};b.push(ke)}for(var Fe="",We=0,rt=0;rt<se.length;rt++){for(te=se[rt];te>b[We+1].offset;)We++;var et=b[We].offset,pt=(te-et)/(b[We+1].offset-et),Xt=b[We].color,sn=b[We+1].color;Fe+=Z(Math.round((1-pt)*Xt[0]+pt*sn[0]).toString(16))+Z(Math.round((1-pt)*Xt[1]+pt*sn[1]).toString(16))+Z(Math.round((1-pt)*Xt[2]+pt*sn[2]).toString(16))}return Fe.trim()},Fm=function(b,R){R||(R=21);var te=An(),se=of(b.colors,R),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+R+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ii({data:se,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),re("endobj"),b.objectNumber=An(),re("<< /ShadingType "+b.type),re("/ColorSpace /DeviceRGB");var ve="/Coords ["+E(parseFloat(b.coords[0]))+" "+E(parseFloat(b.coords[1]))+" ";b.type===2?ve+=E(parseFloat(b.coords[2]))+" "+E(parseFloat(b.coords[3])):ve+=E(parseFloat(b.coords[2]))+" "+E(parseFloat(b.coords[3]))+" "+E(parseFloat(b.coords[4]))+" "+E(parseFloat(b.coords[5])),re(ve+="]"),b.matrix&&re("/Matrix ["+b.matrix.toString()+"]"),re("/Function "+te+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Dm=function(b,R){var te=bn(),se=An();R.push({resourcesOid:te,objectOid:se}),b.objectNumber=se;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+b.boundingBox.map(E).join(" ")+"]"}),de.push({key:"XStep",value:E(b.xStep)}),de.push({key:"YStep",value:E(b.yStep)}),de.push({key:"Resources",value:te+" 0 R"}),b.matrix&&de.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),ii({data:b.stream,additionalKeyValues:de,objectId:b.objectNumber}),re("endobj")},Il=function(b){var R;for(R in _t)_t.hasOwnProperty(R)&&(_t[R]instanceof $o?Fm(_t[R]):_t[R]instanceof tl&&Dm(_t[R],b))},af=function(b){for(var R in b.objectNumber=An(),re("<<"),b)switch(R){case"opacity":re("/ca "+z(b[R]));break;case"stroke-opacity":re("/CA "+z(b[R]))}re(">>"),re("endobj")},Bm=function(){var b;for(b in nn)nn.hasOwnProperty(b)&&af(nn[b])},xu=function(){for(var b in re("/XObject <<"),zn)zn.hasOwnProperty(b)&&zn[b].objectNumber>=0&&re("/"+b+" "+zn[b].objectNumber+" 0 R");St.publish("putXobjectDict"),re(">>")},$m=function(){Jn.oid=An(),re("<<"),re("/Filter /Standard"),re("/V "+Jn.v),re("/R "+Jn.r),re("/U <"+Jn.toHexString(Jn.U)+">"),re("/O <"+Jn.toHexString(Jn.O)+">"),re("/P "+Jn.P),re(">>"),re("endobj")},lf=function(){for(var b in re("/Font <<"),Mt)Mt.hasOwnProperty(b)&&(h===!1||h===!0&&p.hasOwnProperty(b))&&re("/"+b+" "+Mt[b].objectNumber+" 0 R");re(">>")},zm=function(){if(Object.keys(_t).length>0){for(var b in re("/Shading <<"),_t)_t.hasOwnProperty(b)&&_t[b]instanceof $o&&_t[b].objectNumber>=0&&re("/"+b+" "+_t[b].objectNumber+" 0 R");St.publish("putShadingPatternDict"),re(">>")}},Rl=function(b){if(Object.keys(_t).length>0){for(var R in re("/Pattern <<"),_t)_t.hasOwnProperty(R)&&_t[R]instanceof f.TilingPattern&&_t[R].objectNumber>=0&&_t[R].objectNumber<b&&re("/"+R+" "+_t[R].objectNumber+" 0 R");St.publish("putTilingPatternDict"),re(">>")}},Um=function(){if(Object.keys(nn).length>0){var b;for(b in re("/ExtGState <<"),nn)nn.hasOwnProperty(b)&&nn[b].objectNumber>=0&&re("/"+b+" "+nn[b].objectNumber+" 0 R");St.publish("putGStateDict"),re(">>")}},hn=function(b){$r(b.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),lf(),zm(),Rl(b.objectOid),Um(),xu(),re(">>"),re("endobj")},cf=function(){var b=[];jl(),Bm(),Tl(),Il(b),St.publish("putResources"),b.forEach(hn),hn({resourcesOid:Pi,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources")},uf=function(){St.publish("putAdditionalObjects");for(var b=0;b<Ae.length;b++){var R=Ae[b];$r(R.objId,!0),re(R.content),re("endobj")}St.publish("postPutAdditionalObjects")},hf=function(b){Kt[b.fontName]=Kt[b.fontName]||{},Kt[b.fontName][b.fontStyle]=b.id},_u=function(b,R,te,se,de){var ve={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:b,fontName:R,fontStyle:te,encoding:se,isStandardFont:de||!1,metadata:{}};return St.publish("addFont",{font:ve,instance:this}),Mt[ve.id]=ve,hf(ve),ve.id},Hm=function(b){for(var R=0,te=Pe.length;R<te;R++){var se=_u.call(this,b[R][0],b[R][1],b[R][2],Pe[R][3],!0);h===!1&&(p[se]=!0);var de=b[R][0].split("-");hf({id:se,fontName:de[0],fontStyle:de[1]||""})}St.publish("addFonts",{fonts:Mt,dictionary:Kt})},Ei=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(se){var R=se.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var te="Error in function "+R.split(`
`)[0].split("<")[0]+": "+se.message;if(!Ke.console)throw new Error(te);Ke.console.error(te,se),Ke.alert&&alert(te)}},b.foo.bar=b,b.foo},Ml=function(b,R){var te,se,de,ve,ke,Fe,We,rt,et;if(de=(R=R||{}).sourceEncoding||"Unicode",ke=R.outputEncoding,(R.autoencode||ke)&&Mt[lt].metadata&&Mt[lt].metadata[de]&&Mt[lt].metadata[de].encoding&&(ve=Mt[lt].metadata[de].encoding,!ke&&Mt[lt].encoding&&(ke=Mt[lt].encoding),!ke&&ve.codePages&&(ke=ve.codePages[0]),typeof ke=="string"&&(ke=ve[ke]),ke)){for(We=!1,Fe=[],te=0,se=b.length;te<se;te++)(rt=ke[b.charCodeAt(te)])?Fe.push(String.fromCharCode(rt)):Fe.push(b[te]),Fe[te].charCodeAt(0)>>8&&(We=!0);b=Fe.join("")}for(te=b.length;We===void 0&&te!==0;)b.charCodeAt(te-1)>>8&&(We=!0),te--;if(!We)return b;for(Fe=R.noBOM?[]:[254,255],te=0,se=b.length;te<se;te++){if((et=(rt=b.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fe.push(et),Fe.push(rt-(et<<8))}return String.fromCharCode.apply(void 0,Fe)},xr=f.__private__.pdfEscape=f.pdfEscape=function(b,R){return Ml(b,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Su=f.__private__.beginPage=function(b){Se[++rn]=[],Ze[rn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},ff(rn),ye(Se[D])},df=function(b,R){var te,se,de;switch(n=R||n,typeof b=="string"&&(te=y(b.toLowerCase()),Array.isArray(te)&&(se=te[0],de=te[1])),Array.isArray(b)&&(se=b[0]*Me,de=b[1]*Me),isNaN(se)&&(se=i[0],de=i[1]),(se>14400||de>14400)&&(Dt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),de=Math.min(14400,de)),i=[se,de],n.substr(0,1)){case"l":de>se&&(i=[de,se]);break;case"p":se>de&&(i=[de,se])}Su(i),wf(Nu),re(Li),Eu!==0&&re(Eu+" J"),Lu!==0&&re(Lu+" j"),St.publish("addPage",{pageNumber:rn})},Wm=function(b){b>0&&b<=rn&&(Se.splice(b,1),Ze.splice(b,1),rn--,D>rn&&(D=rn),this.setPage(D))},ff=function(b){b>0&&b<=rn&&(D=b)},qm=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Se.length-1},pf=function(b,R,te){var se,de=void 0;return te=te||{},b=b!==void 0?b:Mt[lt].fontName,R=R!==void 0?R:Mt[lt].fontStyle,se=b.toLowerCase(),Kt[se]!==void 0&&Kt[se][R]!==void 0?de=Kt[se][R]:Kt[b]!==void 0&&Kt[b][R]!==void 0?de=Kt[b][R]:te.disableWarning===!1&&Dt.warn("Unable to look up font label for font '"+b+"', '"+R+"'. Refer to getFontList() for available fonts."),de||te.noFallback||(de=Kt.times[R])==null&&(de=Kt.times.normal),de},Vm=f.__private__.putInfo=function(){var b=An(),R=function(se){return se};for(var te in u!==null&&(R=Jn.encryptor(b,0)),re("<<"),re("/Producer ("+xr(R("jsPDF "+Ve.version))+")"),Je)Je.hasOwnProperty(te)&&Je[te]&&re("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+xr(R(Je[te]))+")");re("/CreationDate ("+xr(R(ie))+")"),re(">>"),re("endobj")},ku=f.__private__.putCatalog=function(b){var R=(b=b||{}).rootDictionaryObjId||Is;switch(An(),re("<<"),re("/Type /Catalog"),re("/Pages "+R+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Re;te.substr(te.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&re("/OpenAction [3 0 R /XYZ null null "+z(Re)+"]")}switch(at||(at="continuous"),at){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Qe&&re("/PageMode /"+Qe),St.publish("putCatalog"),re(">>"),re("endobj")},Gm=f.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ee+1)),re("/Root "+ee+" 0 R"),re("/Info "+(ee-1)+" 0 R"),u!==null&&re("/Encrypt "+Jn.oid+" 0 R"),re("/ID [ <"+J+"> <"+J+"> ]"),re(">>")},Ym=f.__private__.putHeader=function(){re("%PDF-"+m),re("%")},Km=f.__private__.putXRef=function(){var b="0000000000";re("xref"),re("0 "+(ee+1)),re("0000000000 65535 f ");for(var R=1;R<=ee;R++)typeof ce[R]=="function"?re((b+ce[R]()).slice(-10)+" 00000 n "):ce[R]!==void 0?re((b+ce[R]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Rs=f.__private__.buildDocument=function(){Ye(),ye(he),St.publish("buildDocument"),Ym(),ya(),uf(),cf(),u!==null&&$m(),Vm(),ku();var b=ge;return Km(),Gm(),re("startxref"),re(""+b),re("%%EOF"),ye(Se[D]),he.join(`
`)},Fl=f.__private__.getBlob=function(b){return new Blob([ze(b)],{type:"application/pdf"})},Dl=f.output=f.__private__.output=Ei(function(b,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",b){case void 0:return Rs();case"save":f.save(R.filename);break;case"arraybuffer":return ze(Rs());case"blob":return Fl(Rs());case"bloburi":case"bloburl":if(Ke.URL!==void 0&&typeof Ke.URL.createObjectURL=="function")return Ke.URL&&Ke.URL.createObjectURL(Fl(Rs()))||void 0;Dt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",se=Rs();try{te=N2(se)}catch{te=N2(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+R.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(de=R.pdfObjectUrl,ve="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Fe=Ke.open();return Fe!==null&&Fe.document.write(ke),Fe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',rt=Ke.open();if(rt!==null){rt.document.write(We);var et=this;rt.document.documentElement.querySelector("#pdfViewer").onload=function(){rt.document.title=R.filename,rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(et.output("bloburl"))}}return rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ke)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Xt=Ke.open();if(Xt!==null&&(Xt.document.write(pt),Xt.document.title=R.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return Ke.document.location.href=this.output("datauristring",R);default:return null}}),gf=function(b){return Array.isArray(va)===!0&&va.indexOf(b)>-1};switch(r){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=gf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Me=r}var Jn=null;ne(),Y();var Jm=function(b){return u!==null?Jn.encryptor(b,0):function(R){return R}},mf=f.__private__.getPageInfo=f.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ze[b].objId,pageNumber:b,pageContext:Ze[b]}},Xe=f.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Ze)if(Ze[R].objId===b)break;return mf(R)},Xm=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ze[D].objId,pageNumber:D,pageContext:Ze[D]}};f.addPage=function(){return df.apply(this,arguments),this},f.setPage=function(){return ff.apply(this,arguments),ye.call(this,Se[D]),this},f.insertPage=function(b){return this.addPage(),this.movePage(D,b),this},f.movePage=function(b,R){var te,se;if(b>R){te=Se[b],se=Ze[b];for(var de=b;de>R;de--)Se[de]=Se[de-1],Ze[de]=Ze[de-1];Se[R]=te,Ze[R]=se,this.setPage(R)}else if(b<R){te=Se[b],se=Ze[b];for(var ve=b;ve<R;ve++)Se[ve]=Se[ve+1],Ze[ve]=Ze[ve+1];Se[R]=te,Ze[R]=se,this.setPage(R)}return this},f.deletePage=function(){return Wm.apply(this,arguments),this},f.__private__.text=f.text=function(b,R,te,se,de){var ve,ke,Fe,We,rt,et,pt,Xt,sn,xn=(se=se||{}).scope||this;if(typeof b=="number"&&typeof R=="number"&&(typeof te=="string"||Array.isArray(te))){var Xn=te;te=R,R=b,b=Xn}if(arguments[3]instanceof Ge?(L("The transform parameter of text() with a Matrix value"),sn=de):(Fe=arguments[4],We=arguments[5],Ct(pt=arguments[3])==="object"&&pt!==null||(typeof Fe=="string"&&(We=Fe,Fe=null),typeof pt=="string"&&(We=pt,pt=null),typeof pt=="number"&&(Fe=pt,pt=null),se={flags:pt,angle:Fe,align:We})),isNaN(R)||isNaN(te)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return xn;var In="",ji=!1,zr=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:ba,us=xn.internal.scaleFactor;function Af(Bt){return Bt=Bt.split("	").join(Array(se.TabLen||9).join(" ")),xr(Bt,pt)}function Ru(Bt){for(var $t,fn=Bt.concat(),Pn=[],$s=fn.length;$s--;)typeof($t=fn.shift())=="string"?Pn.push($t):Array.isArray(Bt)&&($t.length===1||$t[1]===void 0&&$t[2]===void 0)?Pn.push($t[0]):Pn.push([$t[0],$t[1],$t[2]]);return Pn}function Mu(Bt,$t){var fn;if(typeof Bt=="string")fn=$t(Bt)[0];else if(Array.isArray(Bt)){for(var Pn,$s,Wu=Bt.concat(),Zl=[],Lf=Wu.length;Lf--;)typeof(Pn=Wu.shift())=="string"?Zl.push($t(Pn)[0]):Array.isArray(Pn)&&typeof Pn[0]=="string"&&($s=$t(Pn[0],Pn[1],Pn[2]),Zl.push([$s[0],$s[1],$s[2]]));fn=Zl}return fn}var Wl=!1,Fu=!0;if(typeof b=="string")Wl=!0;else if(Array.isArray(b)){var Du=b.concat();ke=[];for(var ql,Un=Du.length;Un--;)(typeof(ql=Du.shift())!="string"||Array.isArray(ql)&&typeof ql[0]!="string")&&(Fu=!1);Wl=Fu}if(Wl===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Vl=Ce/xn.internal.scaleFactor,Gl=Vl*(zr-1);switch(se.baseline){case"bottom":te-=Gl;break;case"top":te+=Vl-Gl;break;case"hanging":te+=Vl-2*Gl;break;case"middle":te+=Vl/2-Gl}if((et=se.maxWidth||0)>0&&(typeof b=="string"?b=xn.splitTextToSize(b,et):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Bt,$t){return Bt.concat(xn.splitTextToSize($t,et))},[]))),ve={text:b,x:R,y:te,options:se,mutex:{pdfEscape:xr,activeFontKey:lt,fonts:Mt,activeFontSize:Ce}},St.publish("preProcessText",ve),b=ve.text,Fe=(se=ve.options).angle,!(sn instanceof Ge)&&Fe&&typeof Fe=="number"){Fe*=Math.PI/180,se.rotationDirection===0&&(Fe=-Fe),_===w.ADVANCED&&(Fe=-Fe);var Yl=Math.cos(Fe),Bu=Math.sin(Fe);sn=new Ge(Yl,Bu,-Bu,Yl,0,0)}else Fe&&Fe instanceof Ge&&(sn=Fe);_!==w.ADVANCED||sn||(sn=ss),(rt=se.charSpace||zl)!==void 0&&(In+=E(O(rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=se.horizontalScale)!==void 0&&(In+=E(100*Xt)+` Tz
`),se.lang;var _r=-1,a0=se.renderingMode!==void 0?se.renderingMode:se.stroke,$u=xn.internal.getCurrentPageInfo().pageContext;switch(a0){case 0:case!1:case"fill":_r=0;break;case 1:case!0:case"stroke":_r=1;break;case 2:case"fillThenStroke":_r=2;break;case 3:case"invisible":_r=3;break;case 4:case"fillAndAddForClipping":_r=4;break;case 5:case"strokeAndAddPathForClipping":_r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_r=6;break;case 7:case"addToPathForClipping":_r=7}var Pf=$u.usedRenderingMode!==void 0?$u.usedRenderingMode:-1;_r!==-1?In+=_r+` Tr
`:Pf!==-1&&(In+=`0 Tr
`),_r!==-1&&($u.usedRenderingMode=_r),We=se.align||"left";var si,Kl=Ce*zr,Nf=xn.internal.pageSize.getWidth(),Cf=Mt[lt];rt=se.charSpace||zl,et=se.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var go=[],Sa=function(Bt){return xn.getStringUnitWidth(Bt,{font:Cf,charSpace:rt,fontSize:Ce,doKerning:!1})*Ce/us};if(Object.prototype.toString.call(b)==="[object Array]"){var Sr;ke=Ru(b),We!=="left"&&(si=ke.map(Sa));var dr,mo=0;if(We==="right"){R-=si[0],b=[],Un=ke.length;for(var Fs=0;Fs<Un;Fs++)Fs===0?(dr=cs(R),Sr=Ms(te)):(dr=O(mo-si[Fs]),Sr=-Kl),b.push([ke[Fs],dr,Sr]),mo=si[Fs]}else if(We==="center"){R-=si[0]/2,b=[],Un=ke.length;for(var Ds=0;Ds<Un;Ds++)Ds===0?(dr=cs(R),Sr=Ms(te)):(dr=O((mo-si[Ds])/2),Sr=-Kl),b.push([ke[Ds],dr,Sr]),mo=si[Ds]}else if(We==="left"){b=[],Un=ke.length;for(var Jl=0;Jl<Un;Jl++)b.push(ke[Jl])}else if(We==="justify"&&Cf.encoding==="Identity-H"){b=[],Un=ke.length,et=et!==0?et:Nf;for(var Bs=0,dn=0;dn<Un;dn++)if(Sr=dn===0?Ms(te):-Kl,dr=dn===0?cs(R):Bs,dn<Un-1){var zu=O((et-si[dn])/(ke[dn].split(" ").length-1)),fr=ke[dn].split(" ");b.push([fr[0]+" ",dr,Sr]),Bs=0;for(var oi=1;oi<fr.length;oi++){var Xl=(Sa(fr[oi-1]+" "+fr[oi])-Sa(fr[oi]))*us+zu;oi==fr.length-1?b.push([fr[oi],Xl,0]):b.push([fr[oi]+" ",Xl,0]),Bs-=Xl}}else b.push([ke[dn],dr,Sr]);b.push(["",Bs,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Un=ke.length,et=et!==0?et:Nf,dn=0;dn<Un;dn++)Sr=dn===0?Ms(te):-Kl,dr=dn===0?cs(R):0,dn<Un-1?go.push(E(O((et-si[dn])/(ke[dn].split(" ").length-1)))):go.push(0),b.push([ke[dn],dr,Sr])}}var Ef=typeof se.R2L=="boolean"?se.R2L:He;Ef===!0&&(b=Mu(b,function(Bt,$t,fn){return[Bt.split("").reverse().join(""),$t,fn]})),ve={text:b,x:R,y:te,options:se,mutex:{pdfEscape:xr,activeFontKey:lt,fonts:Mt,activeFontSize:Ce}},St.publish("postProcessText",ve),b=ve.text,ji=ve.mutex.isHex||!1;var Uu=Mt[lt].encoding;Uu!=="WinAnsiEncoding"&&Uu!=="StandardEncoding"||(b=Mu(b,function(Bt,$t,fn){return[Af(Bt),$t,fn]})),ke=Ru(b),b=[];for(var ka,Aa,vo,Pa=0,Ql=1,Na=Array.isArray(ke[0])?Ql:Pa,yo="",Hu=function(Bt,$t,fn){var Pn="";return fn instanceof Ge?(fn=typeof se.angle=="number"?Ai(fn,new Ge(1,0,0,1,Bt,$t)):Ai(new Ge(1,0,0,1,Bt,$t),fn),_===w.ADVANCED&&(fn=Ai(new Ge(1,0,0,-1,0,0),fn)),Pn=fn.join(" ")+` Tm
`):Pn=E(Bt)+" "+E($t)+` Td
`,Pn},ai=0;ai<ke.length;ai++){switch(yo="",Na){case Ql:vo=(ji?"<":"(")+ke[ai][0]+(ji?">":")"),ka=parseFloat(ke[ai][1]),Aa=parseFloat(ke[ai][2]);break;case Pa:vo=(ji?"<":"(")+ke[ai]+(ji?">":")"),ka=cs(R),Aa=Ms(te)}go!==void 0&&go[ai]!==void 0&&(yo=go[ai]+` Tw
`),ai===0?b.push(yo+Hu(ka,Aa,sn)+vo):Na===Pa?b.push(yo+vo):Na===Ql&&b.push(yo+Hu(ka,Aa,sn)+vo)}b=Na===Pa?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var li=`BT
/`;return li+=lt+" "+Ce+` Tf
`,li+=E(Ce*zr)+` TL
`,li+=xa+`
`,li+=In,li+=b,re(li+="ET"),p[lt]=!0,xn};var Qm=f.__private__.clip=f.clip=function(b){return re(b==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Qm("evenodd")},f.__private__.discardPath=f.discardPath=function(){return re("n"),this};var ls=f.__private__.isValidStyle=function(b){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(R=!0),R};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(b){return ls(b)&&(c=b),this};var vf=f.__private__.getStyle=f.getStyle=function(b){var R=c;switch(b){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=b}return R},yf=f.close=function(){return re("h"),this};f.stroke=function(){return re("S"),this},f.fill=function(b){return Bl("f",b),this},f.fillEvenOdd=function(b){return Bl("f*",b),this},f.fillStroke=function(b){return Bl("B",b),this},f.fillStrokeEvenOdd=function(b){return Bl("B*",b),this};var Bl=function(b,R){Ct(R)==="object"?e0(R,b):re(b)},Au=function(b){b===null||_===w.ADVANCED&&b===void 0||(b=vf(b),re(b))};function Zm(b,R,te,se,de){var ve=new tl(R||this.boundingBox,te||this.xStep,se||this.yStep,this.gState,de||this.matrix);ve.stream=this.stream;var ke=b+"$$"+this.cloneIndex+++"$$";return br(ke,ve),ve}var e0=function(b,R){var te=ma[b.key],se=_t[te];if(se instanceof $o)re("q"),re(t0(R)),se.gState&&f.setGState(se.gState),re(b.matrix.toString()+" cm"),re("/"+te+" sh"),re("Q");else if(se instanceof tl){var de=new Ge(1,0,0,-1,0,po());b.matrix&&(de=de.multiply(b.matrix||ss),te=Zm.call(se,b.key,b.boundingBox,b.xStep,b.yStep,de).id),re("q"),re("/Pattern cs"),re("/"+te+" scn"),se.gState&&f.setGState(se.gState),re(R),re("Q")}},t0=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pu=f.moveTo=function(b,R){return re(E(O(b))+" "+E(W(R))+" m"),this},wa=f.lineTo=function(b,R){return re(E(O(b))+" "+E(W(R))+" l"),this},ho=f.curveTo=function(b,R,te,se,de,ve){return re([E(O(b)),E(W(R)),E(O(te)),E(W(se)),E(O(de)),E(W(ve)),"c"].join(" ")),this};f.__private__.line=f.line=function(b,R,te,se,de){if(isNaN(b)||isNaN(R)||isNaN(te)||isNaN(se)||!ls(de))throw new Error("Invalid arguments passed to jsPDF.line");return _===w.COMPAT?this.lines([[te-b,se-R]],b,R,[1,1],de||"S"):this.lines([[te-b,se-R]],b,R,[1,1]).stroke()},f.__private__.lines=f.lines=function(b,R,te,se,de,ve){var ke,Fe,We,rt,et,pt,Xt,sn,xn,Xn,In,ji;if(typeof b=="number"&&(ji=te,te=R,R=b,b=ji),se=se||[1,1],ve=ve||!1,isNaN(R)||isNaN(te)||!Array.isArray(b)||!Array.isArray(se)||!ls(de)||typeof ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pu(R,te),ke=se[0],Fe=se[1],rt=b.length,Xn=R,In=te,We=0;We<rt;We++)(et=b[We]).length===2?(Xn=et[0]*ke+Xn,In=et[1]*Fe+In,wa(Xn,In)):(pt=et[0]*ke+Xn,Xt=et[1]*Fe+In,sn=et[2]*ke+Xn,xn=et[3]*Fe+In,Xn=et[4]*ke+Xn,In=et[5]*Fe+In,ho(pt,Xt,sn,xn,Xn,In));return ve&&yf(),Au(de),this},f.path=function(b){for(var R=0;R<b.length;R++){var te=b[R],se=te.c;switch(te.op){case"m":Pu(se[0],se[1]);break;case"l":wa(se[0],se[1]);break;case"c":ho.apply(this,se);break;case"h":yf()}}return this},f.__private__.rect=f.rect=function(b,R,te,se,de){if(isNaN(b)||isNaN(R)||isNaN(te)||isNaN(se)||!ls(de))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w.COMPAT&&(se=-se),re([E(O(b)),E(W(R)),E(O(te)),E(O(se)),"re"].join(" ")),Au(de),this},f.__private__.triangle=f.triangle=function(b,R,te,se,de,ve,ke){if(isNaN(b)||isNaN(R)||isNaN(te)||isNaN(se)||isNaN(de)||isNaN(ve)||!ls(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-b,se-R],[de-te,ve-se],[b-de,R-ve]],b,R,[1,1],ke,!0),this},f.__private__.roundedRect=f.roundedRect=function(b,R,te,se,de,ve,ke){if(isNaN(b)||isNaN(R)||isNaN(te)||isNaN(se)||isNaN(de)||isNaN(ve)||!ls(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fe=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*te),ve=Math.min(ve,.5*se),this.lines([[te-2*de,0],[de*Fe,0,de,ve-ve*Fe,de,ve],[0,se-2*ve],[0,ve*Fe,-de*Fe,ve,-de,ve],[2*de-te,0],[-de*Fe,0,-de,-ve*Fe,-de,-ve],[0,2*ve-se],[0,-ve*Fe,de*Fe,-ve,de,-ve]],b+de,R,[1,1],ke,!0),this},f.__private__.ellipse=f.ellipse=function(b,R,te,se,de){if(isNaN(b)||isNaN(R)||isNaN(te)||isNaN(se)||!ls(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ve=4/3*(Math.SQRT2-1)*te,ke=4/3*(Math.SQRT2-1)*se;return Pu(b+te,R),ho(b+te,R-ke,b+ve,R-se,b,R-se),ho(b-ve,R-se,b-te,R-ke,b-te,R),ho(b-te,R+ke,b-ve,R+se,b,R+se),ho(b+ve,R+se,b+te,R+ke,b+te,R),Au(de),this},f.__private__.circle=f.circle=function(b,R,te,se){if(isNaN(b)||isNaN(R)||isNaN(te)||!ls(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,R,te,te,se)},f.setFont=function(b,R,te){return te&&(R=T(R,te)),lt=pf(b,R,{disableWarning:!1}),this};var n0=f.__private__.getFont=f.getFont=function(){return Mt[pf.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var b,R,te={};for(b in Kt)if(Kt.hasOwnProperty(b))for(R in te[b]=[],Kt[b])Kt[b].hasOwnProperty(R)&&te[b].push(R);return te},f.addFont=function(b,R,te,se,de){var ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ve.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&ve.indexOf(arguments[3])==-1&&(te=T(te,se)),de=de||"Identity-H",_u.call(this,b,R,te,de)};var ba,Nu=t.lineWidth||.200025,$l=f.__private__.getLineWidth=f.getLineWidth=function(){return Nu},wf=f.__private__.setLineWidth=f.setLineWidth=function(b){return Nu=b,re(E(O(b))+" w"),this};f.__private__.setLineDash=Ve.API.setLineDash=Ve.API.setLineDashPattern=function(b,R){if(b=b||[],R=R||0,isNaN(R)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(te){return E(O(te))}).join(" "),R=E(O(R)),re("["+b+"] "+R+" d"),this};var bf=f.__private__.getLineHeight=f.getLineHeight=function(){return Ce*ba};f.__private__.getLineHeight=f.getLineHeight=function(){return Ce*ba};var xf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(ba=b),this},_f=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ba};xf(t.lineHeight);var cs=f.__private__.getHorizontalCoordinate=function(b){return O(b)},Ms=f.__private__.getVerticalCoordinate=function(b){return _===w.ADVANCED?b:Ze[D].mediaBox.topRightY-Ze[D].mediaBox.bottomLeftY-O(b)},r0=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(b){return E(cs(b))},fo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(b){return E(Ms(b))},Li=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ni(Li)},f.__private__.setStrokeColor=f.setDrawColor=function(b,R,te,se){return Li=Ci({ch1:b,ch2:R,ch3:te,ch4:se,pdfColorType:"draw",precision:2}),re(Li),this};var Cu=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ni(Cu)},f.__private__.setFillColor=f.setFillColor=function(b,R,te,se){return Cu=Ci({ch1:b,ch2:R,ch3:te,ch4:se,pdfColorType:"fill",precision:2}),re(Cu),this};var xa=t.textColor||"0 g",i0=f.__private__.getTextColor=f.getTextColor=function(){return Ni(xa)};f.__private__.setTextColor=f.setTextColor=function(b,R,te,se){return xa=Ci({ch1:b,ch2:R,ch3:te,ch4:se,pdfColorType:"text",precision:3}),this};var zl=t.charSpace,s0=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(zl||0)};f.__private__.setCharSpace=f.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zl=b,this};var Eu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(b){var R=f.CapJoinStyles[b];if(R===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Eu=R,re(R+" J"),this};var Lu=0;f.__private__.setLineJoin=f.setLineJoin=function(b){var R=f.CapJoinStyles[b];if(R===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lu=R,re(R+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(E(O(b))+" M"),this},f.GState=$d,f.setGState=function(b){(b=typeof b=="string"?nn[ki[b]]:Sf(null,b)).equals(Ts)||(re("/"+b.id+" gs"),Ts=b)};var Sf=function(b,R){if(!b||!ki[b]){var te=!1;for(var se in nn)if(nn.hasOwnProperty(se)&&nn[se].equals(R)){te=!0;break}if(te)R=nn[se];else{var de="GS"+(Object.keys(nn).length+1).toString(10);nn[de]=R,R.id=de}return b&&(ki[b]=R.id),St.publish("addGState",R),R}};f.addGState=function(b,R){return Sf(b,R),this},f.saveGraphicsState=function(){return re("q"),ns.push({key:lt,size:Ce,color:xa}),this},f.restoreGraphicsState=function(){re("Q");var b=ns.pop();return lt=b.key,Ce=b.size,xa=b.color,Ts=null,this},f.setCurrentTransformationMatrix=function(b){return re(b.toString()+" cm"),this},f.comment=function(b){return re("#"+b),this};var Ul=function(b,R){var te=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(ve){isNaN(ve)||(te=parseFloat(ve))}});var se=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(ve){isNaN(ve)||(se=parseFloat(ve))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(ve){de=ve.toString()}}),this},ju=function(b,R,te,se){Ul.call(this,b,R),this.type="rect";var de=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(ke){isNaN(ke)||(de=parseFloat(ke))}});var ve=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ve},set:function(ke){isNaN(ke)||(ve=parseFloat(ke))}}),this},Ou=function(){this.page=rn,this.currentPage=D,this.pages=Se.slice(0),this.pagesContext=Ze.slice(0),this.x=Kn,this.y=bt,this.matrix=Si,this.width=_a(D),this.height=po(D),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Ou.prototype.restore=function(){rn=this.page,D=this.currentPage,Ze=this.pagesContext,Se=this.pages,Kn=this.x,bt=this.y,Si=this.matrix,Tu(D,this.width),Iu(D,this.height),Oe=this.outputDestination};var kf=function(b,R,te,se,de){is.push(new Ou),rn=D=0,Se=[],Kn=b,bt=R,Si=de,Su([te,se])},o0=function(b){if(rs[b])is.pop().restore();else{var R=new Ou,te="Xo"+(Object.keys(zn).length+1).toString(10);R.id=te,rs[b]=te,zn[te]=R,St.publish("addFormObject",R),is.pop().restore()}};for(var Hl in f.beginFormObject=function(b,R,te,se,de){return kf(b,R,te,se,de),this},f.endFormObject=function(b){return o0(b),this},f.doFormObject=function(b,R){var te=zn[rs[b]];return re("q"),re(R.toString()+" cm"),re("/"+te.id+" Do"),re("Q"),this},f.getFormObject=function(b){var R=zn[rs[b]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},f.save=function(b,R){return b=b||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Ba(Fl(Rs()),b),typeof Ba.unload=="function"&&Ke.setTimeout&&setTimeout(Ba.unload,911),this):new Promise(function(te,se){try{var de=Ba(Fl(Rs()),b);typeof Ba.unload=="function"&&Ke.setTimeout&&setTimeout(Ba.unload,911),te(de)}catch(ve){se(ve.message)}})},Ve.API)Ve.API.hasOwnProperty(Hl)&&(Hl==="events"&&Ve.API.events.length?function(b,R){var te,se,de;for(de=R.length-1;de!==-1;de--)te=R[de][0],se=R[de][1],b.subscribe.apply(b,[te].concat(typeof se=="function"?[se]:se))}(St,Ve.API.events):f[Hl]=Ve.API[Hl]);var _a=f.getPageWidth=function(b){return(Ze[b=b||D].mediaBox.topRightX-Ze[b].mediaBox.bottomLeftX)/Me},Tu=f.setPageWidth=function(b,R){Ze[b].mediaBox.topRightX=R*Me+Ze[b].mediaBox.bottomLeftX},po=f.getPageHeight=function(b){return(Ze[b=b||D].mediaBox.topRightY-Ze[b].mediaBox.bottomLeftY)/Me},Iu=f.setPageHeight=function(b,R){Ze[b].mediaBox.topRightY=R*Me+Ze[b].mediaBox.bottomLeftY};return f.internal={pdfEscape:xr,getStyle:vf,getFont:n0,getFontSize:Ie,getCharSpace:s0,getTextColor:i0,getLineHeight:bf,getLineHeightFactor:_f,getLineWidth:$l,write:nt,getHorizontalCoordinate:cs,getVerticalCoordinate:Ms,getCoordinateString:r0,getVerticalCoordinateString:fo,collections:{},newObject:An,newAdditionalObject:El,newObjectDeferred:bn,newObjectDeferredBegin:$r,getFilters:os,putStream:ii,events:St,scaleFactor:Me,pageSize:{getWidth:function(){return _a(D)},setWidth:function(b){Tu(D,b)},getHeight:function(){return po(D)},setHeight:function(b){Iu(D,b)}},encryptionOptions:u,encryption:Jn,getEncryptor:Jm,output:Dl,getNumberOfPages:qm,pages:Se,out:re,f2:z,f3:C,getPageInfo:mf,getPageInfoByObjId:Xe,getCurrentPageInfo:Xm,getPDFVersion:v,Point:Ul,Rectangle:ju,Matrix:Ge,hasHotfix:gf},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return _a(D)},set:function(b){Tu(D,b)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return po(D)},set:function(b){Iu(D,b)},enumerable:!0,configurable:!0}),Hm.call(f,Pe),lt="F1",df(i,n),St.publish("initialized"),f}vc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},vc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},vc.prototype.processOwnerPassword=function(t,e){return E2(C2(e).substr(0,5),t)},vc.prototype.encryptor=function(t,e){var n=C2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return E2(n,r)}},$d.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ct(t)!==Ct(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ve.API={events:[]},Ve.version="2.5.2";var an=Ve.API,H5=1,Cl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tt=function(t){return t.toFixed(2)},Eo=function(t){return t.toFixed(5)};an.__acroform__={};var Br=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},iS=function(t){return t*H5},ys=function(t){var e=new X6,n=$e.internal.getHeight(t)||0,r=$e.internal.getWidth(t)||0;return e.BBox=[0,0,Number(tt(r)),Number(tt(n))],e},XB=an.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},QB=an.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},ZB=an.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},gn=an.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ZB(t,e-1)},mn=an.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XB(t,e-1)},vn=an.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QB(t,e-1)},e$=an.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(tt(l.lowerLeft_X)),Number(tt(l.lowerLeft_Y)),Number(tt(l.upperRight_X)),Number(tt(l.upperRight_Y))]},t$=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=L2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+tt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ys(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},L2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=n,o=$e.internal.getHeight(t)||0;o=o<0?-o:o;var a=$e.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(C,O,H){if(C+1<i.length){var W=O+" "+i[C+1][0];return $p(W,t,H).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=$p("3",t,s).height,p=t.multiline?o-s:(o-h)/2,f=p+=2,m=0,v=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+$p(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var k=!1;if(i[_].length!==1&&x!==i[_].length-1){if((h+2)*(w+2)+2>o)continue e;y+=i[_][x],k=!0,v=_,_--}else{y=(y+=i[_][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(_),T=l(N,y,s),E=_>=i.length-1;if(T&&!E){y+=" ",x=0;continue}if(T||E){if(E)v=N;else if(t.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(w+2)+2>o)continue e;v=N}}for(var L="",F=m;F<=v;F++){var z=i[F];if(t.multiline){if(F===v){L+=z[x]+" ",x=(x+1)%z.length;continue}if(F===m){L+=z[z.length-1]+" ";continue}}L+=z[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=$p(L,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=tt(c)+" "+tt(f)+` Td
`,e+="("+Cl(L)+`) Tj
`,e+=-tt(c)+` 0 Td
`,f=-(s+2),u=0,m=k?v:v+1,w++,y=""}break}return r.text=e,r.fontSize=s,r},$p=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},n$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},r$=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},i$=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Ct(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},s$=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(es.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(n$)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Q6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&r$(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=e$(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=$e.createDefaultAppearanceStream(a),Ct(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=t$(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(i,a)),h+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(i,a)),h+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&i$(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},J6=an.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ct(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Cl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Cl(r(t))+")"},Ps=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ps.prototype.toString=function(){return this.objId+" 0 R"},Ps.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ps.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:J6(i,this.objId,this.scope)}):i instanceof Ps?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var X6=function(){Ps.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Br(X6,Ps);var Q6=function(){Ps.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Cl(n(t))+")"}},set:function(n){t=n}})};Br(Q6,Ps);var es=function t(){Ps.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gn(e,3)},set:function(y){y?this.F=mn(e,3):this.F=vn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof tm)return;s="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Cl(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/H5:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof tm||this instanceof ia))return M1(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ln?p:M1(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ln?y:y.substr(0,1)==="("?dc(y.substr(1,y.length-2)):dc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?dc(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ln?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ln?f:M1(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Ln?y:y.substr(0,1)==="("?dc(y.substr(1,y.length-2)):dc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?dc(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Ln?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,1)},set:function(y){y?this.Ff=mn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,2)},set:function(y){y?this.Ff=mn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,3)},set:function(y){y?this.Ff=mn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Br(es,Ps);var al=function(){es.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return J6(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,18)},set:function(n){n?this.Ff=mn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=mn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,20)},set:function(n){n?(this.Ff=mn(this.Ff,20),e.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,22)},set:function(n){n?this.Ff=mn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,23)},set:function(n){n?this.Ff=mn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,27)},set:function(n){n?this.Ff=mn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Br(al,es);var ll=function(){al.call(this),this.fontName="helvetica",this.combo=!1};Br(ll,al);var cl=function(){ll.call(this),this.combo=!0};Br(cl,ll);var ed=function(){cl.call(this),this.edit=!0};Br(ed,cl);var Ln=function(){es.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,15)},set:function(n){n?this.Ff=mn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,16)},set:function(n){n?this.Ff=mn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,17)},set:function(n){n?this.Ff=mn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,26)},set:function(n){n?this.Ff=mn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Cl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ct(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Br(Ln,es);var td=function(){Ln.call(this),this.pushButton=!0};Br(td,Ln);var ul=function(){Ln.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Br(ul,Ln);var tm=function(){var t,e;es.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Cl(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ct(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Br(tm,es),ul.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ul.prototype.createOption=function(t){var e=new tm;return e.Parent=this,e.optionName=t,this.Kids.push(e),o$.call(this.scope,e),e};var nd=function(){Ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};Br(nd,Ln);var ia=function(){es.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,13)},set:function(e){e?this.Ff=mn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,21)},set:function(e){e?this.Ff=mn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,23)},set:function(e){e?this.Ff=mn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,24)},set:function(e){e?this.Ff=mn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,25)},set:function(e){e?this.Ff=mn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,26)},set:function(e){e?this.Ff=mn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Br(ia,es);var rd=function(){ia.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gn(this.Ff,14)},set:function(t){t?this.Ff=mn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};Br(rd,ia);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=L2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+tt($e.internal.getWidth(t))+" "+tt($e.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+tt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ys(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=$e.internal.getHeight(t),o=$e.internal.getWidth(t),a=L2(t,t.caption);return i.push("1 g"),i.push("0 0 "+tt(o)+" "+tt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+tt(o-1)+" "+tt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+tt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+tt($e.internal.getWidth(t))+" "+tt($e.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Circle.YesNormal,e.D[t]=$e.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=$e.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Eo($e.internal.getWidth(t)/2)+" "+Eo($e.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5)),o=Number((r*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Eo($e.internal.getWidth(t)/2)+" "+Eo($e.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Eo($e.internal.getWidth(t)/2)+" "+Eo($e.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Eo($e.internal.getWidth(t)/2)+" "+Eo($e.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Cross.YesNormal,e.D[t]=$e.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=$e.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+tt($e.internal.getWidth(t)-2)+" "+tt($e.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(tt(r.x1.x)+" "+tt(r.x1.y)+" m"),n.push(tt(r.x2.x)+" "+tt(r.x2.y)+" l"),n.push(tt(r.x4.x)+" "+tt(r.x4.y)+" m"),n.push(tt(r.x3.x)+" "+tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=$e.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+tt($e.internal.getWidth(t))+" "+tt($e.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+tt($e.internal.getWidth(t)-2)+" "+tt($e.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(tt(n.x1.x)+" "+tt(n.x1.y)+" m"),r.push(tt(n.x2.x)+" "+tt(n.x2.y)+" l"),r.push(tt(n.x4.x)+" "+tt(n.x4.y)+" m"),r.push(tt(n.x3.x)+" "+tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+tt($e.internal.getWidth(t))+" "+tt($e.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};$e.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$e.internal.getWidth(t),n=$e.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},$e.internal.getWidth=function(t){var e=0;return Ct(t)==="object"&&(e=iS(t.Rect[2])),e},$e.internal.getHeight=function(t){var e=0;return Ct(t)==="object"&&(e=iS(t.Rect[3])),e};var o$=an.addField=function(t){if(s$(this,t),!(t instanceof es))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};an.AcroFormChoiceField=al,an.AcroFormListBox=ll,an.AcroFormComboBox=cl,an.AcroFormEditBox=ed,an.AcroFormButton=Ln,an.AcroFormPushButton=td,an.AcroFormRadioButton=ul,an.AcroFormCheckBox=nd,an.AcroFormTextField=ia,an.AcroFormPasswordField=rd,an.AcroFormAppearance=$e,an.AcroForm={ChoiceField:al,ListBox:ll,ComboBox:cl,EditBox:ed,Button:Ln,PushButton:td,RadioButton:ul,CheckBox:nd,TextField:ia,PasswordField:rd,Appearance:$e},Ve.AcroForm={ChoiceField:al,ListBox:ll,ComboBox:cl,EditBox:ed,Button:Ln,PushButton:td,RadioButton:ul,CheckBox:nd,TextField:ia,PasswordField:rd,Appearance:$e};var a$=Ve.AcroForm;function Z6(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(C,O){var H,W,ie,J,K,Y=e;if((O=O||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(T(C))for(K in n)for(ie=n[K],H=0;H<ie.length;H+=1){for(J=!0,W=0;W<ie[H].length;W+=1)if(ie[H][W]!==void 0&&ie[H][W]!==C[W]){J=!1;break}if(J===!0){Y=K;break}}else for(K in n)for(ie=n[K],H=0;H<ie.length;H+=1){for(J=!0,W=0;W<ie[H].length;W+=1)if(ie[H][W]!==void 0&&ie[H][W]!==C.charCodeAt(W)){J=!1;break}if(J===!0){Y=K;break}}return Y===e&&O!==e&&(Y=O),Y},i=function C(O){for(var H=this.internal.write,W=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:O.width}),J.push({key:"Height",value:O.height}),O.colorSpace===x.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===x.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var K="",Y=0,M=O.transparency.length;Y<M;Y++)K+=O.transparency[Y]+" "+O.transparency[Y]+" ";J.push({key:"Mask",value:"["+K+"]"})}O.sMask!==void 0&&J.push({key:"SMask",value:O.objectId+1+" 0 R"});var V=O.filter!==void 0?["/"+O.filter]:void 0;if(W({data:O.data,additionalKeyValues:J,alreadyAppliedFilters:V,objectId:O.objectId}),H("endobj"),"sMask"in O&&O.sMask!==void 0){var ne="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,j={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:ne,data:O.sMask};"filter"in O&&(j.filter=O.filter),C.call(this,j)}if(O.colorSpace===x.INDEXED){var D=this.internal.newObject();W({data:L(new Uint8Array(O.palette)),objectId:D}),H("endobj")}},s=function(){var C=this.internal.collections.addImage_images;for(var O in C)i.call(this,C[O])},o=function(){var C,O=this.internal.collections.addImage_images,H=this.internal.write;for(var W in O)H("/I"+(C=O[W]).index,C.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var C=this.internal.collections.addImage_images;return a.call(this),C},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(C){return typeof t["process"+C.toUpperCase()]=="function"},h=function(C){return Ct(C)==="object"&&C.nodeType===1},p=function(C,O){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var H=""+C.getAttribute("src");if(H.indexOf("data:image/")===0)return Zh(unescape(H).split("base64,").pop());var W=t.loadFile(H,!0);if(W!==void 0)return W}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ie;switch(O){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return Zh(C.toDataURL(ie,1).split("base64,").pop())}},f=function(C){var O=this.internal.collections.addImage_images;if(O){for(var H in O)if(C===O[H].alias)return O[H]}},m=function(C,O,H){return C||O||(C=-96,O=-96),C<0&&(C=-1*H.width*72/C/this.internal.scaleFactor),O<0&&(O=-1*H.height*72/O/this.internal.scaleFactor),C===0&&(C=O*H.width/H.height),O===0&&(O=C*H.height/H.width),[C,O]},v=function(C,O,H,W,ie,J){var K=m.call(this,H,W,ie),Y=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,V=l.call(this);if(H=K[0],W=K[1],V[ie.index]=ie,J){J*=Math.PI/180;var ne=Math.cos(J),j=Math.sin(J),D=function(Z){return Z.toFixed(4)},G=[D(ne),D(j),D(-1*j),D(ne),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,Y(C),M(O+W),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Y(H),"0","0",Y(W),"0","0","cm"].join(" "))):this.internal.write([Y(H),"0","0",Y(W),Y(C),M(O+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(C){var O,H,W=0;if(typeof C=="string")for(H=C.length,O=0;O<H;O++)W=(W<<5)-W+C.charCodeAt(O),W|=0;else if(T(C))for(H=C.byteLength/2,O=0;O<H;O++)W=(W<<5)-W+C[O],W|=0;return W},_=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var O=!0;return C.length===0&&(O=!1),C.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(O=!1),O},k=t.__addimage__.extractImageFromDataUrl=function(C){var O=(C=C||"").split("base64,"),H=null;if(O.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(W)&&(H={mimeType:W[1],charset:W[2],data:O[1]})}return H},N=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return N()&&C instanceof ArrayBuffer};var T=t.__addimage__.isArrayBufferView=function(C){return N()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(C){for(var O=C.length,H=new Uint8Array(O),W=0;W<O;W++)H[W]=C.charCodeAt(W);return H},L=t.__addimage__.arrayBufferToBinaryString=function(C){for(var O="",H=T(C)?C:new Uint8Array(C),W=0;W<H.length;W+=8192)O+=String.fromCharCode.apply(null,H.subarray(W,W+8192));return O};t.addImage=function(){var C,O,H,W,ie,J,K,Y,M;if(typeof arguments[1]=="number"?(O=e,H=arguments[1],W=arguments[2],ie=arguments[3],J=arguments[4],K=arguments[5],Y=arguments[6],M=arguments[7]):(O=arguments[1],H=arguments[2],W=arguments[3],ie=arguments[4],J=arguments[5],K=arguments[6],Y=arguments[7],M=arguments[8]),Ct(C=arguments[0])==="object"&&!h(C)&&"imageData"in C){var V=C;C=V.imageData,O=V.format||O||e,H=V.x||H||0,W=V.y||W||0,ie=V.w||V.width||ie,J=V.h||V.height||J,K=V.alias||K,Y=V.compression||Y,M=V.rotation||V.angle||M}var ne=this.internal.getFilters();if(Y===void 0&&ne.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(H)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var j=F.call(this,C,O,K,Y);return v.call(this,H,W,ie,J,j,M),this};var F=function(C,O,H,W){var ie,J,K;if(typeof C=="string"&&r(C)===e){C=unescape(C);var Y=z(C,!1);(Y!==""||(Y=t.loadFile(C,!0))!==void 0)&&(C=Y)}if(h(C)&&(C=p(C,O)),O=r(C,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((K=H)==null||K.length===0)&&(H=function(M){return typeof M=="string"||T(M)?w(M):T(M.data)?w(M.data):null}(C)),(ie=f.call(this,H))||(N()&&(C instanceof Uint8Array||O==="RGBA"||(J=C,C=E(C))),ie=this["process"+O.toUpperCase()](C,c.call(this),H,function(M){return M&&typeof M=="string"&&(M=M.toUpperCase()),M in t.image_compression?M:y.NONE}(W),J)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},z=t.__addimage__.convertBase64ToBinaryString=function(C,O){var H;O=typeof O!="boolean"||O;var W,ie="";if(typeof C=="string"){W=(H=k(C))!==null?H.data:C;try{ie=Zh(W)}catch(J){if(O)throw _(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};t.getImageProperties=function(C){var O,H,W="";if(h(C)&&(C=p(C)),typeof C=="string"&&r(C)===e&&((W=z(C,!1))===""&&(W=t.loadFile(C)||""),C=W),H=r(C),!u(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!N()||C instanceof Uint8Array||(C=E(C)),!(O=this["process"+H.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=H,O}})(Ve.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ve.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(y(w))+") >>",v.content=s;var _=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(m(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var T=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+T+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ve.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(v){var x=0,y=n,w="",_=0;for(x=0;x<v.length;x+=1)y[v.charCodeAt(x)]!==void 0?(_++,typeof(y=y[v.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(y),y=n,_=0),x===v.length-1&&(y=n,w+=v.charAt(x-(_-1)),x-=_-1,_=0)):(y=n,w+=v.charAt(x-_),x-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(v,x,y){return o(v)?s(v)===!1?-1:!c(v)||!o(x)&&!o(y)||!o(y)&&a(x)||a(v)&&!o(x)||a(v)&&l(x)||a(v)&&a(x)?0:u(v)&&o(x)&&!a(x)&&o(y)&&c(y)?3:a(v)||!o(y)?1:2:-1},f=function(v){var x=0,y=0,w=0,_="",k="",N="",T=(v=v||"").split("\\s+"),E=[];for(x=0;x<T.length;x+=1){for(E.push(""),y=0;y<T[x].length;y+=1)_=T[x][y],k=T[x][y-1],N=T[x][y+1],o(_)?(w=p(_,k,N),E[x]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):E[x]+=_;E[x]=h(E[x])}return E.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var w=0;for(y=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?y.push([f(x[w][0]),x[w][1],x[w][2]]):y.push([f(x[w])]);v=y}else v=f(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",m])}(Ve.API),Ve.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ve.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(v){m=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,v=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,k){return _.concat(x.splitTextToSize(k,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(v=this.getStringUnitWidth(l[w],{font:h})*u)&&(f=v);return f!==0&&(m=l.length),{w:f/=p,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,m,v,x,y=[],w=[],_=[],k={},N={},T=[],E=[],L=(p=p||{}).autoSize||!1,F=p.printHeaders!==!1,z=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,C=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,H=p.headerBackgroundColor||"#c8c8c8",W=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=W,this.setFontSize(z),h==null)w=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(h)&&Ct(h[0])==="object")for(y=h.map(function(V){return V.name}),w=h.map(function(V){return V.prompt||V.name||""}),_=h.map(function(V){return V.align||"left"}),f=0;f<h.length;f+=1)N[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(w=y=h,_=y.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(k[x=y[f]]=u.map(function(V){return V[x]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=k[x],this.setFont(void 0,"normal"),v=0;v<m.length;v+=1)T.push(this.getTextDimensions(m[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[x]=Math.max.apply(null,T)+O+O,T=[]}if(F){var ie={};for(f=0;f<y.length;f+=1)ie[y[f]]={},ie[y[f]].text=w[f],ie[y[f]].align=_[f];var J=a.call(this,ie,N);E=y.map(function(V){return new s(l,c,N[V],J,ie[V].text,void 0,ie[V].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var K=h.reduce(function(V,ne){return V[ne.name]=ne.align,V},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var Y=a.call(this,u[f],N);for(v=0;v<y.length;v+=1){var M=u[f][y[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:v,data:M},this),o.call(this,new s(l,c,N[y[v]],Y,M,f+2,K[y[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Ve.API);var eP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],j2=Z6(tP),nP=[100,200,300,400,500,600,700,800,900],l$=Z6(nP);function O2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return eP[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof j2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function sS(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var c$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},oS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aS(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function u$(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},c$,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=O2(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+aS(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=j2[l],h=u<=j2.normal?-1:1,p=sS(c,tP,u,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=eP[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=l$[l],h=sS(c,nP,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+aS(s)+"'.");return o}function lS(t){return t.trimLeft()}function h$(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function d$(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var zp,cS,uS,F1=["times"];(function(t){var e,n,r,i,s,o,a,l,c,u=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=j;Object.defineProperty(this,"pdf",{get:function(){return D}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ye){G=!!ye}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ye){Z=!!ye}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(ye){isNaN(ye)||(ee=ye)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ye){isNaN(ye)||(ce=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var re;typeof ye=="number"?re=[ye,ye,ye,ye]:((re=new Array(4))[0]=ye[0],re[1]=ye.length>=2?ye[1]:re[0],re[2]=ye.length>=3?ye[2]:re[0],re[3]=ye.length>=4?ye[3]:re[1]),c.margin=re}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ye){he=ye}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(ye){ge=ye}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ye){Ae=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ye){Se=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var re;re=p(ye),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var re=p(ye);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Le=null;function Oe(ye,re){if(Le===null){var nt=function(ze){var Pe=[];return Object.keys(ze).forEach(function(Ce){ze[Ce].forEach(function(Re){var Ie=null;switch(Re){case"bold":Ie={family:Ce,weight:"bold"};break;case"italic":Ie={family:Ce,style:"italic"};break;case"bolditalic":Ie={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Ce}}Ie!==null&&(Ie.ref={name:Ce,style:Re},Pe.push(Ie))})}),Pe}(ye.getFontList());Le=function(ze){for(var Pe={},Ce=0;Ce<ze.length;++Ce){var Re=O2(ze[Ce]),Ie=Re.family,He=Re.stretch,Qe=Re.style,st=Re.weight;Pe[Ie]=Pe[Ie]||{},Pe[Ie][He]=Pe[Ie][He]||{},Pe[Ie][He][Qe]=Pe[Ie][He][Qe]||{},Pe[Ie][He][Qe][st]=Re}return Pe}(nt.concat(re))}return Le}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(ye){Le=null,Ye=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var re;if(this.ctx.font=ye,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var nt=re[1],ze=(re[2],re[3]),Pe=re[4],Ce=(re[5],re[6]),Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(Re==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Ie=function(Je){var lt,Me,Kn=[],bt=Je.trim();if(bt==="")return F1;if(bt in oS)return[oS[bt]];for(;bt!=="";){switch(Me=null,lt=(bt=lS(bt)).charAt(0)){case'"':case"'":Me=h$(bt.substring(1),lt);break;default:Me=d$(bt)}if(Me===null||(Kn.push(Me[0]),(bt=lS(Me[1]))!==""&&bt.charAt(0)!==","))return F1;bt=bt.replace(/^,/,"")}return Kn}(Ce);if(this.fontFaces){var He=u$(Oe(this.pdf,this.fontFaces),Ie.map(function(Je){return{family:Je,stretch:"normal",weight:ze,style:nt}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var Qe="";(ze==="bold"||parseInt(ze,10)>=700||nt==="bold")&&(Qe="bold"),nt==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var st="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Ie.length;mt++){if(this.pdf.internal.getFont(Ie[mt],Qe,{noFallback:!0,disableWarning:!0})!==void 0){st=Ie[mt];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Ie[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Ie[mt],Qe="bold";else if(this.pdf.internal.getFont(Ie[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Ie[mt],Qe="normal";break}}if(st===""){for(var jt=0;jt<Ie.length;jt++)if(at[Ie[jt]]){st=at[Ie[jt]];break}}st=st===""?"Times":st,this.pdf.setFont(st,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(j){this.lineDash=j},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(j,D){if(isNaN(j)||isNaN(D))throw Dt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(j,D));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(j,D)},h.prototype.closePath=function(){var j=new o(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&Ct(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){j=new o(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},h.prototype.lineTo=function(j,D){if(isNaN(j)||isNaN(D))throw Dt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(j,D));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(j,D,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(j)||isNaN(D))throw Dt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new o(G,Z)),ce=this.ctx.transform.applyToPoint(new o(j,D));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},h.prototype.bezierCurveTo=function(j,D,G,Z,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN(j)||isNaN(D)||isNaN(G)||isNaN(Z))throw Dt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(ee,ce)),ge=this.ctx.transform.applyToPoint(new o(j,D)),Ae=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Ae.x,y2:Ae.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},h.prototype.arc=function(j,D,G,Z,ee,ce){if(isNaN(j)||isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(ee))throw Dt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(j,D));j=he.x,D=he.y;var ge=this.ctx.transform.applyToPoint(new o(0,G)),Ae=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(ge.x-Ae.x,2)+Math.pow(ge.y-Ae.y,2))}Math.abs(ee-Z)>=2*Math.PI&&(Z=0,ee=2*Math.PI),this.path.push({type:"arc",x:j,y:D,radius:G,startAngle:Z,endAngle:ee,counterclockwise:ce})},h.prototype.arcTo=function(j,D,G,Z,ee){throw new Error("arcTo not implemented.")},h.prototype.rect=function(j,D,G,Z){if(isNaN(j)||isNaN(D)||isNaN(G)||isNaN(Z))throw Dt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,D),this.lineTo(j+G,D),this.lineTo(j+G,D+Z),this.lineTo(j,D+Z),this.lineTo(j,D),this.lineTo(j+G,D),this.lineTo(j,D)},h.prototype.fillRect=function(j,D,G,Z){if(isNaN(j)||isNaN(D)||isNaN(G)||isNaN(Z))throw Dt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,D,G,Z),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},h.prototype.strokeRect=function(j,D,G,Z){if(isNaN(j)||isNaN(D)||isNaN(G)||isNaN(Z))throw Dt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(j,D,G,Z),this.stroke())},h.prototype.clearRect=function(j,D,G,Z){if(isNaN(j)||isNaN(D)||isNaN(G)||isNaN(Z))throw Dt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,D,G,Z))},h.prototype.save=function(j){j=typeof j!="boolean"||j;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(D),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(j){var D,G,Z,ee;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))D=0,G=0,Z=0,ee=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ce!==null)D=parseInt(ce[1]),G=parseInt(ce[2]),Z=parseInt(ce[3]),ee=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)D=parseInt(ce[1]),G=parseInt(ce[2]),Z=parseInt(ce[3]),ee=parseFloat(ce[4]);else{if(ee=1,typeof j=="string"&&j.charAt(0)!=="#"){var he=new G6(j);j=he.ok?he.toHex():"#000000"}j.length===4?(D=j.substring(1,2),D+=D,G=j.substring(2,3),G+=G,Z=j.substring(3,4),Z+=Z):(D=j.substring(1,3),G=j.substring(3,5),Z=j.substring(5,7)),D=parseInt(D,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:D,g:G,b:Z,a:ee,style:j}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(j,D,G,Z){if(isNaN(D)||isNaN(G)||typeof j!="string")throw Dt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var ee=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:j,x:D,y:G,scale:ce,angle:ee,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(j,D,G,Z){if(isNaN(D)||isNaN(G)||typeof j!="string")throw Dt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Z=isNaN(Z)?void 0:Z;var ee=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:j,x:D,y:G,scale:ce,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(j){if(typeof j!="string")throw Dt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,G=this.pdf.internal.scaleFactor,Z=D.internal.getFontSize(),ee=D.getStringUnitWidth(j)*Z/D.internal.scaleFactor,ce=function(he){var ge=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new ce({width:ee*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(j,D){if(isNaN(j)||isNaN(D))throw Dt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(j,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(j){if(isNaN(j))throw Dt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},h.prototype.translate=function(j,D){if(isNaN(j)||isNaN(D))throw Dt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,j,D);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(j,D,G,Z,ee,ce){if(isNaN(j)||isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(ee)||isNaN(ce))throw Dt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(j,D,G,Z,ee,ce);this.ctx.transform=this.ctx.transform.multiply(he)},h.prototype.setTransform=function(j,D,G,Z,ee,ce){j=isNaN(j)?1:j,D=isNaN(D)?0:D,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(j,D,G,Z,ee,ce)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(j,D,G,Z,ee,ce,he,ge,Ae){var Se=this.pdf.getImageProperties(j),Le=1,Oe=1,Ye=1,ye=1;Z!==void 0&&ge!==void 0&&(Ye=ge/Z,ye=Ae/ee,Le=Se.width/Z*ge/Z,Oe=Se.height/ee*Ae/ee),ce===void 0&&(ce=D,he=G,D=0,G=0),Z!==void 0&&ge===void 0&&(ge=Z,Ae=ee),Z===void 0&&ge===void 0&&(ge=Se.width,Ae=Se.height);for(var re,nt=this.ctx.transform.decompose(),ze=Y(nt.rotate.shx),Pe=new l,Ce=(Pe=(Pe=(Pe=Pe.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new a(ce-D*Ye,he-G*ye,Z*Le,ee*Oe)),Re=x.call(this,Ce),Ie=[],He=0;He<Re.length;He+=1)Ie.indexOf(Re[He])===-1&&Ie.push(Re[He]);if(_(Ie),this.autoPaging)for(var Qe=Ie[0],st=Ie[Ie.length-1],at=Qe;at<st+1;at++){this.pdf.setPage(at);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=at===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=at===1?0:Je+(at-2)*lt;if(this.ctx.clip_path.length!==0){var Kn=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(re,this.posX+this.margin[3],-Me+jt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Kn}var bt=JSON.parse(JSON.stringify(Ce));bt=w([bt],this.posX+this.margin[3],-Me+jt+this.ctx.prevPageLastElemOffset)[0];var Si=(at>Qe||at<st)&&v.call(this);Si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,lt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,ze),Si&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,ze)};var x=function(j,D,G){var Z=[];D=D||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":Z.push(Math.floor((j.y+ee)/G)+1);break;case"arc":Z.push(Math.floor((j.y+ee-j.radius)/G)+1),Z.push(Math.floor((j.y+ee+j.radius)/G)+1);break;case"qct":var ce=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);Z.push(Math.floor((ce.y+ee)/G)+1),Z.push(Math.floor((ce.y+ce.h+ee)/G)+1);break;case"bct":var he=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);Z.push(Math.floor((he.y+ee)/G)+1),Z.push(Math.floor((he.y+he.h+ee)/G)+1);break;case"rect":Z.push(Math.floor((j.y+ee)/G)+1),Z.push(Math.floor((j.y+j.h+ee)/G)+1)}for(var ge=0;ge<Z.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ge];)y.call(this);return Z},y=function(){var j=this.fillStyle,D=this.strokeStyle,G=this.font,Z=this.lineCap,ee=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=D,this.font=G,this.lineCap=Z,this.lineWidth=ee,this.lineJoin=ce},w=function(j,D,G){for(var Z=0;Z<j.length;Z++)switch(j[Z].type){case"bct":j[Z].x2+=D,j[Z].y2+=G;case"qct":j[Z].x1+=D,j[Z].y1+=G;case"mt":case"lt":case"arc":default:j[Z].x+=D,j[Z].y+=G}return j},_=function(j){return j.sort(function(D,G){return D-G})},k=function(j,D){for(var G,Z,ee=this.fillStyle,ce=this.strokeStyle,he=this.lineCap,ge=this.lineWidth,Ae=Math.abs(ge*this.ctx.transform.scaleX),Se=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),Ye=[],ye=0;ye<Oe.length;ye++)if(Oe[ye].x!==void 0)for(var re=x.call(this,Oe[ye]),nt=0;nt<re.length;nt+=1)Ye.indexOf(re[nt])===-1&&Ye.push(re[nt]);for(var ze=0;ze<Ye.length;ze++)for(;this.pdf.internal.getNumberOfPages()<Ye[ze];)y.call(this);if(_(Ye),this.autoPaging)for(var Pe=Ye[0],Ce=Ye[Ye.length-1],Re=Pe;Re<Ce+1;Re++){this.pdf.setPage(Re),this.fillStyle=ee,this.strokeStyle=ce,this.lineCap=he,this.lineWidth=Ae,this.lineJoin=Se;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Re===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Re===1?0:Qe+(Re-2)*st;if(this.ctx.clip_path.length!==0){var mt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-at+He+this.ctx.prevPageLastElemOffset),N.call(this,j,!0),this.path=mt}if(Z=JSON.parse(JSON.stringify(Le)),this.path=w(Z,this.posX+this.margin[3],-at+He+this.ctx.prevPageLastElemOffset),D===!1||Re===0){var jt=(Re>Pe||Re<Ce)&&v.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,st,null).clip().discardPath()),N.call(this,j,D),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Ae,N.call(this,j,D),this.lineWidth=ge;this.path=Le},N=function(j,D){if((j!=="stroke"||D||!m.call(this))&&(j==="stroke"||D||!f.call(this))){for(var G,Z,ee=[],ce=this.path,he=0;he<ce.length;he++){var ge=ce[he];switch(ge.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:ge,deltas:[],abs:[]});break;case"lt":var Ae=ee.length;if(ce[he-1]&&!isNaN(ce[he-1].x)&&(G=[ge.x-ce[he-1].x,ge.y-ce[he-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ee[Ae-1].close!==!0&&ee[Ae-1].begin!==!0){ee[Ae-1].deltas.push(G),ee[Ae-1].abs.push(ge);break}}break;case"bct":G=[ge.x1-ce[he-1].x,ge.y1-ce[he-1].y,ge.x2-ce[he-1].x,ge.y2-ce[he-1].y,ge.x-ce[he-1].x,ge.y-ce[he-1].y],ee[ee.length-1].deltas.push(G);break;case"qct":var Se=ce[he-1].x+2/3*(ge.x1-ce[he-1].x),Le=ce[he-1].y+2/3*(ge.y1-ce[he-1].y),Oe=ge.x+2/3*(ge.x1-ge.x),Ye=ge.y+2/3*(ge.y1-ge.y),ye=ge.x,re=ge.y;G=[Se-ce[he-1].x,Le-ce[he-1].y,Oe-ce[he-1].x,Ye-ce[he-1].y,ye-ce[he-1].x,re-ce[he-1].y],ee[ee.length-1].deltas.push(G);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(ge)}}Z=D?null:j==="stroke"?"stroke":"fill";for(var nt=!1,ze=0;ze<ee.length;ze++)if(ee[ze].arc)for(var Pe=ee[ze].abs,Ce=0;Ce<Pe.length;Ce++){var Re=Pe[Ce];Re.type==="arc"?L.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,D,!nt):H.call(this,Re.x,Re.y),nt=!0}else if(ee[ze].close===!0)this.pdf.internal.out("h"),nt=!1;else if(ee[ze].begin!==!0){var Ie=ee[ze].start.x,He=ee[ze].start.y;W.call(this,ee[ze].deltas,Ie,He),nt=!0}Z&&F.call(this,Z),D&&z.call(this)}},T=function(j){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-G;case"top":return j+D-G;case"hanging":return j+D-2*G;case"middle":return j+D/2-G;case"ideographic":return j;case"alphabetic":default:return j}},E=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(D,G){this.colorStops.push([D,G])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(j,D,G,Z,ee,ce,he,ge,Ae){for(var Se=J.call(this,G,Z,ee,ce),Le=0;Le<Se.length;Le++){var Oe=Se[Le];Le===0&&(Ae?C.call(this,Oe.x1+j,Oe.y1+D):H.call(this,Oe.x1+j,Oe.y1+D)),ie.call(this,j,D,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}ge?z.call(this):F.call(this,he)},F=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(j,D){this.pdf.internal.out(n(j)+" "+r(D)+" m")},O=function(j){var D;switch(j.align){case"right":case"end":D="right";break;case"center":D="center";break;case"left":case"start":default:D="left"}var G=this.pdf.getTextDimensions(j.text),Z=T.call(this,j.y),ee=E.call(this,Z)-G.h,ce=this.ctx.transform.applyToPoint(new o(j.x,Z)),he=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ae,Se,Le,Oe=this.ctx.transform.applyToRectangle(new a(j.x,Z,G.w,G.h)),Ye=ge.applyToRectangle(new a(j.x,ee,G.w,G.h)),ye=x.call(this,Ye),re=[],nt=0;nt<ye.length;nt+=1)re.indexOf(ye[nt])===-1&&re.push(ye[nt]);if(_(re),this.autoPaging)for(var ze=re[0],Pe=re[re.length-1],Ce=ze;Ce<Pe+1;Ce++){this.pdf.setPage(Ce);var Re=Ce===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Qe=He-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],at=st-this.margin[3],mt=Ce===1?0:Ie+(Ce-2)*Qe;if(this.ctx.clip_path.length!==0){var jt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ae,this.posX+this.margin[3],-1*mt+Re),N.call(this,"fill",!0),this.path=jt}var Je=w([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-mt+Re+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*j.scale),Le=this.lineWidth,this.lineWidth=Le*j.scale);var lt=this.autoPaging!=="text";if(lt||Je.y+Je.h<=He){if(lt||Je.y>=Re&&Je.x<=st){var Me=lt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||st-Je.x)[0],Kn=w([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-mt+Re+this.ctx.prevPageLastElemOffset)[0],bt=lt&&(Ce>ze||Ce<Pe)&&v.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Qe,null).clip().discardPath()),this.pdf.text(Me,Kn.x,Kn.y,{angle:j.angle,align:D,renderingMode:j.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else Je.y<He&&(this.ctx.prevPageLastElemOffset+=He-Je.y);j.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Le)}else j.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*j.scale),Le=this.lineWidth,this.lineWidth=Le*j.scale),this.pdf.text(j.text,ce.x+this.posX,ce.y+this.posY,{angle:j.angle,align:D,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Le)},H=function(j,D,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(n(j+G)+" "+r(D+Z)+" l")},W=function(j,D,G){return this.pdf.lines(j,D,G,null,null)},ie=function(j,D,G,Z,ee,ce,he,ge){this.pdf.internal.out([e(i(G+j)),e(s(Z+D)),e(i(ee+j)),e(s(ce+D)),e(i(he+j)),e(s(ge+D)),"c"].join(" "))},J=function(j,D,G,Z){for(var ee=2*Math.PI,ce=Math.PI/2;D>G;)D-=ee;var he=Math.abs(G-D);he<ee&&Z&&(he=ee-he);for(var ge=[],Ae=Z?-1:1,Se=D;he>1e-5;){var Le=Se+Ae*Math.min(he,ce);ge.push(K.call(this,j,Se,Le)),he-=Math.abs(Le-Se),Se=Le}return ge},K=function(j,D,G){var Z=(G-D)/2,ee=j*Math.cos(Z),ce=j*Math.sin(Z),he=ee,ge=-ce,Ae=he*he+ge*ge,Se=Ae+he*ee+ge*ce,Le=4/3*(Math.sqrt(2*Ae*Se)-Se)/(he*ce-ge*ee),Oe=he-Le*ge,Ye=ge+Le*he,ye=Oe,re=-Ye,nt=Z+D,ze=Math.cos(nt),Pe=Math.sin(nt);return{x1:j*Math.cos(D),y1:j*Math.sin(D),x2:Oe*ze-Ye*Pe,y2:Oe*Pe+Ye*ze,x3:ye*ze-re*Pe,y3:ye*Pe+re*ze,x4:j*Math.cos(G),y4:j*Math.sin(G)}},Y=function(j){return 180*j/Math.PI},M=function(j,D,G,Z,ee,ce){var he=j+.5*(G-j),ge=D+.5*(Z-D),Ae=ee+.5*(G-ee),Se=ce+.5*(Z-ce),Le=Math.min(j,ee,he,Ae),Oe=Math.max(j,ee,he,Ae),Ye=Math.min(D,ce,ge,Se),ye=Math.max(D,ce,ge,Se);return new a(Le,Ye,Oe-Le,ye-Ye)},V=function(j,D,G,Z,ee,ce,he,ge){var Ae,Se,Le,Oe,Ye,ye,re,nt,ze,Pe,Ce,Re,Ie,He,Qe=G-j,st=Z-D,at=ee-G,mt=ce-Z,jt=he-ee,Je=ge-ce;for(Se=0;Se<41;Se++)ze=(re=(Le=j+(Ae=Se/40)*Qe)+Ae*((Ye=G+Ae*at)-Le))+Ae*(Ye+Ae*(ee+Ae*jt-Ye)-re),Pe=(nt=(Oe=D+Ae*st)+Ae*((ye=Z+Ae*mt)-Oe))+Ae*(ye+Ae*(ce+Ae*Je-ye)-nt),Se==0?(Ce=ze,Re=Pe,Ie=ze,He=Pe):(Ce=Math.min(Ce,ze),Re=Math.min(Re,Pe),Ie=Math.max(Ie,ze),He=Math.max(He,Pe));return new a(Math.round(Ce),Math.round(Re),Math.round(Ie-Ce),Math.round(He-Re))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,D,G=(j=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:D}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Ve.API),function(t){var e=function(s){var o,a,l,c,u,h,p,f,m,v;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(v=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,a.push(h+33,p+33,f+33,m+33,v+33)):a.push(122);return function(x,y){for(var w=y;w>0;w--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,u,h=String,p="length",f=255,m="charCodeAt",v="slice",x="replace";for(s[v](-2),s=s[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[v](s[p]%5||5))[p];u>c;c+=5)a=52200625*(s[m](c)-33)+614125*(s[m](c+1)-33)+7225*(s[m](c+2)-33)+85*(s[m](c+3)-33)+(s[m](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(y,w){for(var _=w;_>0;_--)y.pop()}(l,o[p]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=P2(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ve.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(m){var v=m.length,x=[],y=String.fromCharCode;for(p=0;p<v;p+=1)x.push(y(255&m.charCodeAt(p)));return x.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Ve.API),function(t){function e(){return(Ke.html2canvas?Promise.resolve(Ke.html2canvas):co(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ke.DOMPurify?Promise.resolve(Ke.DOMPurify):co(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Ct(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],m=f.src.find(function(v){return v.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Ve.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ve.getPageSize=function(o,a,l){if(Ct(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,m=0,v=0;if(p.hasOwnProperty(h))m=p[h][1]/u,v=p[h][0]/u;else try{m=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>m&&(f=v,v=m,m=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>v&&(f=v,v=m,m=f)}return{width:v,height:m,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(O2):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Ve.API),Ve.API.addJS=function(t){return uS=t,this.internal.events.subscribe("postPutResources",function(){zp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(zp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){zp!==void 0&&cS!==void 0&&this.internal.out("/Names <</JavaScript "+zp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=n.internal.newObject();u.push(h);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ve.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,v={width:0,height:0,numcomponents:1},x=4;x<m;x+=2){if(x+=f,e.indexOf(h.charCodeAt(x+1))!==-1){p=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),v={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:p,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Ve.API);var fc,Up,hS,dS,fS,f$=function(){var t,e,n;function r(s){var o,a,l,c,u,h,p,f,m,v,x,y,w,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),m=(function(){var k,N;for(N=[],k=0;k<4;++k)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(w=0;0<=v?w<v:w>v;0<=v?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(x=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,x.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,x.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(h,p,f,m){var v,x,y,w,_,k,N,T,E,L,F,z,C,O,H,W,ie,J,K,Y,M,V=Math.ceil((c.width-h)/f),ne=Math.ceil((c.height-p)/m),j=c.width==V&&c.height==ne;for(O=o*V,z=j?a:new Uint8Array(O*ne),k=s.length,C=0,x=0;C<ne&&l<k;){switch(s[l++]){case 0:for(w=ie=0;ie<O;w=ie+=1)z[x++]=s[l++];break;case 1:for(w=J=0;J<O;w=J+=1)v=s[l++],_=w<o?0:z[x-o],z[x++]=(v+_)%256;break;case 2:for(w=K=0;K<O;w=K+=1)v=s[l++],y=(w-w%o)/o,H=C&&z[(C-1)*O+y*o+w%o],z[x++]=(H+v)%256;break;case 3:for(w=Y=0;Y<O;w=Y+=1)v=s[l++],y=(w-w%o)/o,_=w<o?0:z[x-o],H=C&&z[(C-1)*O+y*o+w%o],z[x++]=(v+Math.floor((_+H)/2))%256;break;case 4:for(w=M=0;M<O;w=M+=1)v=s[l++],y=(w-w%o)/o,_=w<o?0:z[x-o],C===0?H=W=0:(H=z[(C-1)*O+y*o+w%o],W=y&&z[(C-1)*O+(y-1)*o+w%o]),N=_+H-W,T=Math.abs(N-_),L=Math.abs(N-H),F=Math.abs(N-W),E=T<=L&&T<=F?_:L<=F?H:W,z[x++]=(v+E)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!j){var D=((p+C*m)*c.width+h)*o,G=C*O;for(w=0;w<V;w+=1){for(var Z=0;Z<o;Z+=1)a[D++]=z[G++];D+=(f-1)*o}}C++}}return s=WB(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,h,p,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,p=a.length;h<p;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,h,p,f,m,v,x,y;if(l=this.colors,v=null,a=this.hasAlphaChannel,this.palette.length&&(v=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),m=(c=s.data||s).length,h=v||o,u=p=0,l===1)for(;u<m;)f=v?4*o[u/4]:p,x=h[f++],c[u++]=x,c[u++]=x,c[u++]=x,c[u++]=a?h[f++]:255,p=f;else for(;u<m;)f=v?4*o[u/4]:p,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=a?h[f++]:255,p=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ke)==="[object Window]"){try{e=Ke.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,h,p,f;if(this.animation){for(f=[],a=u=0,h=(p=this.animation.frames).length;u<h;a=++u)o=p[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=t(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,h,p=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(o=function(){var f,m;if(f=a++%c,m=l[f],p.renderFrame(s,f),c>1&&a/c<u)return p.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function p$(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,p=null,f=0,m=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&v)&&(p=null),f=v>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,k=t[e++],N=k>>6&1,T=1<<(7&k)+1,E=a,L=l,F=!1;k>>7&&(F=!0,E=e,L=T,e+=3*T);var z=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}u.push({x,y,width:w,height:_,has_local_palette:F,palette_offset:E,palette_size:L,data_offset:z,data_length:e-z,transparent_index:p,interlaced:!!N,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(O){if(O<0||O>=u.length)throw new Error("Frame index out of range.");return u[O]},this.decodeAndBlitFrameBGRA=function(O,H){var W=this.frameInfo(O),ie=W.width*W.height,J=new Uint8Array(ie);pS(t,W.data_offset,J,ie);var K=W.palette_offset,Y=W.transparent_index;Y===null&&(Y=256);var M=W.width,V=n-M,ne=M,j=4*(W.y*n+W.x),D=4*((W.y+W.height)*n+W.x),G=j,Z=4*V;W.interlaced===!0&&(Z+=4*n*7);for(var ee=8,ce=0,he=J.length;ce<he;++ce){var ge=J[ce];if(ne===0&&(ne=M,(G+=Z)>=D&&(Z=4*V+4*n*(ee-1),G=j+(M+V)*(ee<<1),ee>>=1)),ge===Y)G+=4;else{var Ae=t[K+3*ge],Se=t[K+3*ge+1],Le=t[K+3*ge+2];H[G++]=Le,H[G++]=Se,H[G++]=Ae,H[G++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(O,H){var W=this.frameInfo(O),ie=W.width*W.height,J=new Uint8Array(ie);pS(t,W.data_offset,J,ie);var K=W.palette_offset,Y=W.transparent_index;Y===null&&(Y=256);var M=W.width,V=n-M,ne=M,j=4*(W.y*n+W.x),D=4*((W.y+W.height)*n+W.x),G=j,Z=4*V;W.interlaced===!0&&(Z+=4*n*7);for(var ee=8,ce=0,he=J.length;ce<he;++ce){var ge=J[ce];if(ne===0&&(ne=M,(G+=Z)>=D&&(Z=4*V+4*n*(ee-1),G=j+(M+V)*(ee<<1),ee>>=1)),ge===Y)G+=4;else{var Ae=t[K+3*ge],Se=t[K+3*ge+1],Le=t[K+3*ge+2];H[G++]=Ae,H[G++]=Se,H[G++]=Le,H[G++]=255}--ne}}}function pS(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,f=t[e++],m=new Int32Array(4096),v=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var x=h&c;if(h>>=l,u-=l,x!==s){if(x===o)break;for(var y=x<a?x:v,w=0,_=y;_>s;)_=m[_]>>8,++w;var k=_;if(p+w+(y!==x?1:0)>r)return void Dt.log("Warning, gif stream longer than expected.");n[p++]=k;var N=p+=w;for(y!==x&&(n[p++]=k),_=y;w--;)_=m[_],n[--N]=255&_,_>>=8;v!==null&&a<4096&&(m[a++]=v<<8|k,a>=c+1&&l<12&&(++l,c=c<<1|1)),v=x}else a=o+1,c=(1<<(l=i+1))-1,v=null}return p!==r&&Dt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function D1(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),m=new Array(64),v=[],x=0,y=7,w=new Array(64),_=new Array(64),k=new Array(64),N=new Array(256),T=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(j,D){for(var G=0,Z=0,ee=new Array,ce=1;ce<=16;ce++){for(var he=1;he<=j[ce];he++)ee[D[Z]]=[],ee[D[Z]][0]=G,ee[D[Z]][1]=ce,Z++,G++;G*=2}return ee}function K(j){for(var D=j[0],G=j[1]-1;G>=0;)D&1<<G&&(x|=1<<y),G--,--y<0&&(x==255?(Y(255),Y(0)):Y(x),y=7,x=0)}function Y(j){v.push(j)}function M(j){Y(j>>8&255),Y(255&j)}function V(j,D,G,Z,ee){for(var ce,he=ee[0],ge=ee[240],Ae=function(Pe,Ce){var Re,Ie,He,Qe,st,at,mt,jt,Je,lt,Me=0;for(Je=0;Je<8;++Je){Re=Pe[Me],Ie=Pe[Me+1],He=Pe[Me+2],Qe=Pe[Me+3],st=Pe[Me+4],at=Pe[Me+5],mt=Pe[Me+6];var Kn=Re+(jt=Pe[Me+7]),bt=Re-jt,Si=Ie+mt,Mt=Ie-mt,Kt=He+at,ns=He-at,_t=Qe+st,ma=Qe-st,nn=Kn+_t,ki=Kn-_t,Ts=Si+Kt,rn=Si-Kt;Pe[Me]=nn+Ts,Pe[Me+4]=nn-Ts;var Ze=.707106781*(rn+ki);Pe[Me+2]=ki+Ze,Pe[Me+6]=ki-Ze;var St=.382683433*((nn=ma+ns)-(rn=Mt+bt)),va=.5411961*nn+St,zn=1.306562965*rn+St,rs=.707106781*(Ts=ns+Mt),is=bt+rs,Ge=bt-rs;Pe[Me+5]=Ge+va,Pe[Me+3]=Ge-va,Pe[Me+1]=is+zn,Pe[Me+7]=is-zn,Me+=8}for(Me=0,Je=0;Je<8;++Je){Re=Pe[Me],Ie=Pe[Me+8],He=Pe[Me+16],Qe=Pe[Me+24],st=Pe[Me+32],at=Pe[Me+40],mt=Pe[Me+48];var Ai=Re+(jt=Pe[Me+56]),ss=Re-jt,br=Ie+mt,An=Ie-mt,bn=He+at,$r=He-at,El=Qe+st,Is=Qe-st,Pi=Ai+El,Ni=Ai-El,Ci=br+bn,os=br-bn;Pe[Me]=Pi+Ci,Pe[Me+32]=Pi-Ci;var ii=.707106781*(os+Ni);Pe[Me+16]=Ni+ii,Pe[Me+48]=Ni-ii;var as=.382683433*((Pi=Is+$r)-(os=An+ss)),ya=.5411961*Pi+as,Ll=1.306562965*os+as,jl=.707106781*(Ci=$r+An),Ol=ss+jl,Tl=ss-jl;Pe[Me+40]=Tl+ya,Pe[Me+24]=Tl-ya,Pe[Me+8]=Ol+Ll,Pe[Me+56]=Ol-Ll,Me++}for(Je=0;Je<64;++Je)lt=Pe[Je]*Ce[Je],f[Je]=lt>0?lt+.5|0:lt-.5|0;return f}(j,D),Se=0;Se<64;++Se)m[E[Se]]=Ae[Se];var Le=m[0]-G;G=m[0],Le==0?K(Z[0]):(K(Z[p[ce=32767+Le]]),K(h[ce]));for(var Oe=63;Oe>0&&m[Oe]==0;)Oe--;if(Oe==0)return K(he),G;for(var Ye,ye=1;ye<=Oe;){for(var re=ye;m[ye]==0&&ye<=Oe;)++ye;var nt=ye-re;if(nt>=16){Ye=nt>>4;for(var ze=1;ze<=Ye;++ze)K(ge);nt&=15}ce=32767+m[ye],K(ee[(nt<<4)+p[ce]]),K(h[ce]),ye++}return Oe!=63&&K(he),G}function ne(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(D){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ee=o((G[Z]*D+50)/100);ee=Math.min(Math.max(ee,1),255),a[E[Z]]=ee}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ge=o((ce[he]*D+50)/100);ge=Math.min(Math.max(ge,1),255),l[E[he]]=ge}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Le=0;Le<8;Le++)for(var Oe=0;Oe<8;Oe++)c[Se]=1/(a[E[Se]]*Ae[Le]*Ae[Oe]*8),u[Se]=1/(l[E[Se]]*Ae[Le]*Ae[Oe]*8),Se++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,D){D&&ne(D),v=new Array,x=0,y=7,M(65496),M(65504),M(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),M(1),M(1),Y(0),Y(0),function(){M(65499),M(132),Y(0);for(var Ie=0;Ie<64;Ie++)Y(a[Ie]);Y(1);for(var He=0;He<64;He++)Y(l[He])}(),function(Ie,He){M(65472),M(17),Y(8),M(He),M(Ie),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(j.width,j.height),function(){M(65476),M(418),Y(0);for(var Ie=0;Ie<16;Ie++)Y(L[Ie+1]);for(var He=0;He<=11;He++)Y(F[He]);Y(16);for(var Qe=0;Qe<16;Qe++)Y(z[Qe+1]);for(var st=0;st<=161;st++)Y(C[st]);Y(1);for(var at=0;at<16;at++)Y(O[at+1]);for(var mt=0;mt<=11;mt++)Y(H[mt]);Y(17);for(var jt=0;jt<16;jt++)Y(W[jt+1]);for(var Je=0;Je<=161;Je++)Y(ie[Je])}(),M(65498),M(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var G=0,Z=0,ee=0;x=0,y=7,this.encode.displayName="_encode_";for(var ce,he,ge,Ae,Se,Le,Oe,Ye,ye,re=j.data,nt=j.width,ze=j.height,Pe=4*nt,Ce=0;Ce<ze;){for(ce=0;ce<Pe;){for(Se=Pe*Ce+ce,Oe=-1,Ye=0,ye=0;ye<64;ye++)Le=Se+(Ye=ye>>3)*Pe+(Oe=4*(7&ye)),Ce+Ye>=ze&&(Le-=Pe*(Ce+1+Ye-ze)),ce+Oe>=Pe&&(Le-=ce+Oe-Pe+4),he=re[Le++],ge=re[Le++],Ae=re[Le++],w[ye]=(T[he]+T[ge+256>>0]+T[Ae+512>>0]>>16)-128,_[ye]=(T[he+768>>0]+T[ge+1024>>0]+T[Ae+1280>>0]>>16)-128,k[ye]=(T[he+1280>>0]+T[ge+1536>>0]+T[Ae+1792>>0]>>16)-128;G=V(w,c,G,e,r),Z=V(_,u,Z,n,i),ee=V(k,u,ee,n,i),ce+=32}Ce+=8}if(y>=0){var Re=[];Re[1]=y+1,Re[0]=(1<<y+1)-1,K(Re)}return M(65497),new Uint8Array(v)},t=t||50,function(){for(var j=String.fromCharCode,D=0;D<256;D++)N[D]=j(D)}(),e=J(L,F),n=J(O,H),r=J(z,C),i=J(W,ie),function(){for(var j=1,D=2,G=1;G<=15;G++){for(var Z=j;Z<D;Z++)p[32767+Z]=G,h[32767+Z]=[],h[32767+Z][1]=G,h[32767+Z][0]=Z;for(var ee=-(D-1);ee<=-j;ee++)p[32767+ee]=G,h[32767+ee]=[],h[32767+ee][1]=G,h[32767+ee][0]=D-1+ee;j<<=1,D<<=1}}(),function(){for(var j=0;j<256;j++)T[j]=19595*j,T[j+256>>0]=38470*j,T[j+512>>0]=7471*j+32768,T[j+768>>0]=-11059*j,T[j+1024>>0]=-21709*j,T[j+1280>>0]=32768*j+8421375,T[j+1536>>0]=-27439*j,T[j+1792>>0]=-5329*j}(),ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gS(t){function e(L){if(!L)throw Error("assert :P")}function n(L,F,z){for(var C=0;4>C;C++)if(L[F+C]!=z.charCodeAt(C))return!0;return!1}function r(L,F,z,C,O){for(var H=0;H<O;H++)L[F+H]=z[C+H]}function i(L,F,z,C){for(var O=0;O<C;O++)L[F+O]=z}function s(L){return new Int32Array(L)}function o(L,F){for(var z=[],C=0;C<L;C++)z.push(new F);return z}function a(L,F){var z=[];return function C(O,H,W){for(var ie=W[H],J=0;J<ie&&(O.push(W.length>H+1?[]:new F),!(W.length<H+1));J++)C(O[J],H+1,W)}(z,0,L),z}var l=function(){var L=this;function F(d,g){for(var S=1<<g-1>>>0;d&S;)S>>>=1;return S?(d&S-1)+S:d}function z(d,g,S,A,I){e(!(A%S));do d[g+(A-=S)]=I;while(0<A)}function C(d,g,S,A,I){if(e(2328>=I),512>=I)var B=s(512);else if((B=s(I))==null)return 0;return function($,U,q,Q,oe,fe){var pe,ue,xe=U,me=1<<q,ae=s(16),le=s(16);for(e(oe!=0),e(Q!=null),e($!=null),e(0<q),ue=0;ue<oe;++ue){if(15<Q[ue])return 0;++ae[Q[ue]]}if(ae[0]==oe)return 0;for(le[1]=0,pe=1;15>pe;++pe){if(ae[pe]>1<<pe)return 0;le[pe+1]=le[pe]+ae[pe]}for(ue=0;ue<oe;++ue)pe=Q[ue],0<Q[ue]&&(fe[le[pe]++]=ue);if(le[15]==1)return(Q=new O).g=0,Q.value=fe[0],z($,xe,1,me,Q),me;var we,_e=-1,be=me-1,De=0,Ee=1,qe=1,Te=1<<q;for(ue=0,pe=1,oe=2;pe<=q;++pe,oe<<=1){if(Ee+=qe<<=1,0>(qe-=ae[pe]))return 0;for(;0<ae[pe];--ae[pe])(Q=new O).g=pe,Q.value=fe[ue++],z($,xe+De,oe,Te,Q),De=F(De,pe)}for(pe=q+1,oe=2;15>=pe;++pe,oe<<=1){if(Ee+=qe<<=1,0>(qe-=ae[pe]))return 0;for(;0<ae[pe];--ae[pe]){if(Q=new O,(De&be)!=_e){for(xe+=Te,we=1<<(_e=pe)-q;15>_e&&!(0>=(we-=ae[_e]));)++_e,we<<=1;me+=Te=1<<(we=_e-q),$[U+(_e=De&be)].g=we+q,$[U+_e].value=xe-U-_e}Q.g=pe-q,Q.value=fe[ue++],z($,xe+(De>>q),oe,Te,Q),De=F(De,pe)}}return Ee!=2*le[15]-1?0:me}(d,g,S,A,I,B)}function O(){this.value=this.g=0}function H(){this.value=this.g=0}function W(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Un,H)}function ie(d,g,S,A){e(d!=null),e(g!=null),e(2147483648>A),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=S,d.Jd=g,d.Yc=S+A,d.Zc=4<=A?S+A-4+1:S,ce(d)}function J(d,g){for(var S=0;0<g--;)S|=ge(d,128)<<g;return S}function K(d,g){var S=J(d,g);return he(d)?-S:S}function Y(d,g,S,A){var I,B=0;for(e(d!=null),e(g!=null),e(4294967288>A),d.Sb=A,d.Ra=0,d.u=0,d.h=0,4<A&&(A=4),I=0;I<A;++I)B+=g[S+I]<<8*I;d.Ra=B,d.bb=A,d.oa=g,d.pa=S}function M(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Yl-8>>>0,++d.bb,d.u-=8;G(d)&&(d.h=1,d.u=0)}function V(d,g){if(e(0<=g),!d.h&&g<=Gl){var S=D(d)&Vl[g];return d.u+=g,M(d),S}return d.h=1,d.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(d){return d.Ra>>>(d.u&Yl-1)>>>0}function G(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Yl}function Z(d,g){d.u=g,d.h=G(d)}function ee(d){d.u>=Bu&&(e(d.u>=Bu),M(d))}function ce(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function he(d){return J(d,1)}function ge(d,g){var S=d.Ca;0>d.b&&ce(d);var A=d.b,I=S*g>>>8,B=(d.I>>>A>I)+0;for(B?(S-=I,d.I-=I+1<<A>>>0):S=I+1,A=S,I=0;256<=A;)I+=8,A>>=8;return A=7^I+_r[A],d.b-=A,d.Ca=(S<<A)-1,B}function Ae(d,g,S){d[g+0]=S>>24&255,d[g+1]=S>>16&255,d[g+2]=S>>8&255,d[g+3]=S>>0&255}function Se(d,g){return d[g+0]<<0|d[g+1]<<8}function Le(d,g){return Se(d,g)|d[g+2]<<16}function Oe(d,g){return Se(d,g)|Se(d,g+2)<<16}function Ye(d,g){var S=1<<g;return e(d!=null),e(0<g),d.X=s(S),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function ye(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),r(g.X,0,d.X,0,1<<g.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function nt(d,g,S,A){e(S!=null),e(A!=null);var I=S[0],B=A[0];return I==0&&(I=(d*B+g/2)/g),B==0&&(B=(g*I+d/2)/d),0>=I||0>=B?0:(S[0]=I,A[0]=B,1)}function ze(d,g){return d+(1<<g)-1>>>g}function Pe(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function Ce(d,g){L[g]=function(S,A,I,B,$,U,q){var Q;for(Q=0;Q<$;++Q){var oe=L[d](U[q+Q-1],I,B+Q);U[q+Q]=Pe(S[A+Q],oe)}}}function Re(){this.ud=this.hd=this.jd=0}function Ie(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function He(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Qe(d,g){return He(d+(d-g+.5>>1))}function st(d,g,S){return Math.abs(g-S)-Math.abs(d-S)}function at(d,g,S,A,I,B,$){for(A=B[$-1],S=0;S<I;++S)B[$+S]=A=Pe(d[g+S],A)}function mt(d,g,S,A,I){var B;for(B=0;B<S;++B){var $=d[g+B],U=$>>8&255,q=16711935&(q=(q=16711935&$)+((U<<16)+U));A[I+B]=(4278255360&$)+q>>>0}}function jt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function Je(d,g,S,A,I,B){var $;for($=0;$<A;++$){var U=g[S+$],q=U>>>8,Q=U,oe=255&(oe=(oe=U>>>16)+((d.jd<<24>>24)*(q<<24>>24)>>>5));Q=255&(Q=(Q=Q+((d.hd<<24>>24)*(q<<24>>24)>>>5))+((d.ud<<24>>24)*(oe<<24>>24)>>>5)),I[B+$]=(4278255360&U)+(oe<<16)+Q}}function lt(d,g,S,A,I){L[g]=function(B,$,U,q,Q,oe,fe,pe,ue){for(q=fe;q<pe;++q)for(fe=0;fe<ue;++fe)Q[oe++]=I(U[A(B[$++])])},L[d]=function(B,$,U,q,Q,oe,fe){var pe=8>>B.b,ue=B.Ea,xe=B.K[0],me=B.w;if(8>pe)for(B=(1<<B.b)-1,me=(1<<pe)-1;$<U;++$){var ae,le=0;for(ae=0;ae<ue;++ae)ae&B||(le=A(q[Q++])),oe[fe++]=I(xe[le&me]),le>>=pe}else L["VP8LMapColor"+S](q,Q,xe,me,oe,fe,$,U,ue)}}function Me(d,g,S,A,I){for(S=g+S;g<S;){var B=d[g++];A[I++]=B>>16&255,A[I++]=B>>8&255,A[I++]=B>>0&255}}function Kn(d,g,S,A,I){for(S=g+S;g<S;){var B=d[g++];A[I++]=B>>16&255,A[I++]=B>>8&255,A[I++]=B>>0&255,A[I++]=B>>24&255}}function bt(d,g,S,A,I){for(S=g+S;g<S;){var B=($=d[g++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;A[I++]=B,A[I++]=$}}function Si(d,g,S,A,I){for(S=g+S;g<S;){var B=($=d[g++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;A[I++]=B,A[I++]=$}}function Mt(d,g,S,A,I){for(S=g+S;g<S;){var B=d[g++];A[I++]=B>>0&255,A[I++]=B>>8&255,A[I++]=B>>16&255}}function Kt(d,g,S,A,I,B){if(B==0)for(S=g+S;g<S;)Ae(A,((B=d[g++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),I+=32;else r(A,I,d,g,S)}function ns(d,g){L[g][0]=L[d+"0"],L[g][1]=L[d+"1"],L[g][2]=L[d+"2"],L[g][3]=L[d+"3"],L[g][4]=L[d+"4"],L[g][5]=L[d+"5"],L[g][6]=L[d+"6"],L[g][7]=L[d+"7"],L[g][8]=L[d+"8"],L[g][9]=L[d+"9"],L[g][10]=L[d+"10"],L[g][11]=L[d+"11"],L[g][12]=L[d+"12"],L[g][13]=L[d+"13"],L[g][14]=L[d+"0"],L[g][15]=L[d+"0"]}function _t(d){return d==u0||d==h0||d==Mf||d==d0}function ma(){this.eb=[],this.size=this.A=this.fb=0}function nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ki(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ma,this.f.kb=new nn,this.sd=null}function Ts(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ze(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function St(d,g){var S=d.T,A=g.ba.f.RGBA,I=A.eb,B=A.fb+d.ka*A.A,$=ui[g.ba.S],U=d.y,q=d.O,Q=d.f,oe=d.N,fe=d.ea,pe=d.W,ue=g.cc,xe=g.dc,me=g.Mc,ae=g.Nc,le=d.ka,we=d.ka+d.T,_e=d.U,be=_e+1>>1;for(le==0?$(U,q,null,null,Q,oe,fe,pe,Q,oe,fe,pe,I,B,null,null,_e):($(g.ec,g.fc,U,q,ue,xe,me,ae,Q,oe,fe,pe,I,B-A.A,I,B,_e),++S);le+2<we;le+=2)ue=Q,xe=oe,me=fe,ae=pe,oe+=d.Rc,pe+=d.Rc,B+=2*A.A,$(U,(q+=2*d.fa)-d.fa,U,q,ue,xe,me,ae,Q,oe,fe,pe,I,B-A.A,I,B,_e);return q+=d.fa,d.j+we<d.o?(r(g.ec,g.fc,U,q,_e),r(g.cc,g.dc,Q,oe,be),r(g.Mc,g.Nc,fe,pe,be),S--):1&we||$(U,q,null,null,Q,oe,fe,pe,Q,oe,fe,pe,I,B+A.A,null,null,_e),S}function va(d,g,S){var A=d.F,I=[d.J];if(A!=null){var B=d.U,$=g.ba.S,U=$==Rf||$==Mf;g=g.ba.f.RGBA;var q=[0],Q=d.ka;q[0]=d.T,d.Kb&&(Q==0?--q[0]:(--Q,I[0]-=d.width),d.j+d.ka+d.T==d.o&&(q[0]=d.o-d.j-Q));var oe=g.eb;Q=g.fb+Q*g.A,d=$t(A,I[0],d.width,B,q,oe,Q+(U?0:3),g.A),e(S==q),d&&_t($)&&li(oe,Q,U,B,q,g.A)}return 0}function zn(d){var g=d.ma,S=g.ba.S,A=11>S,I=S==Tf||S==If||S==Rf||S==c0||S==12||_t(S);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Fu(g.Oa,d,I?11:12))return 0;if(I&&_t(S)&&ke(),d.da)alert("todo:use_scaling");else{if(A){if(g.Ib=Ze,d.Kb){if(S=d.U+1>>1,g.memory=s(d.U+2*S),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+S,g.Ib=St,ke()}}else alert("todo:EmitYUV");I&&(g.Jb=va,A&&de())}if(A&&!ew){for(d=0;256>d;++d)NP[d]=89858*(d-128)+Df>>Ff,LP[d]=-22014*(d-128)+Df,EP[d]=-45773*(d-128),CP[d]=113618*(d-128)+Df>>Ff;for(d=Vu;d<g0;++d)g=76283*(d-16)+Df>>Ff,jP[d-Vu]=zr(g,255),OP[d-Vu]=zr(g+8>>4,15);ew=1}return 1}function rs(d){var g=d.ma,S=d.U,A=d.T;return e(!(1&d.ka)),0>=S||0>=A?0:(S=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,S),g.Dc+=S,1)}function is(d){d.ma.memory=null}function Ge(d,g,S,A){return V(d,8)!=47?0:(g[0]=V(d,14)+1,S[0]=V(d,14)+1,A[0]=V(d,1),V(d,3)!=0?0:!d.h)}function Ai(d,g){if(4>d)return d+1;var S=d-2>>1;return(2+(1&d)<<S)+V(g,S)+1}function ss(d,g){return 120<g?g-120:1<=(S=((S=fP[g-1])>>4)*d+(8-(15&S)))?S:1;var S}function br(d,g,S){var A=D(S),I=d[g+=255&A].g-8;return 0<I&&(Z(S,S.u+8),A=D(S),g+=d[g].value,g+=A&(1<<I)-1),Z(S,S.u+d[g].g),d[g].value}function An(d,g,S){return S.g+=d.g,S.value+=d.value<<g>>>0,e(8>=S.g),d.g}function bn(d,g,S){var A=d.xc;return e((g=A==0?0:d.vc[d.md*(S>>A)+(g>>A)])<d.Wb),d.Ya[g]}function $r(d,g,S,A){var I=d.ab,B=d.c*g,$=d.C;g=$+g;var U=S,q=A;for(A=d.Ta,S=d.Ua;0<I--;){var Q=d.gc[I],oe=$,fe=g,pe=U,ue=q,xe=(q=A,U=S,Q.Ea);switch(e(oe<fe),e(fe<=Q.nc),Q.hc){case 2:Pf(pe,ue,(fe-oe)*xe,q,U);break;case 0:var me=oe,ae=fe,le=q,we=U,_e=(Te=Q).Ea;me==0&&(a0(pe,ue,null,null,1,le,we),at(pe,ue+1,0,0,_e-1,le,we+1),ue+=_e,we+=_e,++me);for(var be=1<<Te.b,De=be-1,Ee=ze(_e,Te.b),qe=Te.K,Te=Te.w+(me>>Te.b)*Ee;me<ae;){var xt=qe,kt=Te,vt=1;for($u(pe,ue,le,we-_e,1,le,we);vt<_e;){var ht=(vt&~De)+be;ht>_e&&(ht=_e),(0,go[xt[kt++]>>8&15])(pe,ue+ +vt,le,we+vt-_e,ht-vt,le,we+vt),vt=ht}ue+=_e,we+=_e,++me&De||(Te+=Ee)}fe!=Q.nc&&r(q,U-xe,q,U+(fe-oe-1)*xe,xe);break;case 1:for(xe=pe,ae=ue,_e=(pe=Q.Ea)-(we=pe&~(le=(ue=1<<Q.b)-1)),me=ze(pe,Q.b),be=Q.K,Q=Q.w+(oe>>Q.b)*me;oe<fe;){for(De=be,Ee=Q,qe=new Re,Te=ae+we,xt=ae+pe;ae<Te;)jt(De[Ee++],qe),Sa(qe,xe,ae,ue,q,U),ae+=ue,U+=ue;ae<xt&&(jt(De[Ee++],qe),Sa(qe,xe,ae,_e,q,U),ae+=_e,U+=_e),++oe&le||(Q+=me)}break;case 3:if(pe==q&&ue==U&&0<Q.b){for(ae=q,pe=xe=U+(fe-oe)*xe-(we=(fe-oe)*ze(Q.Ea,Q.b)),ue=q,le=U,me=[],we=(_e=we)-1;0<=we;--we)me[we]=ue[le+we];for(we=_e-1;0<=we;--we)ae[pe+we]=me[we];si(Q,oe,fe,q,xe,q,U)}else si(Q,oe,fe,pe,ue,q,U)}U=A,q=S}q!=S&&r(A,S,U,q,B)}function El(d,g){var S=d.V,A=d.Ba+d.c*d.C,I=g-d.C;if(e(g<=d.l.o),e(16>=I),0<I){var B=d.l,$=d.Ta,U=d.Ua,q=B.width;if($r(d,I,S,A),I=U=[U],e((S=d.C)<(A=g)),e(B.v<B.va),A>B.o&&(A=B.o),S<B.j){var Q=B.j-S;S=B.j,I[0]+=Q*q}if(S>=A?S=0:(I[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=A-S,S=1),S){if(U=U[0],11>(S=d.ca).S){var oe=S.f.RGBA,fe=(A=S.S,I=B.U,B=B.T,Q=oe.eb,oe.A),pe=B;for(oe=oe.fb+d.Ma*oe.A;0<pe--;){var ue=$,xe=U,me=I,ae=Q,le=oe;switch(A){case Of:Sr(ue,xe,me,ae,le);break;case Tf:dr(ue,xe,me,ae,le);break;case u0:dr(ue,xe,me,ae,le),li(ae,le,0,me,1,0);break;case W5:Ds(ue,xe,me,ae,le);break;case If:Kt(ue,xe,me,ae,le,1);break;case h0:Kt(ue,xe,me,ae,le,1),li(ae,le,0,me,1,0);break;case Rf:Kt(ue,xe,me,ae,le,0);break;case Mf:Kt(ue,xe,me,ae,le,0),li(ae,le,1,me,1,0);break;case c0:mo(ue,xe,me,ae,le);break;case d0:mo(ue,xe,me,ae,le),Bt(ae,le,me,1,0);break;case q5:Fs(ue,xe,me,ae,le);break;default:e(0)}U+=q,oe+=fe}d.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=S.height)}}d.C=g,e(d.C<=d.i)}function Is(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var S=d.Ya[g].G,A=d.Ya[g].H;if(0<S[1][A[1]+0].g||0<S[2][A[2]+0].g||0<S[3][A[3]+0].g)return 0}return 1}function Pi(d,g,S,A,I,B){if(d.Z!=0){var $=d.qd,U=d.rd;for(e(bo[d.Z]!=null);g<S;++g)bo[d.Z]($,U,A,I,A,I,B),$=A,U=I,I+=B;d.qd=$,d.rd=U}}function Ni(d,g){var S=d.l.ma,A=S.Z==0||S.Z==1?d.l.j:d.C;if(A=d.C<A?A:d.C,e(g<=d.l.o),g>A){var I=d.l.width,B=S.ca,$=S.tb+I*A,U=d.V,q=d.Ba+d.c*A,Q=d.gc;e(d.ab==1),e(Q[0].hc==3),Nf(Q[0],A,g,U,q,B,$),Pi(S,A,g,B,$,I)}d.C=d.Ma=g}function Ci(d,g,S,A,I,B,$){var U=d.$/A,q=d.$%A,Q=d.m,oe=d.s,fe=S+d.$,pe=fe;I=S+A*I;var ue=S+A*B,xe=280+oe.ua,me=d.Pb?U:16777216,ae=0<oe.ua?oe.Wa:null,le=oe.wc,we=fe<ue?bn(oe,q,U):null;e(d.C<B),e(ue<=I);var _e=!1;e:for(;;){for(;_e||fe<ue;){var be=0;if(U>=me){var De=fe-S;e((me=d).Pb),me.wd=me.m,me.xd=De,0<me.s.ua&&ye(me.s.Wa,me.s.vb),me=U+gP}if(q&le||(we=bn(oe,q,U)),e(we!=null),we.Qb&&(g[fe]=we.qb,_e=!0),!_e)if(ee(Q),we.jc){be=Q,De=g;var Ee=fe,qe=we.pd[D(be)&Un-1];e(we.jc),256>qe.g?(Z(be,be.u+qe.g),De[Ee]=qe.value,be=0):(Z(be,be.u+qe.g-256),e(256<=qe.value),be=qe.value),be==0&&(_e=!0)}else be=br(we.G[0],we.H[0],Q);if(Q.h)break;if(_e||256>be){if(!_e)if(we.nd)g[fe]=(we.qb|be<<8)>>>0;else{if(ee(Q),_e=br(we.G[1],we.H[1],Q),ee(Q),De=br(we.G[2],we.H[2],Q),Ee=br(we.G[3],we.H[3],Q),Q.h)break;g[fe]=(Ee<<24|_e<<16|be<<8|De)>>>0}if(_e=!1,++fe,++q>=A&&(q=0,++U,$!=null&&U<=B&&!(U%16)&&$(d,U),ae!=null))for(;pe<fe;)be=g[pe++],ae.X[(506832829*be&4294967295)>>>ae.Mb]=be}else if(280>be){if(be=Ai(be-256,Q),De=br(we.G[4],we.H[4],Q),ee(Q),De=ss(A,De=Ai(De,Q)),Q.h)break;if(fe-S<De||I-fe<be)break e;for(Ee=0;Ee<be;++Ee)g[fe+Ee]=g[fe+Ee-De];for(fe+=be,q+=be;q>=A;)q-=A,++U,$!=null&&U<=B&&!(U%16)&&$(d,U);if(e(fe<=I),q&le&&(we=bn(oe,q,U)),ae!=null)for(;pe<fe;)be=g[pe++],ae.X[(506832829*be&4294967295)>>>ae.Mb]=be}else{if(!(be<xe))break e;for(_e=be-280,e(ae!=null);pe<fe;)be=g[pe++],ae.X[(506832829*be&4294967295)>>>ae.Mb]=be;be=fe,e(!(_e>>>(De=ae).Xa)),g[be]=De.X[_e],_e=!0}_e||e(Q.h==G(Q))}if(d.Pb&&Q.h&&fe<I)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ye(d.s.vb,d.s.Wa);else{if(Q.h)break e;$!=null&&$(d,U>B?B:U),d.a=0,d.$=fe-S}return 1}return d.a=3,0}function os(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function ii(){var d=new o0;return d==null?null:(d.a=0,d.xb=Y5,ns("Predictor","VP8LPredictors"),ns("Predictor","VP8LPredictors_C"),ns("PredictorAdd","VP8LPredictorsAdd"),ns("PredictorAdd","VP8LPredictorsAdd_C"),Pf=mt,Sa=Je,Sr=Me,dr=Kn,mo=bt,Fs=Si,Ds=Mt,L.VP8LMapColor32b=Kl,L.VP8LMapColor8b=Cf,d)}function as(d,g,S,A,I){var B=1,$=[d],U=[g],q=A.m,Q=A.s,oe=null,fe=0;e:for(;;){if(S)for(;B&&V(q,1);){var pe=$,ue=U,xe=A,me=1,ae=xe.m,le=xe.gc[xe.ab],we=V(ae,2);if(xe.Oc&1<<we)B=0;else{switch(xe.Oc|=1<<we,le.hc=we,le.Ea=pe[0],le.nc=ue[0],le.K=[null],++xe.ab,e(4>=xe.ab),we){case 0:case 1:le.b=V(ae,3)+2,me=as(ze(le.Ea,le.b),ze(le.nc,le.b),0,xe,le.K),le.K=le.K[0];break;case 3:var _e,be=V(ae,8)+1,De=16<be?0:4<be?1:2<be?2:3;if(pe[0]=ze(le.Ea,De),le.b=De,_e=me=as(be,1,0,xe,le.K)){var Ee,qe=be,Te=le,xt=1<<(8>>Te.b),kt=s(xt);if(kt==null)_e=0;else{var vt=Te.K[0],ht=Te.w;for(kt[0]=Te.K[0][0],Ee=1;Ee<1*qe;++Ee)kt[Ee]=Pe(vt[ht+Ee],kt[Ee-1]);for(;Ee<4*xt;++Ee)kt[Ee]=0;Te.K[0]=null,Te.K[0]=kt,_e=1}}me=_e;break;case 2:break;default:e(0)}B=me}}if($=$[0],U=U[0],B&&V(q,1)&&!(B=1<=(fe=V(q,4))&&11>=fe)){A.a=3;break e}var Ft;if(Ft=B)t:{var Ot,it,_n,kr=A,Sn=$,Ar=U,At=fe,Hr=S,Wr=kr.m,Rn=kr.s,Hn=[null],pr=1,hi=0,hs=pP[At];n:for(;;){if(Hr&&V(Wr,1)){var Mn=V(Wr,3)+2,Us=ze(Sn,Mn),Ca=ze(Ar,Mn),ec=Us*Ca;if(!as(Us,Ca,0,kr,Hn))break n;for(Hn=Hn[0],Rn.xc=Mn,Ot=0;Ot<ec;++Ot){var xo=Hn[Ot]>>8&65535;Hn[Ot]=xo,xo>=pr&&(pr=xo+1)}}if(Wr.h)break n;for(it=0;5>it;++it){var on=V5[it];!it&&0<At&&(on+=1<<At),hi<on&&(hi=on)}var m0=o(pr*hs,O),rw=pr,iw=o(rw,W);if(iw==null)var $f=null;else e(65536>=rw),$f=iw;var Gu=s(hi);if($f==null||Gu==null||m0==null){kr.a=1;break n}var zf=m0;for(Ot=_n=0;Ot<pr;++Ot){var Ti=$f[Ot],tc=Ti.G,nc=Ti.H,sw=0,Uf=1,ow=0;for(it=0;5>it;++it){on=V5[it],tc[it]=zf,nc[it]=_n,!it&&0<At&&(on+=1<<At);i:{var Hf,v0=on,Wf=kr,Yu=Gu,RP=zf,MP=_n,y0=0,_o=Wf.m,FP=V(_o,1);if(i(Yu,0,0,v0),FP){var DP=V(_o,1)+1,BP=V(_o,1),aw=V(_o,BP==0?1:8);Yu[aw]=1,DP==2&&(Yu[aw=V(_o,8)]=1);var qf=1}else{var lw=s(19),cw=V(_o,4)+4;if(19<cw){Wf.a=3;var Vf=0;break i}for(Hf=0;Hf<cw;++Hf)lw[dP[Hf]]=V(_o,3);var w0=void 0,Ku=void 0,uw=Wf,$P=lw,Gf=v0,hw=Yu,b0=0,So=uw.m,dw=8,fw=o(128,O);r:for(;C(fw,0,7,$P,19);){if(V(So,1)){var zP=2+2*V(So,3);if((w0=2+V(So,zP))>Gf)break r}else w0=Gf;for(Ku=0;Ku<Gf&&w0--;){ee(So);var pw=fw[0+(127&D(So))];Z(So,So.u+pw.g);var rc=pw.value;if(16>rc)hw[Ku++]=rc,rc!=0&&(dw=rc);else{var UP=rc==16,gw=rc-16,HP=uP[gw],mw=V(So,cP[gw])+HP;if(Ku+mw>Gf)break r;for(var WP=UP?dw:0;0<mw--;)hw[Ku++]=WP}}b0=1;break r}b0||(uw.a=3),qf=b0}(qf=qf&&!_o.h)&&(y0=C(RP,MP,8,Yu,v0)),qf&&y0!=0?Vf=y0:(Wf.a=3,Vf=0)}if(Vf==0)break n;if(Uf&&hP[it]==1&&(Uf=zf[_n].g==0),sw+=zf[_n].g,_n+=Vf,3>=it){var Ju,x0=Gu[0];for(Ju=1;Ju<on;++Ju)Gu[Ju]>x0&&(x0=Gu[Ju]);ow+=x0}}if(Ti.nd=Uf,Ti.Qb=0,Uf&&(Ti.qb=(tc[3][nc[3]+0].value<<24|tc[1][nc[1]+0].value<<16|tc[2][nc[2]+0].value)>>>0,sw==0&&256>tc[0][nc[0]+0].value&&(Ti.Qb=1,Ti.qb+=tc[0][nc[0]+0].value<<8)),Ti.jc=!Ti.Qb&&6>ow,Ti.jc){var Yf,Hs=Ti;for(Yf=0;Yf<Un;++Yf){var ko=Yf,Ao=Hs.pd[ko],Kf=Hs.G[0][Hs.H[0]+ko];256<=Kf.value?(Ao.g=Kf.g+256,Ao.value=Kf.value):(Ao.g=0,Ao.value=0,ko>>=An(Kf,8,Ao),ko>>=An(Hs.G[1][Hs.H[1]+ko],16,Ao),ko>>=An(Hs.G[2][Hs.H[2]+ko],0,Ao),An(Hs.G[3][Hs.H[3]+ko],24,Ao))}}}Rn.vc=Hn,Rn.Wb=pr,Rn.Ya=$f,Rn.yc=m0,Ft=1;break t}Ft=0}if(!(B=Ft)){A.a=3;break e}if(0<fe){if(Q.ua=1<<fe,!Ye(Q.Wa,fe)){A.a=1,B=0;break e}}else Q.ua=0;var _0=A,vw=$,qP=U,S0=_0.s,k0=S0.xc;if(_0.c=vw,_0.i=qP,S0.md=ze(vw,k0),S0.wc=k0==0?-1:(1<<k0)-1,S){A.xb=_P;break e}if((oe=s($*U))==null){A.a=1,B=0;break e}B=(B=Ci(A,oe,0,$,U,U,null))&&!q.h;break e}return B?(I!=null?I[0]=oe:(e(oe==null),e(S)),A.$=0,S||os(Q)):os(Q),B}function ya(d,g){var S=d.c*d.i,A=S+g+16*g;return e(d.c<=g),d.V=s(A),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+S+g,1)}function Ll(d,g){var S=d.C,A=g-S,I=d.V,B=d.Ba+d.c*S;for(e(g<=d.l.o);0<A;){var $=16<A?16:A,U=d.l.ma,q=d.l.width,Q=q*$,oe=U.ca,fe=U.tb+q*S,pe=d.Ta,ue=d.Ua;$r(d,$,I,B),fn(pe,ue,oe,fe,Q),Pi(U,S,S+$,oe,fe,q),A-=$,I+=$*d.c,S+=$}e(S==g),d.C=d.Ma=g}function jl(){this.ub=this.yd=this.td=this.Rb=0}function Ol(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function of(){this.Yb=function(){var d=[];return function g(S,A,I){for(var B=I[A],$=0;$<B&&(S.push(I.length>A+1?[]:0),!(I.length<A+1));$++)g(S[$],A+1,I)}(d,0,[3,11]),d}()}function Fm(){this.jb=s(3),this.Wc=a([4,8],of),this.Xc=a([4,17],of)}function Dm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Il(){this.ld=this.La=this.dd=this.tc=0}function af(){this.Na=this.la=0}function Bm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $m(){this.uc=this.M=this.Nb=0,this.wa=Array(new Il),this.Y=0,this.ya=Array(new xu),this.aa=0,this.l=new Rl}function lf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function zm(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new jl,this.Kc=new Ol,this.ed=new Dm,this.Qa=new Tl,this.Ic=this.$c=this.Aa=0,this.D=new $m,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ne),this.ia=0,this.pb=o(4,Bm),this.Pa=new Fm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new lf),this.Hd=0,this.rb=Array(new af),this.sb=0,this.wa=Array(new Il),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xu),this.L=this.aa=0,this.gd=a([4,2],Il),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Um(){var d=new zm;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,qu||(qu=hf)),d}function hn(d,g,S){return d.a==0&&(d.a=g,d.sc=S,d.cb=0),0}function cf(d,g,S){return 3<=S&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function uf(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return hn(d,2,"null VP8Io passed to VP8GetHeaders()");var S=g.data,A=g.w,I=g.ha;if(4>I)return hn(d,7,"Truncated header.");var B=S[A+0]|S[A+1]<<8|S[A+2]<<16,$=d.Od;if($.Rb=!(1&B),$.td=B>>1&7,$.yd=B>>4&1,$.ub=B>>5,3<$.td)return hn(d,3,"Incorrect keyframe parameters.");if(!$.yd)return hn(d,4,"Frame not displayable.");A+=3,I-=3;var U=d.Kc;if($.Rb){if(7>I)return hn(d,7,"cannot parse picture header");if(!cf(S,A,I))return hn(d,3,"Bad code word");U.c=16383&(S[A+4]<<8|S[A+3]),U.Td=S[A+4]>>6,U.i=16383&(S[A+6]<<8|S[A+5]),U.Ud=S[A+6]>>6,A+=7,I-=7,d.za=U.c+15>>4,d.Ub=U.i+15>>4,g.width=U.c,g.height=U.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((B=d.Pa).jb,0,255,B.jb.length),e((B=d.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if($.ub>I)return hn(d,7,"bad partition length");ie(B=d.m,S,A,$.ub),A+=$.ub,I-=$.ub,$.Rb&&(U.Ld=he(B),U.Kd=he(B)),U=d.Qa;var q,Q=d.Pa;if(e(B!=null),e(U!=null),U.Cb=he(B),U.Cb){if(U.Bb=he(B),he(B)){for(U.Fb=he(B),q=0;4>q;++q)U.Zb[q]=he(B)?K(B,7):0;for(q=0;4>q;++q)U.Lb[q]=he(B)?K(B,6):0}if(U.Bb)for(q=0;3>q;++q)Q.jb[q]=he(B)?J(B,8):255}else U.Bb=0;if(B.Ka)return hn(d,3,"cannot parse segment header");if((U=d.ed).zd=he(B),U.Tb=J(B,6),U.wb=J(B,3),U.Pc=he(B),U.Pc&&he(B)){for(Q=0;4>Q;++Q)he(B)&&(U.vd[Q]=K(B,6));for(Q=0;4>Q;++Q)he(B)&&(U.od[Q]=K(B,6))}if(d.L=U.Tb==0?0:U.zd?1:2,B.Ka)return hn(d,3,"cannot parse filter header");var oe=I;if(I=q=A,A=q+oe,U=oe,d.Xb=(1<<J(d.m,2))-1,oe<3*(Q=d.Xb))S=7;else{for(q+=3*Q,U-=3*Q,oe=0;oe<Q;++oe){var fe=S[I+0]|S[I+1]<<8|S[I+2]<<16;fe>U&&(fe=U),ie(d.Jc[+oe],S,q,fe),q+=fe,U-=fe,I+=3}ie(d.Jc[+Q],S,q,U),S=q<A?0:5}if(S!=0)return hn(d,S,"cannot parse partitions");for(S=J(q=d.m,7),I=he(q)?K(q,4):0,A=he(q)?K(q,4):0,U=he(q)?K(q,4):0,Q=he(q)?K(q,4):0,q=he(q)?K(q,4):0,oe=d.Qa,fe=0;4>fe;++fe){if(oe.Cb){var pe=oe.Zb[fe];oe.Fb||(pe+=S)}else{if(0<fe){d.pb[fe]=d.pb[0];continue}pe=S}var ue=d.pb[fe];ue.Sc[0]=f0[zr(pe+I,127)],ue.Sc[1]=p0[zr(pe+0,127)],ue.Eb[0]=2*f0[zr(pe+A,127)],ue.Eb[1]=101581*p0[zr(pe+U,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=f0[zr(pe+Q,117)],ue.Qc[1]=p0[zr(pe+q,127)],ue.lc=pe+q}if(!$.Rb)return hn(d,4,"Not a key frame.");for(he(B),$=d.Pa,S=0;4>S;++S){for(I=0;8>I;++I)for(A=0;3>A;++A)for(U=0;11>U;++U)Q=ge(B,bP[S][I][A][U])?J(B,8):yP[S][I][A][U],$.Wc[S][I].Yb[A][U]=Q;for(I=0;17>I;++I)$.Xc[S][I]=$.Wc[S][xP[I]]}return d.kc=he(B),d.kc&&(d.Bd=J(B,8)),d.cb=1}function hf(d,g,S,A,I,B,$){var U=g[I].Yb[S];for(S=0;16>I;++I){if(!ge(d,U[S+0]))return I;for(;!ge(d,U[S+1]);)if(U=g[++I].Yb[0],S=0,I==16)return 16;var q=g[I+1].Yb;if(ge(d,U[S+2])){var Q=d,oe=0;if(ge(Q,(pe=U)[(fe=S)+3]))if(ge(Q,pe[fe+6])){for(U=0,fe=2*(oe=ge(Q,pe[fe+8]))+(pe=ge(Q,pe[fe+9+oe])),oe=0,pe=mP[fe];pe[U];++U)oe+=oe+ge(Q,pe[U]);oe+=3+(8<<fe)}else ge(Q,pe[fe+7])?(oe=7+2*ge(Q,165),oe+=ge(Q,145)):oe=5+ge(Q,159);else oe=ge(Q,pe[fe+4])?3+ge(Q,pe[fe+5]):2;U=q[2]}else oe=1,U=q[1];q=$+vP[I],0>(Q=d).b&&ce(Q);var fe,pe=Q.b,ue=(fe=Q.Ca>>1)-(Q.I>>pe)>>31;--Q.b,Q.Ca+=ue,Q.Ca|=1,Q.I-=(fe+1&ue)<<pe,B[q]=((oe^ue)-ue)*A[(0<I)+0]}return 16}function _u(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function Hm(d,g){if(d==null)return 0;if(g==null)return hn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!uf(d,g))return 0;if(e(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var S=Bf[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-S>>4,d.zb=g.j-S>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+S>>4,d.Hb=g.va+15+S>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var A=d.ed;for(S=0;4>S;++S){var I;if(d.Qa.Cb){var B=d.Qa.Lb[S];d.Qa.Fb||(B+=A.Tb)}else B=A.Tb;for(I=0;1>=I;++I){var $=d.gd[S][I],U=B;if(A.Pc&&(U+=A.vd[0],I&&(U+=A.od[0])),0<(U=0>U?0:63<U?63:U)){var q=U;0<A.wb&&(q=4<A.wb?q>>2:q>>1)>9-A.wb&&(q=9-A.wb),1>q&&(q=1),$.dd=q,$.tc=2*U+q,$.ld=40<=U?2:15<=U?1:0}else $.tc=0;$.La=I}}}S=0}else hn(d,6,"Frame setup failed"),S=d.a;if(S=S==0){if(S){d.$c=0,0<d.Aa||(d.Ic=IP);e:{S=d.Ic,A=4*(q=d.za);var Q=32*q,oe=q+1,fe=0<d.L?q*(0<d.Aa?2:1):0,pe=(d.Aa==2?2:1)*q;if(($=A+832+(I=3*(16*S+Bf[d.L])/2*Q)+(B=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=$)S=0;else{if($>d.Vb){if(d.Vb=0,d.Ec=s($),d.Fc=0,d.Ec==null){S=hn(d,1,"no memory during frame initialization.");break e}d.Vb=$}$=d.Ec,U=d.Fc,d.Ac=$,d.Bc=U,U+=A,d.Gd=o(Q,lf),d.Hd=0,d.rb=o(oe+1,af),d.sb=1,d.wa=fe?o(fe,Il):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=q),e(!0),d.oc=$,d.pc=U,U+=832,d.ya=o(pe,xu),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=q),d.R=16*q,d.B=8*q,q=(Q=Bf[d.L])*d.R,Q=Q/2*d.B,d.sa=$,d.ta=U+q,d.qa=d.sa,d.ra=d.ta+16*S*d.R+Q,d.Ha=d.qa,d.Ia=d.ra+8*S*d.B+Q,d.$c=0,U+=I,d.mb=B?$:null,d.nb=B?U:null,e(U+B<=d.Fc+d.Vb),_u(d),i(d.Ac,d.Bc,0,A),S=1}}if(S){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!Lf){for(S=-255;255>=S;++S)Pn[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)$s[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)Wu[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Zl[255+S]=0>S?0:255<S?255:S;Lf=1}Jl=Vm,Bs=Wm,zu=ff,fr=qm,oi=pf,dn=df,Xl=Cu,Ef=xa,Uu=s0,ka=Eu,Aa=i0,vo=zl,Pa=Lu,Ql=Sf,Na=_f,yo=cs,Hu=Ms,ai=r0,Oi[0]=ls,Oi[1]=Gm,Oi[2]=Xm,Oi[3]=Qm,Oi[4]=vf,Oi[5]=Bl,Oi[6]=yf,Oi[7]=Au,Oi[8]=e0,Oi[9]=Zm,wo[0]=gf,wo[1]=Km,wo[2]=Rs,wo[3]=Fl,wo[4]=Jn,wo[5]=Jm,wo[6]=mf,zs[0]=ho,zs[1]=Ym,zs[2]=t0,zs[3]=Pu,zs[4]=ba,zs[5]=n0,zs[6]=Nu,S=1}else S=0}S&&(S=function(ue,xe){for(ue.M=0;ue.M<ue.Va;++ue.M){var me,ae=ue.Jc[ue.M&ue.Xb],le=ue.m,we=ue;for(me=0;me<we.za;++me){var _e=le,be=we,De=be.Ac,Ee=be.Bc+4*me,qe=be.zc,Te=be.ya[be.aa+me];if(be.Qa.Bb?Te.$b=ge(_e,be.Pa.jb[0])?2+ge(_e,be.Pa.jb[2]):ge(_e,be.Pa.jb[1]):Te.$b=0,be.kc&&(Te.Ad=ge(_e,be.Bd)),Te.Za=!ge(_e,145)+0,Te.Za){var xt=Te.Ob,kt=0;for(be=0;4>be;++be){var vt,ht=qe[0+be];for(vt=0;4>vt;++vt){ht=wP[De[Ee+vt]][ht];for(var Ft=G5[ge(_e,ht[0])];0<Ft;)Ft=G5[2*Ft+ge(_e,ht[Ft])];ht=-Ft,De[Ee+vt]=ht}r(xt,kt,De,Ee,4),kt+=4,qe[0+be]=ht}}else ht=ge(_e,156)?ge(_e,128)?1:3:ge(_e,163)?2:0,Te.Ob[0]=ht,i(De,Ee,ht,4),i(qe,0,ht,4);Te.Dd=ge(_e,142)?ge(_e,114)?ge(_e,183)?1:3:2:0}if(we.m.Ka)return hn(ue,7,"Premature end-of-partition0 encountered.");for(;ue.ja<ue.za;++ue.ja){if(we=ae,_e=(le=ue).rb[le.sb-1],De=le.rb[le.sb+le.ja],me=le.ya[le.aa+le.ja],Ee=le.kc?me.Ad:0)_e.la=De.la=0,me.Za||(_e.Na=De.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var Ot,it;if(_e=De,De=we,Ee=le.Pa.Xc,qe=le.ya[le.aa+le.ja],Te=le.pb[qe.$b],be=qe.ad,xt=0,kt=le.rb[le.sb-1],ht=vt=0,i(be,xt,0,384),qe.Za)var _n=0,kr=Ee[3];else{Ft=s(16);var Sn=_e.Na+kt.Na;if(Sn=qu(De,Ee[1],Sn,Te.Eb,0,Ft,0),_e.Na=kt.Na=(0<Sn)+0,1<Sn)Jl(Ft,0,be,xt);else{var Ar=Ft[0]+3>>3;for(Ft=0;256>Ft;Ft+=16)be[xt+Ft]=Ar}_n=1,kr=Ee[0]}var At=15&_e.la,Hr=15&kt.la;for(Ft=0;4>Ft;++Ft){var Wr=1&Hr;for(Ar=it=0;4>Ar;++Ar)At=At>>1|(Wr=(Sn=qu(De,kr,Sn=Wr+(1&At),Te.Sc,_n,be,xt))>_n)<<7,it=it<<2|(3<Sn?3:1<Sn?2:be[xt+0]!=0),xt+=16;At>>=4,Hr=Hr>>1|Wr<<7,vt=(vt<<8|it)>>>0}for(kr=At,_n=Hr>>4,Ot=0;4>Ot;Ot+=2){for(it=0,At=_e.la>>4+Ot,Hr=kt.la>>4+Ot,Ft=0;2>Ft;++Ft){for(Wr=1&Hr,Ar=0;2>Ar;++Ar)Sn=Wr+(1&At),At=At>>1|(Wr=0<(Sn=qu(De,Ee[2],Sn,Te.Qc,0,be,xt)))<<3,it=it<<2|(3<Sn?3:1<Sn?2:be[xt+0]!=0),xt+=16;At>>=2,Hr=Hr>>1|Wr<<5}ht|=it<<4*Ot,kr|=At<<4<<Ot,_n|=(240&Hr)<<Ot}_e.la=kr,kt.la=_n,qe.Hc=vt,qe.Gc=ht,qe.ia=43690&ht?0:Te.ia,Ee=!(vt|ht)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[me.$b][me.Za],le.wa[le.Y+le.ja].La|=!Ee),we.Ka)return hn(ue,7,"Premature end-of-file encountered.")}if(_u(ue),le=xe,we=1,me=(ae=ue).D,_e=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(me.M=ae.M,me.uc=_e,Mu(ae,me),we=1,me=(it=ae.D).Nb,_e=(ht=Bf[ae.L])*ae.R,De=ht/2*ae.B,Ft=16*me*ae.R,Ar=8*me*ae.B,Ee=ae.sa,qe=ae.ta-_e+Ft,Te=ae.qa,be=ae.ra-De+Ar,xt=ae.Ha,kt=ae.Ia-De+Ar,Hr=(At=it.M)==0,vt=At>=ae.Va-1,ae.Aa==2&&Mu(ae,it),it.uc)for(Wr=(Sn=ae).D.M,e(Sn.D.uc),it=Sn.yb;it<Sn.Hb;++it){_n=it,kr=Wr;var Rn=(Hn=(on=Sn).D).Nb;Ot=on.R;var Hn=Hn.wa[Hn.Y+_n],pr=on.sa,hi=on.ta+16*Rn*Ot+16*_n,hs=Hn.dd,Mn=Hn.tc;if(Mn!=0)if(e(3<=Mn),on.L==1)0<_n&&yo(pr,hi,Ot,Mn+4),Hn.La&&ai(pr,hi,Ot,Mn),0<kr&&Na(pr,hi,Ot,Mn+4),Hn.La&&Hu(pr,hi,Ot,Mn);else{var Us=on.B,Ca=on.qa,ec=on.ra+8*Rn*Us+8*_n,xo=on.Ha,on=on.Ia+8*Rn*Us+8*_n;Rn=Hn.ld,0<_n&&(Ef(pr,hi,Ot,Mn+4,hs,Rn),ka(Ca,ec,xo,on,Us,Mn+4,hs,Rn)),Hn.La&&(vo(pr,hi,Ot,Mn,hs,Rn),Ql(Ca,ec,xo,on,Us,Mn,hs,Rn)),0<kr&&(Xl(pr,hi,Ot,Mn+4,hs,Rn),Uu(Ca,ec,xo,on,Us,Mn+4,hs,Rn)),Hn.La&&(Aa(pr,hi,Ot,Mn,hs,Rn),Pa(Ca,ec,xo,on,Us,Mn,hs,Rn))}}if(ae.ia&&alert("todo:DitherRow"),le.put!=null){if(it=16*At,At=16*(At+1),Hr?(le.y=ae.sa,le.O=ae.ta+Ft,le.f=ae.qa,le.N=ae.ra+Ar,le.ea=ae.Ha,le.W=ae.Ia+Ar):(it-=ht,le.y=Ee,le.O=qe,le.f=Te,le.N=be,le.ea=xt,le.W=kt),vt||(At-=ht),At>le.o&&(At=le.o),le.F=null,le.J=null,ae.Fa!=null&&0<ae.Fa.length&&it<At&&(le.J=Iu(ae,le,it,At-it),le.F=ae.mb,le.F==null&&le.F.length==0)){we=hn(ae,3,"Could not decode alpha data.");break e}it<le.j&&(ht=le.j-it,it=le.j,e(!(1&ht)),le.O+=ae.R*ht,le.N+=ae.B*(ht>>1),le.W+=ae.B*(ht>>1),le.F!=null&&(le.J+=le.width*ht)),it<At&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=it-le.j,le.U=le.va-le.v,le.T=At-it,we=le.put(le))}me+1!=ae.Ic||vt||(r(ae.sa,ae.ta-_e,Ee,qe+16*ae.R,_e),r(ae.qa,ae.ra-De,Te,be+8*ae.B,De),r(ae.Ha,ae.Ia-De,xt,kt+8*ae.B,De))}if(!we)return hn(ue,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),S&=1}return S?(d.cb=0,S):0}function Ei(d,g,S,A,I){I=d[g+S+32*A]+(I>>3),d[g+S+32*A]=-256&I?0>I?0:255:I}function Ml(d,g,S,A,I,B){Ei(d,g,0,S,A+I),Ei(d,g,1,S,A+B),Ei(d,g,2,S,A-B),Ei(d,g,3,S,A-I)}function xr(d){return(20091*d>>16)+d}function Su(d,g,S,A){var I,B=0,$=s(16);for(I=0;4>I;++I){var U=d[g+0]+d[g+8],q=d[g+0]-d[g+8],Q=(35468*d[g+4]>>16)-xr(d[g+12]),oe=xr(d[g+4])+(35468*d[g+12]>>16);$[B+0]=U+oe,$[B+1]=q+Q,$[B+2]=q-Q,$[B+3]=U-oe,B+=4,g++}for(I=B=0;4>I;++I)U=(d=$[B+0]+4)+$[B+8],q=d-$[B+8],Q=(35468*$[B+4]>>16)-xr($[B+12]),Ei(S,A,0,0,U+(oe=xr($[B+4])+(35468*$[B+12]>>16))),Ei(S,A,1,0,q+Q),Ei(S,A,2,0,q-Q),Ei(S,A,3,0,U-oe),B++,A+=32}function df(d,g,S,A){var I=d[g+0]+4,B=35468*d[g+4]>>16,$=xr(d[g+4]),U=35468*d[g+1]>>16;Ml(S,A,0,I+$,d=xr(d[g+1]),U),Ml(S,A,1,I+B,d,U),Ml(S,A,2,I-B,d,U),Ml(S,A,3,I-$,d,U)}function Wm(d,g,S,A,I){Su(d,g,S,A),I&&Su(d,g+16,S,A+4)}function ff(d,g,S,A){Bs(d,g+0,S,A,1),Bs(d,g+32,S,A+128,1)}function qm(d,g,S,A){var I;for(d=d[g+0]+4,I=0;4>I;++I)for(g=0;4>g;++g)Ei(S,A,g,I,d)}function pf(d,g,S,A){d[g+0]&&fr(d,g+0,S,A),d[g+16]&&fr(d,g+16,S,A+4),d[g+32]&&fr(d,g+32,S,A+128),d[g+48]&&fr(d,g+48,S,A+128+4)}function Vm(d,g,S,A){var I,B=s(16);for(I=0;4>I;++I){var $=d[g+0+I]+d[g+12+I],U=d[g+4+I]+d[g+8+I],q=d[g+4+I]-d[g+8+I],Q=d[g+0+I]-d[g+12+I];B[0+I]=$+U,B[8+I]=$-U,B[4+I]=Q+q,B[12+I]=Q-q}for(I=0;4>I;++I)$=(d=B[0+4*I]+3)+B[3+4*I],U=B[1+4*I]+B[2+4*I],q=B[1+4*I]-B[2+4*I],Q=d-B[3+4*I],S[A+0]=$+U>>3,S[A+16]=Q+q>>3,S[A+32]=$-U>>3,S[A+48]=Q-q>>3,A+=64}function ku(d,g,S){var A,I=g-32,B=Ur,$=255-d[I-1];for(A=0;A<S;++A){var U,q=B,Q=$+d[g-1];for(U=0;U<S;++U)d[g+U]=q[Q+d[I+U]];g+=32}}function Gm(d,g){ku(d,g,4)}function Ym(d,g){ku(d,g,8)}function Km(d,g){ku(d,g,16)}function Rs(d,g){var S;for(S=0;16>S;++S)r(d,g+32*S,d,g-32,16)}function Fl(d,g){var S;for(S=16;0<S;--S)i(d,g,d[g-1],16),g+=32}function Dl(d,g,S){var A;for(A=0;16>A;++A)i(g,S+32*A,d,16)}function gf(d,g){var S,A=16;for(S=0;16>S;++S)A+=d[g-1+32*S]+d[g+S-32];Dl(A>>5,d,g)}function Jn(d,g){var S,A=8;for(S=0;16>S;++S)A+=d[g-1+32*S];Dl(A>>4,d,g)}function Jm(d,g){var S,A=8;for(S=0;16>S;++S)A+=d[g+S-32];Dl(A>>4,d,g)}function mf(d,g){Dl(128,d,g)}function Xe(d,g,S){return d+2*g+S+2>>2}function Xm(d,g){var S,A=g-32;for(A=new Uint8Array([Xe(d[A-1],d[A+0],d[A+1]),Xe(d[A+0],d[A+1],d[A+2]),Xe(d[A+1],d[A+2],d[A+3]),Xe(d[A+2],d[A+3],d[A+4])]),S=0;4>S;++S)r(d,g+32*S,A,0,A.length)}function Qm(d,g){var S=d[g-1],A=d[g-1+32],I=d[g-1+64],B=d[g-1+96];Ae(d,g+0,16843009*Xe(d[g-1-32],S,A)),Ae(d,g+32,16843009*Xe(S,A,I)),Ae(d,g+64,16843009*Xe(A,I,B)),Ae(d,g+96,16843009*Xe(I,B,B))}function ls(d,g){var S,A=4;for(S=0;4>S;++S)A+=d[g+S-32]+d[g-1+32*S];for(A>>=3,S=0;4>S;++S)i(d,g+32*S,A,4)}function vf(d,g){var S=d[g-1+0],A=d[g-1+32],I=d[g-1+64],B=d[g-1-32],$=d[g+0-32],U=d[g+1-32],q=d[g+2-32],Q=d[g+3-32];d[g+0+96]=Xe(A,I,d[g-1+96]),d[g+1+96]=d[g+0+64]=Xe(S,A,I),d[g+2+96]=d[g+1+64]=d[g+0+32]=Xe(B,S,A),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Xe($,B,S),d[g+3+64]=d[g+2+32]=d[g+1+0]=Xe(U,$,B),d[g+3+32]=d[g+2+0]=Xe(q,U,$),d[g+3+0]=Xe(Q,q,U)}function yf(d,g){var S=d[g+1-32],A=d[g+2-32],I=d[g+3-32],B=d[g+4-32],$=d[g+5-32],U=d[g+6-32],q=d[g+7-32];d[g+0+0]=Xe(d[g+0-32],S,A),d[g+1+0]=d[g+0+32]=Xe(S,A,I),d[g+2+0]=d[g+1+32]=d[g+0+64]=Xe(A,I,B),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Xe(I,B,$),d[g+3+32]=d[g+2+64]=d[g+1+96]=Xe(B,$,U),d[g+3+64]=d[g+2+96]=Xe($,U,q),d[g+3+96]=Xe(U,q,q)}function Bl(d,g){var S=d[g-1+0],A=d[g-1+32],I=d[g-1+64],B=d[g-1-32],$=d[g+0-32],U=d[g+1-32],q=d[g+2-32],Q=d[g+3-32];d[g+0+0]=d[g+1+64]=B+$+1>>1,d[g+1+0]=d[g+2+64]=$+U+1>>1,d[g+2+0]=d[g+3+64]=U+q+1>>1,d[g+3+0]=q+Q+1>>1,d[g+0+96]=Xe(I,A,S),d[g+0+64]=Xe(A,S,B),d[g+0+32]=d[g+1+96]=Xe(S,B,$),d[g+1+32]=d[g+2+96]=Xe(B,$,U),d[g+2+32]=d[g+3+96]=Xe($,U,q),d[g+3+32]=Xe(U,q,Q)}function Au(d,g){var S=d[g+0-32],A=d[g+1-32],I=d[g+2-32],B=d[g+3-32],$=d[g+4-32],U=d[g+5-32],q=d[g+6-32],Q=d[g+7-32];d[g+0+0]=S+A+1>>1,d[g+1+0]=d[g+0+64]=A+I+1>>1,d[g+2+0]=d[g+1+64]=I+B+1>>1,d[g+3+0]=d[g+2+64]=B+$+1>>1,d[g+0+32]=Xe(S,A,I),d[g+1+32]=d[g+0+96]=Xe(A,I,B),d[g+2+32]=d[g+1+96]=Xe(I,B,$),d[g+3+32]=d[g+2+96]=Xe(B,$,U),d[g+3+64]=Xe($,U,q),d[g+3+96]=Xe(U,q,Q)}function Zm(d,g){var S=d[g-1+0],A=d[g-1+32],I=d[g-1+64],B=d[g-1+96];d[g+0+0]=S+A+1>>1,d[g+2+0]=d[g+0+32]=A+I+1>>1,d[g+2+32]=d[g+0+64]=I+B+1>>1,d[g+1+0]=Xe(S,A,I),d[g+3+0]=d[g+1+32]=Xe(A,I,B),d[g+3+32]=d[g+1+64]=Xe(I,B,B),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=B}function e0(d,g){var S=d[g-1+0],A=d[g-1+32],I=d[g-1+64],B=d[g-1+96],$=d[g-1-32],U=d[g+0-32],q=d[g+1-32],Q=d[g+2-32];d[g+0+0]=d[g+2+32]=S+$+1>>1,d[g+0+32]=d[g+2+64]=A+S+1>>1,d[g+0+64]=d[g+2+96]=I+A+1>>1,d[g+0+96]=B+I+1>>1,d[g+3+0]=Xe(U,q,Q),d[g+2+0]=Xe($,U,q),d[g+1+0]=d[g+3+32]=Xe(S,$,U),d[g+1+32]=d[g+3+64]=Xe(A,S,$),d[g+1+64]=d[g+3+96]=Xe(I,A,S),d[g+1+96]=Xe(B,I,A)}function t0(d,g){var S;for(S=0;8>S;++S)r(d,g+32*S,d,g-32,8)}function Pu(d,g){var S;for(S=0;8>S;++S)i(d,g,d[g-1],8),g+=32}function wa(d,g,S){var A;for(A=0;8>A;++A)i(g,S+32*A,d,8)}function ho(d,g){var S,A=8;for(S=0;8>S;++S)A+=d[g+S-32]+d[g-1+32*S];wa(A>>4,d,g)}function n0(d,g){var S,A=4;for(S=0;8>S;++S)A+=d[g+S-32];wa(A>>3,d,g)}function ba(d,g){var S,A=4;for(S=0;8>S;++S)A+=d[g-1+32*S];wa(A>>3,d,g)}function Nu(d,g){wa(128,d,g)}function $l(d,g,S){var A=d[g-S],I=d[g+0],B=3*(I-A)+l0[1020+d[g-2*S]-d[g+S]],$=jf[112+(B+4>>3)];d[g-S]=Ur[255+A+jf[112+(B+3>>3)]],d[g+0]=Ur[255+I-$]}function wf(d,g,S,A){var I=d[g+0],B=d[g+S];return ci[255+d[g-2*S]-d[g-S]]>A||ci[255+B-I]>A}function bf(d,g,S,A){return 4*ci[255+d[g-S]-d[g+0]]+ci[255+d[g-2*S]-d[g+S]]<=A}function xf(d,g,S,A,I){var B=d[g-3*S],$=d[g-2*S],U=d[g-S],q=d[g+0],Q=d[g+S],oe=d[g+2*S],fe=d[g+3*S];return 4*ci[255+U-q]+ci[255+$-Q]>A?0:ci[255+d[g-4*S]-B]<=I&&ci[255+B-$]<=I&&ci[255+$-U]<=I&&ci[255+fe-oe]<=I&&ci[255+oe-Q]<=I&&ci[255+Q-q]<=I}function _f(d,g,S,A){var I=2*A+1;for(A=0;16>A;++A)bf(d,g+A,S,I)&&$l(d,g+A,S)}function cs(d,g,S,A){var I=2*A+1;for(A=0;16>A;++A)bf(d,g+A*S,1,I)&&$l(d,g+A*S,1)}function Ms(d,g,S,A){var I;for(I=3;0<I;--I)_f(d,g+=4*S,S,A)}function r0(d,g,S,A){var I;for(I=3;0<I;--I)cs(d,g+=4,S,A)}function fo(d,g,S,A,I,B,$,U){for(B=2*B+1;0<I--;){if(xf(d,g,S,B,$))if(wf(d,g,S,U))$l(d,g,S);else{var q=d,Q=g,oe=S,fe=q[Q-2*oe],pe=q[Q-oe],ue=q[Q+0],xe=q[Q+oe],me=q[Q+2*oe],ae=27*(we=l0[1020+3*(ue-pe)+l0[1020+fe-xe]])+63>>7,le=18*we+63>>7,we=9*we+63>>7;q[Q-3*oe]=Ur[255+q[Q-3*oe]+we],q[Q-2*oe]=Ur[255+fe+le],q[Q-oe]=Ur[255+pe+ae],q[Q+0]=Ur[255+ue-ae],q[Q+oe]=Ur[255+xe-le],q[Q+2*oe]=Ur[255+me-we]}g+=A}}function Li(d,g,S,A,I,B,$,U){for(B=2*B+1;0<I--;){if(xf(d,g,S,B,$))if(wf(d,g,S,U))$l(d,g,S);else{var q=d,Q=g,oe=S,fe=q[Q-oe],pe=q[Q+0],ue=q[Q+oe],xe=jf[112+((me=3*(pe-fe))+4>>3)],me=jf[112+(me+3>>3)],ae=xe+1>>1;q[Q-2*oe]=Ur[255+q[Q-2*oe]+ae],q[Q-oe]=Ur[255+fe+me],q[Q+0]=Ur[255+pe-xe],q[Q+oe]=Ur[255+ue-ae]}g+=A}}function Cu(d,g,S,A,I,B){fo(d,g,S,1,16,A,I,B)}function xa(d,g,S,A,I,B){fo(d,g,1,S,16,A,I,B)}function i0(d,g,S,A,I,B){var $;for($=3;0<$;--$)Li(d,g+=4*S,S,1,16,A,I,B)}function zl(d,g,S,A,I,B){var $;for($=3;0<$;--$)Li(d,g+=4,1,S,16,A,I,B)}function s0(d,g,S,A,I,B,$,U){fo(d,g,I,1,8,B,$,U),fo(S,A,I,1,8,B,$,U)}function Eu(d,g,S,A,I,B,$,U){fo(d,g,1,I,8,B,$,U),fo(S,A,1,I,8,B,$,U)}function Lu(d,g,S,A,I,B,$,U){Li(d,g+4*I,I,1,8,B,$,U),Li(S,A+4*I,I,1,8,B,$,U)}function Sf(d,g,S,A,I,B,$,U){Li(d,g+4,1,I,8,B,$,U),Li(S,A+4,1,I,8,B,$,U)}function Ul(){this.ba=new ki,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ju(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ou(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kf(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new O}function o0(){this.xb=this.a=0,this.l=new Rl,this.ca=new ki,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kf,this.ab=0,this.gc=o(4,Ou),this.Oc=0}function Hl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _a(d,g,S,A,I,B,$){for(d=d==null?0:d[g+0],g=0;g<$;++g)I[B+g]=d+S[A+g]&255,d=I[B+g]}function Tu(d,g,S,A,I,B,$){var U;if(d==null)_a(null,null,S,A,I,B,$);else for(U=0;U<$;++U)I[B+U]=d[g+U]+S[A+U]&255}function po(d,g,S,A,I,B,$){if(d==null)_a(null,null,S,A,I,B,$);else{var U,q=d[g+0],Q=q,oe=q;for(U=0;U<$;++U)Q=oe+(q=d[g+U])-Q,oe=S[A+U]+(-256&Q?0>Q?0:255:Q)&255,Q=q,I[B+U]=oe}}function Iu(d,g,S,A){var I=g.width,B=g.o;if(e(d!=null&&g!=null),0>S||0>=A||S+A>B)return null;if(!d.Cc){if(d.ga==null){var $;if(d.ga=new Hl,($=d.ga==null)||($=g.width*g.o,e(d.Gb.length==0),d.Gb=s($),d.Uc=0,d.Gb==null?$=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,$=1),$=!$),!$){$=d.ga;var U=d.Fa,q=d.P,Q=d.qc,oe=d.mb,fe=d.nb,pe=q+1,ue=Q-1,xe=$.l;if(e(U!=null&&oe!=null&&g!=null),bo[0]=null,bo[1]=_a,bo[2]=Tu,bo[3]=po,$.ca=oe,$.tb=fe,$.c=g.width,$.i=g.height,e(0<$.c&&0<$.i),1>=Q)g=0;else if($.$a=U[q+0]>>0&3,$.Z=U[q+0]>>2&3,$.Lc=U[q+0]>>4&3,q=U[q+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||q)g=0;else if(xe.put=rs,xe.ac=zn,xe.bc=is,xe.ma=$,xe.width=g.width,xe.height=g.height,xe.Da=g.Da,xe.v=g.v,xe.va=g.va,xe.j=g.j,xe.o=g.o,$.$a)e:{e($.$a==1),g=ii();t:for(;;){if(g==null){g=0;break e}if(e($!=null),$.mc=g,g.c=$.c,g.i=$.i,g.l=$.l,g.l.ma=$,g.l.width=$.c,g.l.height=$.i,g.a=0,Y(g.m,U,pe,ue),!as($.c,$.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Is(g.s)?($.ic=1,U=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(U),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):($.ic=0,g=ya(g,$.c)),!g))break t;g=1;break e}$.mc=null,g=0}else g=ue>=$.c*$.i;$=!g}if($)return null;d.ga.Lc!=1?d.Ga=0:A=B-S}e(d.ga!=null),e(S+A<=B);e:{if(g=(U=d.ga).c,B=U.l.o,U.$a==0){if(pe=d.rc,ue=d.Vc,xe=d.Fa,q=d.P+1+S*g,Q=d.mb,oe=d.nb+S*g,e(q<=d.P+d.qc),U.Z!=0)for(e(bo[U.Z]!=null),$=0;$<A;++$)bo[U.Z](pe,ue,xe,q,Q,oe,g),pe=Q,ue=oe,oe+=g,q+=g;else for($=0;$<A;++$)r(Q,oe,xe,q,g),pe=Q,ue=oe,oe+=g,q+=g;d.rc=pe,d.Vc=ue}else{if(e(U.mc!=null),g=S+A,e(($=U.mc)!=null),e(g<=$.i),$.C>=g)g=1;else if(U.ic||de(),U.ic){U=$.V,pe=$.Ba,ue=$.c;var me=$.i,ae=(xe=1,q=$.$/ue,Q=$.$%ue,oe=$.m,fe=$.s,$.$),le=ue*me,we=ue*g,_e=fe.wc,be=ae<we?bn(fe,Q,q):null;e(ae<=le),e(g<=me),e(Is(fe));t:for(;;){for(;!oe.h&&ae<we;){if(Q&_e||(be=bn(fe,Q,q)),e(be!=null),ee(oe),256>(me=br(be.G[0],be.H[0],oe)))U[pe+ae]=me,++ae,++Q>=ue&&(Q=0,++q<=g&&!(q%16)&&Ni($,q));else{if(!(280>me)){xe=0;break t}me=Ai(me-256,oe);var De,Ee=br(be.G[4],be.H[4],oe);if(ee(oe),!(ae>=(Ee=ss(ue,Ee=Ai(Ee,oe)))&&le-ae>=me)){xe=0;break t}for(De=0;De<me;++De)U[pe+ae+De]=U[pe+ae+De-Ee];for(ae+=me,Q+=me;Q>=ue;)Q-=ue,++q<=g&&!(q%16)&&Ni($,q);ae<we&&Q&_e&&(be=bn(fe,Q,q))}e(oe.h==G(oe))}Ni($,q>g?g:q);break t}!xe||oe.h&&ae<le?(xe=0,$.a=oe.h?5:3):$.$=ae,g=xe}else g=Ci($,$.V,$.Ba,$.c,$.i,g,Ll);if(!g){A=0;break e}}S+A>=B&&(d.Cc=1),A=1}if(!A)return null;if(d.Cc&&((A=d.ga)!=null&&(A.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+S*I}function b(d,g,S,A,I,B){for(;0<I--;){var $,U=d,q=g+(S?1:0),Q=d,oe=g+(S?0:3);for($=0;$<A;++$){var fe=Q[oe+4*$];fe!=255&&(fe*=32897,U[q+4*$+0]=U[q+4*$+0]*fe>>23,U[q+4*$+1]=U[q+4*$+1]*fe>>23,U[q+4*$+2]=U[q+4*$+2]*fe>>23)}g+=B}}function R(d,g,S,A,I){for(;0<A--;){var B;for(B=0;B<S;++B){var $=d[g+2*B+0],U=15&(Q=d[g+2*B+1]),q=4369*U,Q=(240&Q|Q>>4)*q>>16;d[g+2*B+0]=(240&$|$>>4)*q>>16&240|(15&$|$<<4)*q>>16>>4&15,d[g+2*B+1]=240&Q|U}g+=I}}function te(d,g,S,A,I,B,$,U){var q,Q,oe=255;for(Q=0;Q<I;++Q){for(q=0;q<A;++q){var fe=d[g+q];B[$+4*q]=fe,oe&=fe}g+=S,$+=U}return oe!=255}function se(d,g,S,A,I){var B;for(B=0;B<I;++B)S[A+B]=d[g+B]>>8}function de(){li=b,Bt=R,$t=te,fn=se}function ve(d,g,S){L[d]=function(A,I,B,$,U,q,Q,oe,fe,pe,ue,xe,me,ae,le,we,_e){var be,De=_e-1>>1,Ee=U[q+0]|Q[oe+0]<<16,qe=fe[pe+0]|ue[xe+0]<<16;e(A!=null);var Te=3*Ee+qe+131074>>2;for(g(A[I+0],255&Te,Te>>16,me,ae),B!=null&&(Te=3*qe+Ee+131074>>2,g(B[$+0],255&Te,Te>>16,le,we)),be=1;be<=De;++be){var xt=U[q+be]|Q[oe+be]<<16,kt=fe[pe+be]|ue[xe+be]<<16,vt=Ee+xt+qe+kt+524296,ht=vt+2*(xt+qe)>>3;Te=ht+Ee>>1,Ee=(vt=vt+2*(Ee+kt)>>3)+xt>>1,g(A[I+2*be-1],255&Te,Te>>16,me,ae+(2*be-1)*S),g(A[I+2*be-0],255&Ee,Ee>>16,me,ae+(2*be-0)*S),B!=null&&(Te=vt+qe>>1,Ee=ht+kt>>1,g(B[$+2*be-1],255&Te,Te>>16,le,we+(2*be-1)*S),g(B[$+2*be+0],255&Ee,Ee>>16,le,we+(2*be+0)*S)),Ee=xt,qe=kt}1&_e||(Te=3*Ee+qe+131074>>2,g(A[I+_e-1],255&Te,Te>>16,me,ae+(_e-1)*S),B!=null&&(Te=3*qe+Ee+131074>>2,g(B[$+_e-1],255&Te,Te>>16,le,we+(_e-1)*S)))}}function ke(){ui[Of]=SP,ui[Tf]=K5,ui[W5]=kP,ui[If]=J5,ui[Rf]=X5,ui[c0]=Q5,ui[q5]=AP,ui[u0]=K5,ui[h0]=J5,ui[Mf]=X5,ui[d0]=Q5}function Fe(d){return d&~PP?0>d?0:255:d>>Z5}function We(d,g){return Fe((19077*d>>8)+(26149*g>>8)-14234)}function rt(d,g,S){return Fe((19077*d>>8)-(6419*g>>8)-(13320*S>>8)+8708)}function et(d,g){return Fe((19077*d>>8)+(33050*g>>8)-17685)}function pt(d,g,S,A,I){A[I+0]=We(d,S),A[I+1]=rt(d,g,S),A[I+2]=et(d,g)}function Xt(d,g,S,A,I){A[I+0]=et(d,g),A[I+1]=rt(d,g,S),A[I+2]=We(d,S)}function sn(d,g,S,A,I){var B=rt(d,g,S);g=B<<3&224|et(d,g)>>3,A[I+0]=248&We(d,S)|B>>5,A[I+1]=g}function xn(d,g,S,A,I){var B=240&et(d,g)|15;A[I+0]=240&We(d,S)|rt(d,g,S)>>4,A[I+1]=B}function Xn(d,g,S,A,I){A[I+0]=255,pt(d,g,S,A,I+1)}function In(d,g,S,A,I){Xt(d,g,S,A,I),A[I+3]=255}function ji(d,g,S,A,I){pt(d,g,S,A,I),A[I+3]=255}function zr(d,g){return 0>d?0:d>g?g:d}function us(d,g,S){L[d]=function(A,I,B,$,U,q,Q,oe,fe){for(var pe=oe+(-2&fe)*S;oe!=pe;)g(A[I+0],B[$+0],U[q+0],Q,oe),g(A[I+1],B[$+0],U[q+0],Q,oe+S),I+=2,++$,++q,oe+=2*S;1&fe&&g(A[I+0],B[$+0],U[q+0],Q,oe)}}function Af(d,g,S){return S==0?d==0?g==0?6:5:g==0?4:0:S}function Ru(d,g,S,A,I){switch(d>>>30){case 3:Bs(g,S,A,I,0);break;case 2:dn(g,S,A,I);break;case 1:fr(g,S,A,I)}}function Mu(d,g){var S,A,I=g.M,B=g.Nb,$=d.oc,U=d.pc+40,q=d.oc,Q=d.pc+584,oe=d.oc,fe=d.pc+600;for(S=0;16>S;++S)$[U+32*S-1]=129;for(S=0;8>S;++S)q[Q+32*S-1]=129,oe[fe+32*S-1]=129;for(0<I?$[U-1-32]=q[Q-1-32]=oe[fe-1-32]=129:(i($,U-32-1,127,21),i(q,Q-32-1,127,9),i(oe,fe-32-1,127,9)),A=0;A<d.za;++A){var pe=g.ya[g.aa+A];if(0<A){for(S=-1;16>S;++S)r($,U+32*S-4,$,U+32*S+12,4);for(S=-1;8>S;++S)r(q,Q+32*S-4,q,Q+32*S+4,4),r(oe,fe+32*S-4,oe,fe+32*S+4,4)}var ue=d.Gd,xe=d.Hd+A,me=pe.ad,ae=pe.Hc;if(0<I&&(r($,U-32,ue[xe].y,0,16),r(q,Q-32,ue[xe].f,0,8),r(oe,fe-32,ue[xe].ea,0,8)),pe.Za){var le=$,we=U-32+16;for(0<I&&(A>=d.za-1?i(le,we,ue[xe].y[15],4):r(le,we,ue[xe+1].y,0,4)),S=0;4>S;S++)le[we+128+S]=le[we+256+S]=le[we+384+S]=le[we+0+S];for(S=0;16>S;++S,ae<<=2)le=$,we=U+tw[S],Oi[pe.Ob[S]](le,we),Ru(ae,me,16*+S,le,we)}else if(le=Af(A,I,pe.Ob[0]),wo[le]($,U),ae!=0)for(S=0;16>S;++S,ae<<=2)Ru(ae,me,16*+S,$,U+tw[S]);for(S=pe.Gc,le=Af(A,I,pe.Dd),zs[le](q,Q),zs[le](oe,fe),ae=me,le=q,we=Q,255&(pe=S>>0)&&(170&pe?zu(ae,256,le,we):oi(ae,256,le,we)),pe=oe,ae=fe,255&(S>>=8)&&(170&S?zu(me,320,pe,ae):oi(me,320,pe,ae)),I<d.Ub-1&&(r(ue[xe].y,0,$,U+480,16),r(ue[xe].f,0,q,Q+224,8),r(ue[xe].ea,0,oe,fe+224,8)),S=8*B*d.B,ue=d.sa,xe=d.ta+16*A+16*B*d.R,me=d.qa,pe=d.ra+8*A+S,ae=d.Ha,le=d.Ia+8*A+S,S=0;16>S;++S)r(ue,xe+S*d.R,$,U+32*S,16);for(S=0;8>S;++S)r(me,pe+S*d.B,q,Q+32*S,8),r(ae,le+S*d.B,oe,fe+32*S,8)}}function Wl(d,g,S,A,I,B,$,U,q){var Q=[0],oe=[0],fe=0,pe=q!=null?q.kd:0,ue=q??new ju;if(d==null||12>S)return 7;ue.data=d,ue.w=g,ue.ha=S,g=[g],S=[S],ue.gb=[ue.gb];e:{var xe=g,me=S,ae=ue.gb;if(e(d!=null),e(me!=null),e(ae!=null),ae[0]=0,12<=me[0]&&!n(d,xe[0],"RIFF")){if(n(d,xe[0]+8,"WEBP")){ae=3;break e}var le=Oe(d,xe[0]+4);if(12>le||4294967286<le){ae=3;break e}if(pe&&le>me[0]-8){ae=7;break e}ae[0]=le,xe[0]+=12,me[0]-=12}ae=0}if(ae!=0)return ae;for(le=0<ue.gb[0],S=S[0];;){e:{var we=d;me=g,ae=S;var _e=Q,be=oe,De=xe=[0];if((Te=fe=[fe])[0]=0,8>ae[0])ae=7;else{if(!n(we,me[0],"VP8X")){if(Oe(we,me[0]+4)!=10){ae=3;break e}if(18>ae[0]){ae=7;break e}var Ee=Oe(we,me[0]+8),qe=1+Le(we,me[0]+12);if(2147483648<=qe*(we=1+Le(we,me[0]+15))){ae=3;break e}De!=null&&(De[0]=Ee),_e!=null&&(_e[0]=qe),be!=null&&(be[0]=we),me[0]+=18,ae[0]-=18,Te[0]=1}ae=0}}if(fe=fe[0],xe=xe[0],ae!=0)return ae;if(me=!!(2&xe),!le&&fe)return 3;if(B!=null&&(B[0]=!!(16&xe)),$!=null&&($[0]=me),U!=null&&(U[0]=0),$=Q[0],xe=oe[0],fe&&me&&q==null){ae=0;break}if(4>S){ae=7;break}if(le&&fe||!le&&!fe&&!n(d,g[0],"ALPH")){S=[S],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{Ee=d,ae=g,le=S;var Te=ue.gb;_e=ue.na,be=ue.P,De=ue.Sa,qe=22,e(Ee!=null),e(le!=null),we=ae[0];var xt=le[0];for(e(_e!=null),e(De!=null),_e[0]=null,be[0]=null,De[0]=0;;){if(ae[0]=we,le[0]=xt,8>xt){ae=7;break e}var kt=Oe(Ee,we+4);if(4294967286<kt){ae=3;break e}var vt=8+kt+1&-2;if(qe+=vt,0<Te&&qe>Te){ae=3;break e}if(!n(Ee,we,"VP8 ")||!n(Ee,we,"VP8L")){ae=0;break e}if(xt[0]<vt){ae=7;break e}n(Ee,we,"ALPH")||(_e[0]=Ee,be[0]=we+8,De[0]=kt),we+=vt,xt-=vt}}if(S=S[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],ae!=0)break}S=[S],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(Te=d,ae=g,le=S,_e=ue.gb[0],be=ue.Ja,De=ue.xa,Ee=ae[0],we=!n(Te,Ee,"VP8 "),qe=!n(Te,Ee,"VP8L"),e(Te!=null),e(le!=null),e(be!=null),e(De!=null),8>le[0])ae=7;else{if(we||qe){if(Te=Oe(Te,Ee+4),12<=_e&&Te>_e-12){ae=3;break e}if(pe&&Te>le[0]-8){ae=7;break e}be[0]=Te,ae[0]+=8,le[0]-=8,De[0]=qe}else De[0]=5<=le[0]&&Te[Ee+0]==47&&!(Te[Ee+4]>>5),be[0]=le[0];ae=0}if(S=S[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],g=g[0],ae!=0)break;if(4294967286<ue.Ja)return 3;if(U==null||me||(U[0]=ue.xa?2:1),$=[$],xe=[xe],ue.xa){if(5>S){ae=7;break}U=$,pe=xe,me=B,d==null||5>S?d=0:5<=S&&d[g+0]==47&&!(d[g+4]>>5)?(le=[0],Te=[0],_e=[0],Y(be=new j,d,g,S),Ge(be,le,Te,_e)?(U!=null&&(U[0]=le[0]),pe!=null&&(pe[0]=Te[0]),me!=null&&(me[0]=_e[0]),d=1):d=0):d=0}else{if(10>S){ae=7;break}U=xe,d==null||10>S||!cf(d,g+3,S-3)?d=0:(pe=d[g+0]|d[g+1]<<8|d[g+2]<<16,me=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=ue.Ja||!me||!d?d=0:($&&($[0]=me),U&&(U[0]=d),d=1))}if(!d||($=$[0],xe=xe[0],fe&&(Q[0]!=$||oe[0]!=xe)))return 3;q!=null&&(q[0]=ue,q.offset=g-q.w,e(4294967286>g-q.w),e(q.offset==q.ha-S));break}return ae==0||ae==7&&fe&&q==null?(B!=null&&(B[0]|=ue.na!=null&&0<ue.na.length),A!=null&&(A[0]=$),I!=null&&(I[0]=xe),0):ae}function Fu(d,g,S){var A=g.width,I=g.height,B=0,$=0,U=A,q=I;if(g.Da=d!=null&&0<d.Da,g.Da&&(U=d.cd,q=d.bd,B=d.v,$=d.j,11>S||(B&=-2,$&=-2),0>B||0>$||0>=U||0>=q||B+U>A||$+q>I))return 0;if(g.v=B,g.j=$,g.va=B+U,g.o=$+q,g.U=U,g.T=q,g.da=d!=null&&0<d.da,g.da){if(!nt(U,q,S=[d.ib],B=[d.hb]))return 0;g.ib=S[0],g.hb=B[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*A/4&&g.hb<3*I/4,g.Kb=0),1}function Du(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function ql(d,g,S,A){if(A==null||0>=d||0>=g)return 2;if(S!=null){if(S.Da){var I=S.cd,B=S.bd,$=-2&S.v,U=-2&S.j;if(0>$||0>U||0>=I||0>=B||$+I>d||U+B>g)return 2;d=I,g=B}if(S.da){if(!nt(d,g,I=[S.ib],B=[S.hb]))return 2;d=I[0],g=B[0]}}A.width=d,A.height=g;e:{var q=A.width,Q=A.height;if(d=A.S,0>=q||0>=Q||!(d>=Of&&13>d))d=2;else{if(0>=A.Rd&&A.sd==null){$=B=I=g=0;var oe=(U=q*nw[d])*Q;if(11>d||(B=(Q+1)/2*(g=(q+1)/2),d==12&&($=(I=q)*Q)),(Q=s(oe+2*B+$))==null){d=1;break e}A.sd=Q,11>d?((q=A.f.RGBA).eb=Q,q.fb=0,q.A=U,q.size=oe):((q=A.f.kb).y=Q,q.O=0,q.fa=U,q.Fd=oe,q.f=Q,q.N=0+oe,q.Ab=g,q.Cd=B,q.ea=Q,q.W=0+oe+B,q.Db=g,q.Ed=B,d==12&&(q.F=Q,q.J=0+oe+2*B),q.Tc=$,q.lb=I)}if(g=1,I=A.S,B=A.width,$=A.height,I>=Of&&13>I)if(11>I)d=A.f.RGBA,g&=(U=Math.abs(d.A))*($-1)+B<=d.size,g&=U>=B*nw[I],g&=d.eb!=null;else{d=A.f.kb,U=(B+1)/2,oe=($+1)/2,q=Math.abs(d.fa),Q=Math.abs(d.Ab);var fe=Math.abs(d.Db),pe=Math.abs(d.lb),ue=pe*($-1)+B;g&=q*($-1)+B<=d.Fd,g&=Q*(oe-1)+U<=d.Cd,g=(g&=fe*(oe-1)+U<=d.Ed)&q>=B&Q>=U&fe>=U,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,I==12&&(g&=pe>=B,g&=ue<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||S!=null&&S.fd&&(d=Du(A)),d}var Un=64,Vl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gl=24,Yl=32,Bu=8,_r=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(d){return d},L.Predictor2=function(d,g,S){return g[S+0]},L.Predictor3=function(d,g,S){return g[S+1]},L.Predictor4=function(d,g,S){return g[S-1]},L.Predictor5=function(d,g,S){return Ie(Ie(d,g[S+1]),g[S+0])},L.Predictor6=function(d,g,S){return Ie(d,g[S-1])},L.Predictor7=function(d,g,S){return Ie(d,g[S+0])},L.Predictor8=function(d,g,S){return Ie(g[S-1],g[S+0])},L.Predictor9=function(d,g,S){return Ie(g[S+0],g[S+1])},L.Predictor10=function(d,g,S){return Ie(Ie(d,g[S-1]),Ie(g[S+0],g[S+1]))},L.Predictor11=function(d,g,S){var A=g[S+0];return 0>=st(A>>24&255,d>>24&255,(g=g[S-1])>>24&255)+st(A>>16&255,d>>16&255,g>>16&255)+st(A>>8&255,d>>8&255,g>>8&255)+st(255&A,255&d,255&g)?A:d},L.Predictor12=function(d,g,S){var A=g[S+0];return(He((d>>24&255)+(A>>24&255)-((g=g[S-1])>>24&255))<<24|He((d>>16&255)+(A>>16&255)-(g>>16&255))<<16|He((d>>8&255)+(A>>8&255)-(g>>8&255))<<8|He((255&d)+(255&A)-(255&g)))>>>0},L.Predictor13=function(d,g,S){var A=g[S-1];return(Qe((d=Ie(d,g[S+0]))>>24&255,A>>24&255)<<24|Qe(d>>16&255,A>>16&255)<<16|Qe(d>>8&255,A>>8&255)<<8|Qe(d>>0&255,A>>0&255))>>>0};var a0=L.PredictorAdd0;L.PredictorAdd1=at,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var $u=L.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Pf,si=L.ColorIndexInverseTransform,Kl=L.MapARGB,Nf=L.VP8LColorIndexInverseTransformAlpha,Cf=L.MapAlpha,go=L.VP8LPredictorsAdd=[];go.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Sa,Sr,dr,mo,Fs,Ds,Jl,Bs,dn,zu,fr,oi,Xl,Ef,Uu,ka,Aa,vo,Pa,Ql,Na,yo,Hu,ai,li,Bt,$t,fn,Pn=s(511),$s=s(2041),Wu=s(225),Zl=s(767),Lf=0,l0=$s,jf=Wu,Ur=Zl,ci=Pn,Of=0,Tf=1,W5=2,If=3,Rf=4,c0=5,q5=6,u0=7,h0=8,Mf=9,d0=10,cP=[2,3,7],uP=[3,3,11],V5=[280,256,256,256,40],hP=[0,1,1,1,0],dP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gP=8,f0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],p0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qu=null,mP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],G5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wo=[],Oi=[],zs=[],_P=1,Y5=2,bo=[],ui=[];ve("UpsampleRgbLinePair",pt,3),ve("UpsampleBgrLinePair",Xt,3),ve("UpsampleRgbaLinePair",ji,4),ve("UpsampleBgraLinePair",In,4),ve("UpsampleArgbLinePair",Xn,4),ve("UpsampleRgba4444LinePair",xn,2),ve("UpsampleRgb565LinePair",sn,2);var SP=L.UpsampleRgbLinePair,kP=L.UpsampleBgrLinePair,K5=L.UpsampleRgbaLinePair,J5=L.UpsampleBgraLinePair,X5=L.UpsampleArgbLinePair,Q5=L.UpsampleRgba4444LinePair,AP=L.UpsampleRgb565LinePair,Ff=16,Df=1<<Ff-1,Vu=-227,g0=482,Z5=6,PP=(256<<Z5)-1,ew=0,NP=s(256),CP=s(256),EP=s(256),LP=s(256),jP=s(g0-Vu),OP=s(g0-Vu);us("YuvToRgbRow",pt,3),us("YuvToBgrRow",Xt,3),us("YuvToRgbaRow",ji,4),us("YuvToBgraRow",In,4),us("YuvToArgbRow",Xn,4),us("YuvToRgba4444Row",xn,2),us("YuvToRgb565Row",sn,2);var tw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bf=[0,2,8],TP=[8,7,6,4,4,2,2,2,1,1,1,1],IP=1;this.WebPDecodeRGBA=function(d,g,S,A,I){var B=Tf,$=new Ul,U=new ki;$.ba=U,U.S=B,U.width=[U.width],U.height=[U.height];var q=U.width,Q=U.height,oe=new Ts;if(oe==null||d==null)var fe=2;else e(oe!=null),fe=Wl(d,g,S,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(fe!=0?q=0:(q!=null&&(q[0]=oe.width[0]),Q!=null&&(Q[0]=oe.height[0]),q=1),q){U.width=U.width[0],U.height=U.height[0],A!=null&&(A[0]=U.width),I!=null&&(I[0]=U.height);e:{if(A=new Rl,(I=new ju).data=d,I.w=g,I.ha=S,I.kd=1,g=[0],e(I!=null),((d=Wl(I.data,I.w,I.ha,null,null,null,g,null,I))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e($!=null),A.data=I.data,A.w=I.w+I.offset,A.ha=I.ha-I.offset,A.put=rs,A.ac=zn,A.bc=is,A.ma=$,I.xa){if((d=ii())==null){$=1;break e}if(function(pe,ue){var xe=[0],me=[0],ae=[0];t:for(;;){if(pe==null)return 0;if(ue==null)return pe.a=2,0;if(pe.l=ue,pe.a=0,Y(pe.m,ue.data,ue.w,ue.ha),!Ge(pe.m,xe,me,ae)){pe.a=3;break t}if(pe.xb=Y5,ue.width=xe[0],ue.height=me[0],!as(xe[0],me[0],1,pe,null))break t;return 1}return e(pe.a!=0),0}(d,A)){if(A=(g=ql(A.width,A.height,$.Oa,$.ba))==0){t:{A=d;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((S=A.l)!=null),e((I=S.ma)!=null),A.xb!=0){if(A.ca=I.ba,A.tb=I.tb,e(A.ca!=null),!Fu(I.Oa,S,If)){A.a=2;break n}if(!ya(A,S.width)||S.da)break n;if((S.da||_t(A.ca.S))&&de(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&de()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Ye(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Ci(A,A.V,A.Ba,A.c,A.i,S.o,El))break n;I.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(g=d.a)}else g=d.a}else{if((d=new Um)==null){$=1;break e}if(d.Fa=I.na,d.P=I.P,d.qc=I.Sa,uf(d,A)){if((g=ql(A.width,A.height,$.Oa,$.ba))==0){if(d.Aa=0,S=$.Oa,e((I=d)!=null),S!=null){if(0<(q=0>(q=S.Md)?0:100<q?255:255*q/100)){for(Q=oe=0;4>Q;++Q)12>(fe=I.pb[Q]).lc&&(fe.ia=q*TP[0>fe.lc?0:fe.lc]>>3),oe|=fe.ia;oe&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=S.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}Hm(d,A)||(g=d.a)}}else g=d.a}g==0&&$.Oa!=null&&$.Oa.fd&&(g=Du($.ba))}$=g}B=$!=0?null:11>B?U.f.RGBA.eb:U.f.kb.y}else B=null;return B};var nw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,F){for(var z="",C=0;C<4;C++)z+=String.fromCharCode(L[F++]);return z}function u(L,F){return(L[F+0]<<0|L[F+1]<<8|L[F+2]<<16)>>>0}function h(L,F){return(L[F+0]<<0|L[F+1]<<8|L[F+2]<<16|L[F+3]<<24)>>>0}new l;var p=[0],f=[0],m=[],v=new l,x=t,y=function(L,F){var z={},C=0,O=!1,H=0,W=0;if(z.frames=[],!function(D,G,Z,ee){for(var ce=0;ce<ee;ce++)if(D[G+ce]!=Z.charCodeAt(ce))return!0;return!1}(L,F,"RIFF",4)){var ie,J;for(h(L,F+=4),F+=8;F<L.length;){var K=c(L,F),Y=h(L,F+=4);F+=4;var M=Y+(1&Y);switch(K){case"VP8 ":case"VP8L":z.frames[C]===void 0&&(z.frames[C]={}),(j=z.frames[C]).src_off=O?W:F-8,j.src_size=H+Y+8,C++,O&&(O=!1,H=0,W=0);break;case"VP8X":(j=z.header={}).feature_flags=L[F];var V=F+4;j.canvas_width=1+u(L,V),V+=3,j.canvas_height=1+u(L,V),V+=3;break;case"ALPH":O=!0,H=M+8,W=F-8;break;case"ANIM":(j=z.header).bgcolor=h(L,F),V=F+4,j.loop_count=(ie=L)[(J=V)+0]<<0|ie[J+1]<<8,V+=2;break;case"ANMF":var ne,j;(j=z.frames[C]={}).offset_x=2*u(L,F),F+=3,j.offset_y=2*u(L,F),F+=3,j.width=1+u(L,F),F+=3,j.height=1+u(L,F),F+=3,j.duration=u(L,F),F+=3,ne=L[F++],j.dispose=1&ne,j.blend=ne>>1&1}K!="ANMF"&&(F+=M)}return z}}(x,0);y.response=x,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,_=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],f=[w.canvas_width];for(var k=0;k<_.length&&_[k].blend!=0;k++);}var N=_[0],T=v.WebPDecodeRGBA(x,N.src_off,N.src_size,f,p);N.rgba=T,N.imgwidth=f[0],N.imgheight=p[0];for(var E=0;E<f[0]*p[0]*4;E++)m[E]=T[E];return this.width=f,this.height=p,this.data=m,this}(function(t){var e=function(){return typeof P2=="function"},n=function(p,f,m,v){var x=4,y=o;switch(v){case t.image_compression.FAST:x=1,y=s;break;case t.image_compression.MEDIUM:x=6,y=a;break;case t.image_compression.SLOW:x=9,y=l}p=r(p,f,m,y);var w=P2(p,{level:x});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(p,f,m,v){for(var x,y,w,_=p.length/f,k=new Uint8Array(p.length+_),N=u(),T=0;T<_;T+=1){if(w=T*f,x=p.subarray(w,w+f),v)k.set(v(x,m,y),w+T);else{for(var E,L=N.length,F=[];E<L;E+=1)F[E]=N[E](x,m,y);var z=h(F.concat());k.set(F[z],w+T)}y=x}return k},i=function(p){var f=Array.apply([],p);return f.unshift(0),f},s=function(p,f){var m,v=[],x=p.length;v[0]=1;for(var y=0;y<x;y+=1)m=p[y-f]||0,v[y+1]=p[y]-m+256&255;return v},o=function(p,f,m){var v,x=[],y=p.length;x[0]=2;for(var w=0;w<y;w+=1)v=m&&m[w]||0,x[w+1]=p[w]-v+256&255;return x},a=function(p,f,m){var v,x,y=[],w=p.length;y[0]=3;for(var _=0;_<w;_+=1)v=p[_-f]||0,x=m&&m[_]||0,y[_+1]=p[_]+256-(v+x>>>1)&255;return y},l=function(p,f,m){var v,x,y,w,_=[],k=p.length;_[0]=4;for(var N=0;N<k;N+=1)v=p[N-f]||0,x=m&&m[N]||0,y=m&&m[N-f]||0,w=c(v,x,y),_[N+1]=p[N]-w+256&255;return _},c=function(p,f,m){if(p===f&&f===m)return p;var v=Math.abs(f-m),x=Math.abs(p-m),y=Math.abs(p+f-m-m);return v<=x&&v<=y?p:x<=y?f:m},u=function(){return[i,s,o,a,l]},h=function(p){var f=p.map(function(m){return m.reduce(function(v,x){return v+Math.abs(x)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(p,f,m,v){var x,y,w,_,k,N,T,E,L,F,z,C,O,H,W,ie=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new f$(p)).imgData,y=w.bits,x=w.colorSpace,k=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){L=(E=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,z=new Uint8Array(L*w.colors),F=new Uint8Array(L);var K,Y=w.pixelBitlength-w.bits;for(H=0,W=0;H<L;H++){for(O=E[H],K=0;K<Y;)z[W++]=O>>>K&255,K+=w.bits;F[H]=O>>>K&255}}if(w.bits===16){L=(E=new Uint32Array(w.decodePixels().buffer)).length,z=new Uint8Array(L*(32/w.pixelBitlength)*w.colors),F=new Uint8Array(L*(32/w.pixelBitlength)),C=w.colors>1,H=0,W=0;for(var M=0;H<L;)O=E[H++],z[W++]=O>>>0&255,C&&(z[W++]=O>>>16&255,O=E[H++],z[W++]=O>>>0&255),F[M++]=O>>>16&255;y=8}v!==t.image_compression.NONE&&e()?(p=n(z,w.width*w.colors,w.colors,v),T=n(F,w.width,1,v)):(p=z,T=F,ie=void 0)}if(w.colorType===3&&(x=this.color_spaces.INDEXED,N=w.palette,w.transparency.indexed)){var V=w.transparency.indexed,ne=0;for(H=0,L=V.length;H<L;++H)ne+=V[H];if((ne/=255)===L-1&&V.indexOf(0)!==-1)_=[V.indexOf(0)];else if(ne!==L){for(E=w.decodePixels(),F=new Uint8Array(E.length),H=0,L=E.length;H<L;H++)F[H]=V[E[H]];T=n(F,w.width,1)}}var j=function(D){var G;switch(D){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(v);return ie===this.decode.FLATE_DECODE&&(J="/Predictor "+j+" "),J+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(T&&this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),{alias:m,data:p,index:f,filter:ie,decodeParameters:J,transparency:_,palette:N,sMask:T,predictor:j,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:x}}}})(Ve.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new p$(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new D1(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(Ve.API),Fi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Dt.log("bit decode error:"+n)}},Fi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Fi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Fi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Fi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Fi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Fi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Fi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Fi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Fi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new D1(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ve.API),gS.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new gS(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new D1(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ve.API),Ve.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],p=r[c+2],f=r[c+3];s[a++]=u,s[a++]=h,s[a++]=p,o[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ve.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fc=Ve.API,Up=fc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=t.length,m=0,v=a[0]||l,x=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=h&&Ct(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/u:0,x.push((a[r]||v)/l+p)),m=r;return x},hS=fc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return fc.processArabic&&(t=fc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Up.apply(this,arguments).reduce(function(s,o){return s+o},0)},dS=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},fS=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],h=[u],p=n.textIndent||0,f=0,m=0,v=t.split(" "),x=Up.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),w=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map(function(N,T){return(T&&N.length?`
`:"")+N})):w.push(k[0])}),v=w,l=hS.apply(this,[y,n])}for(s=0,o=v.length;s<o;s++){var _=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),p+f+(m=(i=Up.apply(this,[r,n])).reduce(function(k,N){return k+N},0))>e||_){if(m>e){for(a=dS.apply(this,[r,i,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(k,N){return k+N},0)}else u=[r];h.push(u),p=m+l,f=x}else u.push(r),p+=f+m,f=x}return c=l?function(k,N){return(N?y:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(c)},fc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(fS.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var p,f,m,v,x=["{"];for(var y in h){if(p=h[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=s(y).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(m=s(p).slice(3),v="-"):(m=s(p).slice(2),v=""),m=v+m.slice(0,-1)+r[m.slice(-1)];else{if(Ct(p)!=="object")throw new Error("Don't know what to do with value type "+Ct(p)+".");m=o(p)}x.push(f+m)}return x.push("}"),x.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,m,v,x={},y=1,w=x,_=[],k="",N="",T=h.length-1,E=1;E<T;E+=1)(v=h[E])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(_.push([w,m]),w={},m=void 0):v=="}"?((f=_.pop())[0][f[1]]=w,m=void 0,w=f[0]):v=="-"?y=-1:m===void 0?n.hasOwnProperty(v)?(k+=n[v],m=parseInt(k,16)*y,y=1,k=""):k+=v:n.hasOwnProperty(v)?(N+=n[v],w[m]=parseInt(N,16)*y,y=1,m=void 0,N=""):N+=v;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(Ve.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Zh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ve),function(t){function e(){return(Ke.canvg?Promise.resolve(Ke.canvg):co(()=>import("./index.es-CXAIXOHq.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Ve.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Dt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Dt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(m){return m.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),Ve.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ve.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function p(m,v){var x,y=!1;for(x=0;x<m.length;x+=1)m[x]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(Ct(t)==="object"){for(i in t)if(s=t[i],p(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,v=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?v.push("/"+m+" /"+n[m].value):v.push("/"+m+" "+n[m].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ve.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=s.length;h<p;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(s).sort(function(f,m){return f-m})).length;h<p;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<p.length;m++)f+=String.fromCharCode(p[m]);var v=c();u({data:f,addLength1:!0,objectId:v}),l("endobj");var x=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+yc(a.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+yc(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+yc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+yc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+yc(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},p=h.pdfEscape,f=h.activeFontKey,m=h.fonts,v=f,x="",y=0,w="",_=m[v].encoding;if(m[v].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(w=a,v=f,Array.isArray(a)&&(w=a[0]),y=0;y<w.length;y+=1)m[v].metadata.hasOwnProperty("cmap")&&(o=m[v].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&m[v].metadata.hasOwnProperty("Unicode")?x+=w[y]:x+="";var k="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?k=p(x,v).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(k=n(x,m[v])),h.isHex=!0,{text:k,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Ve),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ve.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var k=function(C){var O=C.charCodeAt(),H=O>>8,W=v[H];return W!==void 0?h[256*W+(255&O)]:H===252||H===253?"AL":y.test(H)?"L":H===8?"R":"N"},N=function(C){for(var O,H=0;H<C.length;H++){if((O=k(C.charAt(H)))==="L")return!1;if(O==="R")return!0}return!1},T=function(C,O,H,W){var ie,J,K,Y,M=O[W];switch(M){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(M="AN");break;case"AL":w=!0,M="R";break;case"WS":M="N";break;case"CS":W<1||W+1>=O.length||(ie=H[W-1])!=="EN"&&ie!=="AN"||(J=O[W+1])!=="EN"&&J!=="AN"?M="N":w&&(J="AN"),M=J===ie?J:"N";break;case"ES":M=(ie=W>0?H[W-1]:"B")==="EN"&&W+1<O.length&&O[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&H[W-1]==="EN"){M="EN";break}if(w){M="N";break}for(K=W+1,Y=O.length;K<Y&&O[K]==="ET";)K++;M=K<Y&&O[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=O.length,K=W+1;K<Y&&O[K]==="NSM";)K++;if(K<Y){var V=C[W],ne=V>=1425&&V<=2303||V===64286;if(ie=O[K],ne&&(ie==="R"||ie==="AL")){M="R";break}}}M=W<1||(ie=O[W-1])==="B"?"N":H[W-1];break;case"B":w=!1,i=!0,M=_;break;case"S":s=!0,M="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":M="N"}return M},E=function(C,O,H){var W=C.split("");return H&&L(W,H,{hiLevel:_}),W.reverse(),O&&O.reverse(),W.join("")},L=function(C,O,H){var W,ie,J,K,Y,M=-1,V=C.length,ne=0,j=[],D=_?f:p,G=[];for(w=!1,i=!1,s=!1,ie=0;ie<V;ie++)G[ie]=k(C[ie]);for(J=0;J<V;J++){if(Y=ne,j[J]=T(C,G,j,J),W=240&(ne=D[Y][m[j[J]]]),ne&=15,O[J]=K=D[ne][5],W>0)if(W===16){for(ie=M;ie<J;ie++)O[ie]=1;M=-1}else M=-1;if(D[ne][6])M===-1&&(M=J);else if(M>-1){for(ie=M;ie<J;ie++)O[ie]=K;M=-1}G[J]==="B"&&(O[J]=0),H.hiLevel|=K}s&&function(Z,ee,ce){for(var he=0;he<ce;he++)if(Z[he]==="S"){ee[he]=_;for(var ge=he-1;ge>=0&&Z[ge]==="WS";ge--)ee[ge]=_}}(G,O,V)},F=function(C,O,H,W,ie){if(!(ie.hiLevel<C)){if(C===1&&_===1&&!i)return O.reverse(),void(H&&H.reverse());for(var J,K,Y,M,V=O.length,ne=0;ne<V;){if(W[ne]>=C){for(Y=ne+1;Y<V&&W[Y]>=C;)Y++;for(M=ne,K=Y-1;M<K;M++,K--)J=O[M],O[M]=O[K],O[K]=J,H&&(J=H[M],H[M]=H[K],H[K]=J);ne=Y}ne++}}},z=function(C,O,H){var W=C.split(""),ie={hiLevel:_};return H||(H=[]),L(W,H,ie),function(J,K,Y){if(Y.hiLevel!==0&&u)for(var M,V=0;V<J.length;V++)K[V]===1&&(M=x.indexOf(J[V]))>=0&&(J[V]=x[M+1])}(W,H,ie),F(2,W,O,H,ie),F(1,W,O,H,ie),W.join("")};return this.__bidiEngine__.doBidiReorder=function(C,O,H){if(function(ie,J){if(J)for(var K=0;K<ie.length;K++)J[K]=K;a===void 0&&(a=N(ie)),c===void 0&&(c=N(ie))}(C,O),o||!l||c)if(o&&l&&a^c)_=a?1:0,C=E(C,O,H);else if(!o&&l&&c)_=a?1:0,C=z(C,O,H),C=E(C,O);else if(!o||a||l||c){if(o&&!l&&a^c)C=E(C,O),a?(_=0,C=z(C,O,H)):(_=1,C=z(C,O,H),C=E(C,O));else if(o&&a&&!l&&c)_=1,C=z(C,O,H),C=E(C,O);else if(!o&&!l&&a^c){var W=u;a?(_=1,C=z(C,O,H),_=0,u=!1,C=z(C,O,H),u=W):(_=0,C=z(C,O,H),C=E(C,O),_=1,u=!1,C=z(C,O,H),u=W,C=E(C,O))}}else _=0,C=z(C,O,H);else _=a?1:0,C=z(C,O,H);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,l=C.isOutputVisual,a=C.isInputRtl,c=C.isOutputRtl,u=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ve),Ve.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ca(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new E$(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new g$(this.contents),this.head=new v$(this),this.name=new _$(this),this.cmap=new rP(this),this.toUnicode={},this.hhea=new y$(this),this.maxp=new S$(this),this.hmtx=new k$(this),this.post=new b$(this),this.os2=new w$(this),this.loca=new C$(this),this.glyf=new A$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ts,ca=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),g$=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,h,p,f,m,v;for(v in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new ca).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,m=[],n)for(p=n[v],i.writeString(v),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),m=m.concat(p),v==="head"&&(a=c),c+=p.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=iP.call(n);n.length%4;)n.push(0);for(s=new ca(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),m$={}.hasOwnProperty,Os=function(t,e){for(var n in e)m$.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ts=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var v$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new ca).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),mS=function(){function t(e,n){var r,i,s,o,a,l,c,u,h,p,f,m,v,x,y,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var k,N;for(N=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)N.push(e.readUInt16());return N}(),e.pos+=2,v=function(){var k,N;for(N=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)N.push(e.readUInt16());return N}(),c=function(){var k,N;for(N=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)N.push(e.readUInt16());return N}(),u=function(){var k,N;for(N=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,N;for(N=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)N.push(e.readUInt16());return N}(),l=y=0,_=s.length;y<_;l=++y)for(x=s[l],r=w=m=v[l];m<=x?w<=x:w>=x;r=m<=x?++w:--w)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-m)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,h,p,f,m,v,x,y,w,_,k,N,T,E,L,F,z,C,O,H,W,ie,J,K,Y,M,V,ne,j,D,G,Z,ee,ce,he,ge,Ae,Se,Le;switch(W=new ca,o=Object.keys(e).sort(function(Oe,Ye){return Oe-Ye}),n){case"macroman":for(v=0,x=function(){var Oe=[];for(m=0;m<256;++m)Oe.push(0);return Oe}(),w={0:0},s={},ie=0,M=o.length;ie<M;ie++)w[ge=e[i=o[ie]]]==null&&(w[ge]=++v),s[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(x),{charMap:s,subtable:W.data,maxGlyphID:v+1};case"unicode":for(O=[],h=[],_=0,w={},r={},y=c=null,J=0,V=o.length;J<V;J++)w[N=e[i=o[J]]]==null&&(w[N]=++_),r[i]={old:N,new:w[N]},a=w[N]-i,y!=null&&a===c||(y&&h.push(y),O.push(i),c=a),y=i;for(y&&h.push(y),h.push(65535),O.push(65535),z=2*(F=O.length),L=2*Math.pow(Math.log(F)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,E=2*F-L,l=[],T=[],f=[],m=K=0,ne=O.length;K<ne;m=++K){if(C=O[m],u=h[m],C===65535){l.push(0),T.push(0);break}if(C-(H=r[C].new)>=32768)for(l.push(0),T.push(2*(f.length+F-m)),i=Y=C;C<=u?Y<=u:Y>=u;i=C<=u?++Y:--Y)f.push(r[i].new);else l.push(H-C),T.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*F+2*f.length),W.writeUInt16(0),W.writeUInt16(z),W.writeUInt16(L),W.writeUInt16(p),W.writeUInt16(E),ce=0,j=h.length;ce<j;ce++)i=h[ce],W.writeUInt16(i);for(W.writeUInt16(0),he=0,D=O.length;he<D;he++)i=O[he],W.writeUInt16(i);for(Ae=0,G=l.length;Ae<G;Ae++)a=l[Ae],W.writeUInt16(a);for(Se=0,Z=T.length;Se<Z;Se++)k=T[Se],W.writeUInt16(k);for(Le=0,ee=f.length;Le<ee;Le++)v=f[Le],W.writeUInt16(v);return{charMap:r,subtable:W.data,maxGlyphID:_+1}}},t}(),rP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new mS(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=mS.encode(n,r),(s=new ca).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),y$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),w$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),b$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),x$=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,u,h,p,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=h=0,p=i.length;h<p;o=++h)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new x$(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),S$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),k$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(n.readInt16());return h}(),this.widths=(function(){var u,h,p,f;for(f=[],u=0,h=(p=this.metrics).length;u<h;u++)o=p[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),iP=[].slice,A$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,u,h,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new ca(r.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[n]=a===-1?new N$(l,u,p,c,h):new P$(l,a,u,p,c,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),P$=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),N$=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ca(iP.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),C$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Os(e,ts),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),E$=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,h,p,f,m,v,x,y;for(i in r=rP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},y=r.charMap)f[(l=y[i]).old]=l.new;for(m in p=r.maxGlyphID,o)m in f||(f[m]=p++);return u=function(w){var _,k;for(_ in k={},w)k[w[_]]=_;return k}(f),h=Object.keys(u).sort(function(w,_){return w-_}),v=function(){var w,_,k;for(k=[],w=0,_=h.length;w<_;w++)a=h[w],k.push(u[a]);return k}(),s=this.font.glyf.encode(o,v,f),c=this.font.loca.encode(s.offsets,v),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();Ve.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const L$=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:a$,AcroFormAppearance:$e,AcroFormButton:Ln,AcroFormCheckBox:nd,AcroFormChoiceField:al,AcroFormComboBox:cl,AcroFormEditBox:ed,AcroFormListBox:ll,AcroFormPasswordField:rd,AcroFormPushButton:td,AcroFormRadioButton:ul,AcroFormTextField:ia,GState:$d,ShadingPattern:$o,TilingPattern:tl,default:Ve,jsPDF:Ve},Symbol.toStringTag,{value:"Module"}));var sP={exports:{}};const j$=yS(L$);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return j$}catch{}}())})(typeof globalThis<"u"?globalThis:typeof ur<"u"?ur:typeof window<"u"?window:typeof self<"u"?self:ur,function(n){return function(){var r={172:function(a,l){var c=this&&this.__extends||function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(v[y]=x[y])},p(f,m)};return function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(f,m);function v(){this.constructor=f}f.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var u=function(){function p(f,m,v){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=v,this.doc=f.getDocument()}return p}();l.HookData=u;var h=function(p){c(f,p);function f(m,v,x,y,w,_){var k=p.call(this,m,v,_)||this;return k.cell=x,k.row=y,k.column=w,k.section=y.section,k}return f}(u);l.CellHookData=h},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var u=c(4),h=c(136),p=c(744),f=c(776),m=c(664),v=c(972);function x(y){y.API.autoTable=function(){for(var w=[],_=0;_<arguments.length;_++)w[_]=arguments[_];var k;w.length===1?k=w[0]:(console.error("Use of deprecated autoTable initiation"),k=w[2]||{},k.columns=w[0],k.body=w[1]);var N=(0,f.parseInput)(this,k),T=(0,v.createTable)(this,N);return(0,m.drawTable)(this,T),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(w,_,k,N){(0,h.default)(w,_,k,N,this)},y.API.autoTableSetDefaults=function(w){return p.DocHandler.setDefaults(w,this),this},y.autoTableSetDefaults=function(w,_){p.DocHandler.setDefaults(w,_)},y.API.autoTableHtmlToJson=function(w,_){var k;if(_===void 0&&(_=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var N=new p.DocHandler(this),T=(0,u.parseHtml)(N,w,window,_,!1),E=T.head,L=T.body,F=((k=E[0])===null||k===void 0?void 0:k.map(function(z){return z.content}))||[];return{columns:F,rows:L,data:L}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},y.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=w,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=x},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(u,h,p,f,m){f=f||{};var v=1.15,x=m.internal.scaleFactor,y=m.internal.getFontSize()/x,w=m.getLineHeightFactor?m.getLineHeightFactor():v,_=y*w,k=/\r\n|\r|\n/g,N="",T=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(N=typeof u=="string"?u.split(k):u,T=N.length||1),p+=y*(2-v),f.valign==="middle"?p-=T/2*_:f.valign==="bottom"&&(p-=T*_),f.halign==="center"||f.halign==="right"){var E=y;if(f.halign==="center"&&(E*=.5),N&&T>=1){for(var L=0;L<N.length;L++)m.text(N[L],h-m.getStringUnitWidth(N[L])*E,p),p+=_;return m}h-=m.getStringUnitWidth(u)*E}return f.halign==="justify"?m.text(u,h,p,{maxWidth:f.maxWidth||100,align:"justify"}):m.text(u,h,p),m}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(m,v,x){x.applyStyles(v,!0);var y=Array.isArray(m)?m:[m],w=y.map(function(_){return x.getTextWidth(_)}).reduce(function(_,k){return Math.max(_,k)},0);return w}l.getStringWidth=c;function u(m,v,x,y){var w=v.settings.tableLineWidth,_=v.settings.tableLineColor;m.applyStyles({lineWidth:w,lineColor:_});var k=h(w,!1);k&&m.rect(x.x,x.y,v.getWidth(m.pageSize().width),y.y-x.y,k)}l.addTableBorder=u;function h(m,v){var x=m>0,y=v||v===0;return x&&y?"DF":x?"S":y?"F":null}l.getFillStyle=h;function p(m,v){var x,y,w,_;if(m=m||v,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=v}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(x=m.left)!==null&&x!==void 0?x:v,top:(y=m.top)!==null&&y!==void 0?y:v,right:(w=m.right)!==null&&w!==void 0?w:v,bottom:(_=m.bottom)!==null&&_!==void 0?_:v}):(typeof m!="number"&&(m=v),{top:m,right:m,bottom:m,left:m})}l.parseSpacing=p;function f(m,v){var x=p(v.settings.margin,0);return m.pageSize().width-(x.left+x.right)}l.getPageAvailableWidth=f},796:function(a,l){var c=this&&this.__extends||function(){var f=function(m,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(x[w]=y[w])},f(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(m,v);function x(){this.constructor=m}m.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var u=function(f){c(m,f);function m(v){var x=f.call(this)||this;return x._element=v,x}return m}(Array);l.HtmlRowInput=u;function h(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=h;function p(f){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[f]}l.getTheme=p},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var u=c(420);function h(x,y,w,_,k){var N={},T=1.3333333333333333,E=f(y,function(M){return k.getComputedStyle(M).backgroundColor});E!=null&&(N.fillColor=E);var L=f(y,function(M){return k.getComputedStyle(M).color});L!=null&&(N.textColor=L);var F=v(_,w);F&&(N.cellPadding=F);var z="borderTopColor",C=T*w,O=_.borderTopWidth;if(_.borderBottomWidth===O&&_.borderRightWidth===O&&_.borderLeftWidth===O){var H=(parseFloat(O)||0)/C;H&&(N.lineWidth=H)}else N.lineWidth={top:(parseFloat(_.borderTopWidth)||0)/C,right:(parseFloat(_.borderRightWidth)||0)/C,bottom:(parseFloat(_.borderBottomWidth)||0)/C,left:(parseFloat(_.borderLeftWidth)||0)/C},N.lineWidth.top||(N.lineWidth.right?z="borderRightColor":N.lineWidth.bottom?z="borderBottomColor":N.lineWidth.left&&(z="borderLeftColor"));var W=f(y,function(M){return k.getComputedStyle(M)[z]});W!=null&&(N.lineColor=W);var ie=["left","right","center","justify"];ie.indexOf(_.textAlign)!==-1&&(N.halign=_.textAlign),ie=["middle","bottom","top"],ie.indexOf(_.verticalAlign)!==-1&&(N.valign=_.verticalAlign);var J=parseInt(_.fontSize||"");isNaN(J)||(N.fontSize=J/T);var K=p(_);K&&(N.fontStyle=K);var Y=(_.fontFamily||"").toLowerCase();return x.indexOf(Y)!==-1&&(N.font=Y),N}l.parseCss=h;function p(x){var y="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(y="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(y+="italic"),y}function f(x,y){var w=m(x,y);if(!w)return null;var _=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!_||!Array.isArray(_))return null;var k=[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])],N=parseInt(_[4]);return N===0||isNaN(k[0])||isNaN(k[1])||isNaN(k[2])?null:k}function m(x,y){var w=y(x);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?x.parentElement==null?null:m(x.parentElement,y):w}function v(x,y){var w=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],_=96/(72/y),k=(parseInt(x.lineHeight)-parseInt(x.fontSize))/y/2,N=w.map(function(E){return parseInt(E||"0")/_}),T=(0,u.parseSpacing)(N,0);return k>T.top&&(T.top=k),k>T.bottom&&(T.bottom=k),T}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},u=function(){function h(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(p,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=p:c=p},h.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},h.prototype.applyStyles=function(p,f){var m,v,x;f===void 0&&(f=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var y=this.jsPDFDocument.internal.getFont(),w=y.fontStyle,_=y.fontName;if(p.font&&(_=p.font),p.fontStyle){w=p.fontStyle;var k=this.getFontList()[_];k&&k.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(k[0]),w=k[0])}if(this.jsPDFDocument.setFont(_,w),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!f){var N=h.unifyColor(p.fillColor);N&&(m=this.jsPDFDocument).setFillColor.apply(m,N),N=h.unifyColor(p.textColor),N&&(v=this.jsPDFDocument).setTextColor.apply(v,N),N=h.unifyColor(p.lineColor),N&&(x=this.jsPDFDocument).setDrawColor.apply(x,N),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},h.prototype.splitTextToSize=function(p,f,m){return this.jsPDFDocument.splitTextToSize(p,f,m)},h.prototype.rect=function(p,f,m,v,x){return this.jsPDFDocument.rect(p,f,m,v,x)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return c||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();l.DocHandler=u},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var u=c(903),h=c(796);function p(v,x,y,w,_){var k,N;w===void 0&&(w=!1),_===void 0&&(_=!1);var T;typeof x=="string"?T=y.document.querySelector(x):T=x;var E=Object.keys(v.getFontList()),L=v.scaleFactor(),F=[],z=[],C=[];if(!T)return console.error("Html table could not be found with input: ",x),{head:F,body:z,foot:C};for(var O=0;O<T.rows.length;O++){var H=T.rows[O],W=(N=(k=H==null?void 0:H.parentElement)===null||k===void 0?void 0:k.tagName)===null||N===void 0?void 0:N.toLowerCase(),ie=f(E,L,y,H,w,_);ie&&(W==="thead"?F.push(ie):W==="tfoot"?C.push(ie):z.push(ie))}return{head:F,body:z,foot:C}}l.parseHtml=p;function f(v,x,y,w,_,k){for(var N=new h.HtmlRowInput(w),T=0;T<w.cells.length;T++){var E=w.cells[T],L=y.getComputedStyle(E);if(_||L.display!=="none"){var F=void 0;k&&(F=(0,u.parseCss)(v,E,x,L,y)),N.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:F,_element:E,content:m(E)})}}var z=y.getComputedStyle(w);if(N.length>0&&(_||z.display!=="none"))return N}function m(v){var x=v.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var u=c(4),h=c(356),p=c(420),f=c(744),m=c(792);function v(T,E){var L=new f.DocHandler(T),F=L.getDocumentOptions(),z=L.getGlobalOptions();(0,m.default)(L,z,F,E);var C=(0,h.assign)({},z,F,E),O;typeof window<"u"&&(O=window);var H=x(z,F,E),W=y(z,F,E),ie=w(L,C),J=k(L,C,O);return{id:E.tableId,content:J,hooks:W,styles:H,settings:ie}}l.parseInput=v;function x(T,E,L){for(var F={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},z=function(W){if(W==="columnStyles"){var ie=T[W],J=E[W],K=L[W];F.columnStyles=(0,h.assign)({},ie,J,K)}else{var Y=[T,E,L],M=Y.map(function(V){return V[W]||{}});F[W]=(0,h.assign)({},M[0],M[1],M[2])}},C=0,O=Object.keys(F);C<O.length;C++){var H=O[C];z(H)}return F}function y(T,E,L){for(var F=[T,E,L],z={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,O=F;C<O.length;C++){var H=O[C];H.didParseCell&&z.didParseCell.push(H.didParseCell),H.willDrawCell&&z.willDrawCell.push(H.willDrawCell),H.didDrawCell&&z.didDrawCell.push(H.didDrawCell),H.willDrawPage&&z.willDrawPage.push(H.willDrawPage),H.didDrawPage&&z.didDrawPage.push(H.didDrawPage)}return z}function w(T,E){var L,F,z,C,O,H,W,ie,J,K,Y,M,V=(0,p.parseSpacing)(E.margin,40/T.scaleFactor()),ne=(L=_(T,E.startY))!==null&&L!==void 0?L:V.top,j;E.showFoot===!0?j="everyPage":E.showFoot===!1?j="never":j=(F=E.showFoot)!==null&&F!==void 0?F:"everyPage";var D;E.showHead===!0?D="everyPage":E.showHead===!1?D="never":D=(z=E.showHead)!==null&&z!==void 0?z:"everyPage";var G=(C=E.useCss)!==null&&C!==void 0?C:!1,Z=E.theme||(G?"plain":"striped"),ee=!!E.horizontalPageBreak,ce=(O=E.horizontalPageBreakRepeat)!==null&&O!==void 0?O:null;return{includeHiddenHtml:(H=E.includeHiddenHtml)!==null&&H!==void 0?H:!1,useCss:G,theme:Z,startY:ne,margin:V,pageBreak:(W=E.pageBreak)!==null&&W!==void 0?W:"auto",rowPageBreak:(ie=E.rowPageBreak)!==null&&ie!==void 0?ie:"auto",tableWidth:(J=E.tableWidth)!==null&&J!==void 0?J:"auto",showHead:D,showFoot:j,tableLineWidth:(K=E.tableLineWidth)!==null&&K!==void 0?K:0,tableLineColor:(Y=E.tableLineColor)!==null&&Y!==void 0?Y:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:ce,horizontalPageBreakBehaviour:(M=E.horizontalPageBreakBehaviour)!==null&&M!==void 0?M:"afterAllRows"}}function _(T,E){var L=T.getLastAutoTable(),F=T.scaleFactor(),z=T.pageNumber(),C=!1;if(L&&L.startPageNumber){var O=L.startPageNumber+L.pageNumber-1;C=O===z}return typeof E=="number"?E:(E==null||E===!1)&&C&&(L==null?void 0:L.finalY)!=null?L.finalY+20/F:null}function k(T,E,L){var F=E.head||[],z=E.body||[],C=E.foot||[];if(E.html){var O=E.includeHiddenHtml;if(L){var H=(0,u.parseHtml)(T,E.html,L,O,E.useCss)||{};F=H.head||F,z=H.body||F,C=H.foot||F}else console.error("Cannot parse html in non browser environment")}var W=E.columns||N(F,z,C);return{columns:W,head:F,body:z,foot:C}}function N(T,E,L){var F=T[0]||E[0]||L[0]||[],z=[];return Object.keys(F).filter(function(C){return C!=="_element"}).forEach(function(C){var O=1,H;Array.isArray(F)?H=F[parseInt(C)]:H=F[C],typeof H=="object"&&!Array.isArray(H)&&(O=(H==null?void 0:H.colSpan)||1);for(var W=0;W<O;W++){var ie=void 0;Array.isArray(F)?ie=z.length:ie=C+(W>0?"_".concat(W):"");var J={dataKey:ie};z.push(J)}}),z}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,p,f,m){for(var v=function(_){_&&typeof _!="object"&&console.error("The options parameter should be of type object, is: "+typeof _),typeof _.extendWidth<"u"&&(_.tableWidth=_.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof _.margins<"u"&&(typeof _.margin>"u"&&(_.margin=_.margins),console.error("Use of deprecated option: margins, use margin instead.")),_.startY&&typeof _.startY!="number"&&(console.error("Invalid value for startY option",_.startY),delete _.startY),!_.didDrawPage&&(_.afterPageContent||_.beforePageContent||_.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),_.didDrawPage=function(C){h.applyStyles(h.userStyles),_.beforePageContent&&_.beforePageContent(C),h.applyStyles(h.userStyles),_.afterPageContent&&_.afterPageContent(C),h.applyStyles(h.userStyles),_.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){_[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var O=C[0],H=C[1];_[H]&&(console.error("Use of deprecated option ".concat(H,". Use ").concat(O," instead")),_[O]=_[H])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var O=typeof C=="string"?C:C[0],H=typeof C=="string"?C:C[1];typeof _[O]<"u"&&(typeof _.styles[H]>"u"&&(_.styles[H]=_[O]),console.error("Use of deprecated option: "+O+", use the style "+H+" instead."))});for(var k=0,N=["styles","bodyStyles","headStyles","footStyles"];k<N.length;k++){var T=N[k];u(_[T]||{})}for(var E=_.columnStyles||{},L=0,F=Object.keys(E);L<F.length;L++){var z=F[L];u(E[z]||{})}},x=0,y=[p,f,m];x<y.length;x++){var w=y[x];v(w)}}l.default=c;function u(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var u=c(796),h=c(172),p=c(420),f=function(){function y(w,_){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=_.columns,this.head=_.head,this.body=_.body,this.foot=_.foot}return y.prototype.getHeadHeight=function(w){return this.head.reduce(function(_,k){return _+k.getMaxCellHeight(w)},0)},y.prototype.getFootHeight=function(w){return this.foot.reduce(function(_,k){return _+k.getMaxCellHeight(w)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(w,_,k,N,T,E){for(var L=0,F=_;L<F.length;L++){var z=F[L],C=new h.CellHookData(w,this,k,N,T,E),O=z(C)===!1;if(k.text=Array.isArray(k.text)?k.text:[k.text],O)return!1}return!0},y.prototype.callEndPageHooks=function(w,_){w.applyStyles(w.userStyles);for(var k=0,N=this.hooks.didDrawPage;k<N.length;k++){var T=N[k];T(new h.HookData(w,this,_))}},y.prototype.callWillDrawPageHooks=function(w,_){for(var k=0,N=this.hooks.willDrawPage;k<N.length;k++){var T=N[k];T(new h.HookData(w,this,_))}},y.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var _=this.columns.reduce(function(N,T){return N+T.wrappedWidth},0);return _}else{var k=this.settings.margin;return w-k.left-k.right}},y}();l.Table=f;var m=function(){function y(w,_,k,N,T){T===void 0&&(T=!1),this.height=0,this.raw=w,w instanceof u.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=_,this.section=k,this.cells=N,this.spansMultiplePages=T}return y.prototype.getMaxCellHeight=function(w){var _=this;return w.reduce(function(k,N){var T;return Math.max(k,((T=_.cells[N.index])===null||T===void 0?void 0:T.height)||0)},0)},y.prototype.hasRowSpan=function(w){var _=this;return w.filter(function(k){var N=_.cells[k.index];return N?N.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(w,_){return this.getMaxCellHeight(_)<=w},y.prototype.getMinimumRowHeight=function(w,_){var k=this;return w.reduce(function(N,T){var E=k.cells[T.index];if(!E)return 0;var L=_.getLineHeight(E.styles.fontSize),F=E.padding("vertical"),z=F+L;return z>N?z:N},0)},y}();l.Row=m;var v=function(){function y(w,_,k){var N,T;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=_,this.section=k,this.raw=w;var E=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,E=(T=(N=w.content)!==null&&N!==void 0?N:w.title)!==null&&T!==void 0?T:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var L=E!=null?""+E:"",F=/\r\n|\r|\n/g;this.text=L.split(F)}return y.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var _=this.height-this.padding("vertical");w=this.y+_/2+this.padding("top")}var k;if(this.styles.halign==="right")k=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var N=this.width-this.padding("horizontal");k=this.x+N/2+this.padding("left")}else k=this.x+this.padding("left");return{x:k,y:w}},y.prototype.getContentHeight=function(w,_){_===void 0&&(_=1.15);var k=Array.isArray(this.text)?this.text.length:1,N=this.styles.fontSize/w*_,T=k*N+this.padding("vertical");return Math.max(T,this.styles.minCellHeight)},y.prototype.padding=function(w){var _=(0,p.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?_.top+_.bottom:w==="horizontal"?_.left+_.right:_[w]},y}();l.Cell=v;var x=function(){function y(w,_,k){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=_,this.index=k}return y.prototype.getMaxCustomCellWidth=function(w){for(var _=0,k=0,N=w.allRows();k<N.length;k++){var T=N[k],E=T.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(_=Math.max(_,E.styles.cellWidth))}return _},y}();l.Column=x},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(u,h,p,f,m){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(u),x=1;x<arguments.length;x++){var y=arguments[x];if(y!=null)for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(v[w]=y[w])}return v}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var u=c(744),h=c(260),p=c(324),f=c(796),m=c(356);function v(T,E){var L=new u.DocHandler(T),F=x(E,L.scaleFactor()),z=new h.Table(E,F);return(0,p.calculateWidths)(L,z),L.applyStyles(L.userStyles),z}l.createTable=v;function x(T,E){var L=T.content,F=k(L.columns);if(L.head.length===0){var z=w(F,"head");z&&L.head.push(z)}if(L.foot.length===0){var z=w(F,"foot");z&&L.foot.push(z)}var C=T.settings.theme,O=T.styles;return{columns:F,head:y("head",L.head,F,O,C,E),body:y("body",L.body,F,O,C,E),foot:y("foot",L.foot,F,O,C,E)}}function y(T,E,L,F,z,C){var O={},H=E.map(function(W,ie){for(var J=0,K={},Y=0,M=0,V=0,ne=L;V<ne.length;V++){var j=ne[V];if(O[j.index]==null||O[j.index].left===0)if(M===0){var D=void 0;Array.isArray(W)?D=W[j.index-Y-J]:D=W[j.dataKey];var G={};typeof D=="object"&&!Array.isArray(D)&&(G=(D==null?void 0:D.styles)||{});var Z=N(T,j,ie,z,F,C,G),ee=new h.Cell(D,Z,T);K[j.dataKey]=ee,K[j.index]=ee,M=ee.colSpan-1,O[j.index]={left:ee.rowSpan-1,times:M}}else M--,Y++;else O[j.index].left--,M=O[j.index].times,J++}return new h.Row(W,ie,T,K)});return H}function w(T,E){var L={};return T.forEach(function(F){if(F.raw!=null){var z=_(E,F.raw);z!=null&&(L[F.dataKey]=z)}}),Object.keys(L).length>0?L:null}function _(T,E){if(T==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(T==="foot"&&typeof E=="object")return E.footer;return null}function k(T){return T.map(function(E,L){var F,z,C;return typeof E=="object"?C=(z=(F=E.dataKey)!==null&&F!==void 0?F:E.key)!==null&&z!==void 0?z:L:C=L,new h.Column(C,E,L)})}function N(T,E,L,F,z,C,O){var H=(0,f.getTheme)(F),W;T==="head"?W=z.headStyles:T==="body"?W=z.bodyStyles:T==="foot"&&(W=z.footStyles);var ie=(0,m.assign)({},H.table,H[T],z.styles,W),J=z.columnStyles[E.dataKey]||z.columnStyles[E.index]||{},K=T==="body"?J:{},Y=T==="body"&&L%2===0?(0,m.assign)({},H.alternateRow,z.alternateRowStyles):{},M=(0,f.defaultStyles)(C),V=(0,m.assign)({},M,ie,Y,K);return(0,m.assign)(V,O)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var u=c(420),h=c(260),p=c(744),f=c(356),m=c(136),v=c(224);function x(J,K){var Y=K.settings,M=Y.startY,V=Y.margin,ne={x:V.left,y:M},j=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns),D=M+V.bottom+j;if(Y.pageBreak==="avoid"){var G=K.body,Z=G.reduce(function(he,ge){return he+ge.height},0);D+=Z}var ee=new p.DocHandler(J);(Y.pageBreak==="always"||Y.startY!=null&&D>ee.pageSize().height)&&(ie(ee),ne.y=V.top),K.callWillDrawPageHooks(ee,ne);var ce=(0,f.assign)({},ne);K.startPageNumber=ee.pageNumber(),Y.horizontalPageBreak?y(ee,K,ce,ne):(ee.applyStyles(ee.userStyles),(Y.showHead==="firstPage"||Y.showHead==="everyPage")&&K.head.forEach(function(he){return z(ee,K,he,ne,K.columns)}),ee.applyStyles(ee.userStyles),K.body.forEach(function(he,ge){var Ae=ge===K.body.length-1;F(ee,K,he,Ae,ce,ne,K.columns)}),ee.applyStyles(ee.userStyles),(Y.showFoot==="lastPage"||Y.showFoot==="everyPage")&&K.foot.forEach(function(he){return z(ee,K,he,ne,K.columns)})),(0,u.addTableBorder)(ee,K,ce,ne),K.callEndPageHooks(ee,ne),K.finalY=ne.y,J.lastAutoTable=K,J.previousAutoTable=K,J.autoTable&&(J.autoTable.previous=K),ee.applyStyles(ee.userStyles)}l.drawTable=x;function y(J,K,Y,M){var V=(0,v.calculateAllColumnsCanFitInPage)(J,K),ne=K.settings;if(ne.horizontalPageBreakBehaviour==="afterAllRows")V.forEach(function(Z,ee){J.applyStyles(J.userStyles),ee>0?W(J,K,Y,M,Z.columns,!0):w(J,K,M,Z.columns),_(J,K,Y,M,Z.columns),N(J,K,M,Z.columns)});else for(var j=-1,D=V[0],G=function(){var Z=j;if(D){J.applyStyles(J.userStyles);var ee=D.columns;j>=0?W(J,K,Y,M,ee,!0):w(J,K,M,ee),Z=k(J,K,j+1,M,ee),N(J,K,M,ee)}var ce=Z-j;V.slice(1).forEach(function(he){J.applyStyles(J.userStyles),W(J,K,Y,M,he.columns,!0),k(J,K,j+1,M,he.columns,ce),N(J,K,M,he.columns)}),j=Z};j<K.body.length-1;)G()}function w(J,K,Y,M){var V=K.settings;J.applyStyles(J.userStyles),(V.showHead==="firstPage"||V.showHead==="everyPage")&&K.head.forEach(function(ne){return z(J,K,ne,Y,M)})}function _(J,K,Y,M,V){J.applyStyles(J.userStyles),K.body.forEach(function(ne,j){var D=j===K.body.length-1;F(J,K,ne,D,Y,M,V)})}function k(J,K,Y,M,V,ne){J.applyStyles(J.userStyles),ne=ne??K.body.length;var j=Math.min(Y+ne,K.body.length),D=-1;return K.body.slice(Y,j).forEach(function(G,Z){var ee=Y+Z===K.body.length-1,ce=H(J,K,ee,M);G.canEntireRowFit(ce,V)&&(z(J,K,G,M,V),D=Y+Z)}),D}function N(J,K,Y,M){var V=K.settings;J.applyStyles(J.userStyles),(V.showFoot==="lastPage"||V.showFoot==="everyPage")&&K.foot.forEach(function(ne){return z(J,K,ne,Y,M)})}function T(J,K,Y){var M=Y.getLineHeight(J.styles.fontSize),V=J.padding("vertical"),ne=Math.floor((K-V)/M);return Math.max(0,ne)}function E(J,K,Y,M){var V={};J.spansMultiplePages=!0,J.height=0;for(var ne=0,j=0,D=Y.columns;j<D.length;j++){var G=D[j],Z=J.cells[G.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var ee=new h.Cell(Z.raw,Z.styles,Z.section);ee=(0,f.assign)(ee,Z),ee.text=[];var ce=T(Z,K,M);Z.text.length>ce&&(ee.text=Z.text.splice(ce,Z.text.length));var he=M.scaleFactor(),ge=M.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(he,ge),Z.contentHeight>=K&&(Z.contentHeight=K,ee.styles.minCellHeight-=K),Z.contentHeight>J.height&&(J.height=Z.contentHeight),ee.contentHeight=ee.getContentHeight(he,ge),ee.contentHeight>ne&&(ne=ee.contentHeight),V[G.index]=ee}}var Ae=new h.Row(J.raw,-1,J.section,V,!0);Ae.height=ne;for(var Se=0,Le=Y.columns;Se<Le.length;Se++){var G=Le[Se],ee=Ae.cells[G.index];ee&&(ee.height=Ae.height);var Z=J.cells[G.index];Z&&(Z.height=J.height)}return Ae}function L(J,K,Y,M){var V=J.pageSize().height,ne=M.settings.margin,j=ne.top+ne.bottom,D=V-j;K.section==="body"&&(D-=M.getHeadHeight(M.columns)+M.getFootHeight(M.columns));var G=K.getMinimumRowHeight(M.columns,J),Z=G<Y;if(G>D)return console.error("Will not be able to print row ".concat(K.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var ee=K.hasRowSpan(M.columns),ce=K.getMaxCellHeight(M.columns)>D;return ce?(ee&&console.error("The content of row ".concat(K.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ee||M.settings.rowPageBreak==="avoid")}function F(J,K,Y,M,V,ne,j){var D=H(J,K,M,ne);if(Y.canEntireRowFit(D,j))z(J,K,Y,ne,j);else if(L(J,Y,D,K)){var G=E(Y,D,K,J);z(J,K,Y,ne,j),W(J,K,V,ne,j),F(J,K,G,M,V,ne,j)}else W(J,K,V,ne,j),F(J,K,Y,M,V,ne,j)}function z(J,K,Y,M,V){M.x=K.settings.margin.left;for(var ne=0,j=V;ne<j.length;ne++){var D=j[ne],G=Y.cells[D.index];if(!G){M.x+=D.width;continue}J.applyStyles(G.styles),G.x=M.x,G.y=M.y;var Z=K.callCellHooks(J,K.hooks.willDrawCell,G,Y,D,M);if(Z===!1){M.x+=D.width;continue}C(J,G,M);var ee=G.getTextPos();(0,m.default)(G.text,ee.x,ee.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},J.getDocument()),K.callCellHooks(J,K.hooks.didDrawCell,G,Y,D,M),M.x+=D.width}M.y+=Y.height}function C(J,K,Y){var M=K.styles;if(J.getDocument().setFillColor(J.getDocument().getFillColor()),typeof M.lineWidth=="number"){var V=(0,u.getFillStyle)(M.lineWidth,M.fillColor);V&&J.rect(K.x,Y.y,K.width,K.height,V)}else typeof M.lineWidth=="object"&&(M.fillColor&&J.rect(K.x,Y.y,K.width,K.height,"F"),O(J,K,Y,M.lineWidth))}function O(J,K,Y,M){var V,ne,j,D;M.top&&(V=Y.x,ne=Y.y,j=Y.x+K.width,D=Y.y,M.right&&(j+=.5*M.right),M.left&&(V-=.5*M.left),G(M.top,V,ne,j,D)),M.bottom&&(V=Y.x,ne=Y.y+K.height,j=Y.x+K.width,D=Y.y+K.height,M.right&&(j+=.5*M.right),M.left&&(V-=.5*M.left),G(M.bottom,V,ne,j,D)),M.left&&(V=Y.x,ne=Y.y,j=Y.x,D=Y.y+K.height,M.top&&(ne-=.5*M.top),M.bottom&&(D+=.5*M.bottom),G(M.left,V,ne,j,D)),M.right&&(V=Y.x+K.width,ne=Y.y,j=Y.x+K.width,D=Y.y+K.height,M.top&&(ne-=.5*M.top),M.bottom&&(D+=.5*M.bottom),G(M.right,V,ne,j,D));function G(Z,ee,ce,he,ge){J.getDocument().setLineWidth(Z),J.getDocument().line(ee,ce,he,ge,"S")}}function H(J,K,Y,M){var V=K.settings.margin.bottom,ne=K.settings.showFoot;return(ne==="everyPage"||ne==="lastPage"&&Y)&&(V+=K.getFootHeight(K.columns)),J.pageSize().height-M.y-V}function W(J,K,Y,M,V,ne){V===void 0&&(V=[]),ne===void 0&&(ne=!1),J.applyStyles(J.userStyles),K.settings.showFoot==="everyPage"&&!ne&&K.foot.forEach(function(D){return z(J,K,D,M,V)}),K.callEndPageHooks(J,M);var j=K.settings.margin;(0,u.addTableBorder)(J,K,Y,M),ie(J),K.pageNumber++,K.pageCount++,M.x=j.left,M.y=j.top,Y.y=j.top,K.callWillDrawPageHooks(J,M),K.settings.showHead==="everyPage"&&(K.head.forEach(function(D){return z(J,K,D,M,V)}),J.applyStyles(J.userStyles))}l.addPage=W;function ie(J){var K=J.pageNumber();J.setPage(K+1);var Y=J.pageNumber();return Y===K?(J.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var u=c(420);function h(f,m,v){var x;v===void 0&&(v={});var y=(0,u.getPageAvailableWidth)(f,m),w=new Map,_=[],k=[],N=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?N=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(N=[m.settings.horizontalPageBreakRepeat]),N.forEach(function(F){var z=m.columns.find(function(C){return C.dataKey===F||C.index===F});z&&!w.has(z.index)&&(w.set(z.index,!0),_.push(z.index),k.push(m.columns[z.index]),y-=z.wrappedWidth)});for(var T=!0,E=(x=v==null?void 0:v.start)!==null&&x!==void 0?x:0;E<m.columns.length;){if(w.has(E)){E++;continue}var L=m.columns[E].wrappedWidth;if(T||y>=L)T=!1,_.push(E),k.push(m.columns[E]),y-=L;else break;E++}return{colIndexes:_,columns:k,lastIndex:E-1}}function p(f,m){for(var v=[],x=0;x<m.columns.length;x++){var y=h(f,m,{start:x});y.columns.length&&(v.push(y),x=y.lastIndex)}return v}l.calculateAllColumnsCanFitInPage=p},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var u=c(420);function h(_,k){p(_,k);var N=[],T=0;k.columns.forEach(function(L){var F=L.getMaxCustomCellWidth(k);F?L.width=F:(L.width=L.wrappedWidth,N.push(L)),T+=L.width});var E=k.getWidth(_.pageSize().width)-T;E&&(E=f(N,E,function(L){return Math.max(L.minReadableWidth,L.minWidth)})),E&&(E=f(N,E,function(L){return L.minWidth})),E=Math.abs(E),!k.settings.horizontalPageBreak&&E>.1/_.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),v(k),x(k,_),m(k)}l.calculateWidths=h;function p(_,k){var N=_.scaleFactor(),T=k.settings.horizontalPageBreak,E=(0,u.getPageAvailableWidth)(_,k);k.allRows().forEach(function(L){for(var F=0,z=k.columns;F<z.length;F++){var C=z[F],O=L.cells[C.index];if(O){var H=k.hooks.didParseCell;k.callCellHooks(_,H,O,L,C,null);var W=O.padding("horizontal");O.contentWidth=(0,u.getStringWidth)(O.text,O.styles,_)+W;var ie=(0,u.getStringWidth)(O.text.join(" ").split(/[^\S\u00A0]+/),O.styles,_);if(O.minReadableWidth=ie+O.padding("horizontal"),typeof O.styles.cellWidth=="number")O.minWidth=O.styles.cellWidth,O.wrappedWidth=O.styles.cellWidth;else if(O.styles.cellWidth==="wrap"||T===!0)O.contentWidth>E?(O.minWidth=E,O.wrappedWidth=E):(O.minWidth=O.contentWidth,O.wrappedWidth=O.contentWidth);else{var J=10/N;O.minWidth=O.styles.minCellWidth||J,O.wrappedWidth=O.contentWidth,O.minWidth>O.wrappedWidth&&(O.wrappedWidth=O.minWidth)}}}}),k.allRows().forEach(function(L){for(var F=0,z=k.columns;F<z.length;F++){var C=z[F],O=L.cells[C.index];if(O&&O.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,O.wrappedWidth),C.minWidth=Math.max(C.minWidth,O.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,O.minReadableWidth);else{var H=k.styles.columnStyles[C.dataKey]||k.styles.columnStyles[C.index]||{},W=H.cellWidth||H.minCellWidth;W&&typeof W=="number"&&(C.minWidth=W,C.wrappedWidth=W)}O&&(O.colSpan>1&&!C.minWidth&&(C.minWidth=O.minWidth),O.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=O.minWidth))}})}function f(_,k,N){for(var T=k,E=_.reduce(function(J,K){return J+K.wrappedWidth},0),L=0;L<_.length;L++){var F=_[L],z=F.wrappedWidth/E,C=T*z,O=F.width+C,H=N(F),W=O<H?H:O;k-=W-F.width,F.width=W}if(k=Math.round(k*1e10)/1e10,k){var ie=_.filter(function(J){return k<0?J.width>N(J):!0});ie.length&&(k=f(ie,k,N))}return k}l.resizeColumns=f;function m(_){for(var k={},N=1,T=_.allRows(),E=0;E<T.length;E++)for(var L=T[E],F=0,z=_.columns;F<z.length;F++){var C=z[F],O=k[C.index];if(N>1)N--,delete L.cells[C.index];else if(O)O.cell.height+=L.height,N=O.cell.colSpan,delete L.cells[C.index],O.left--,O.left<=1&&delete k[C.index];else{var H=L.cells[C.index];if(!H)continue;if(H.height=L.height,H.rowSpan>1){var W=T.length-E,ie=H.rowSpan>W?W:H.rowSpan;k[C.index]={cell:H,left:ie,row:L}}}}}function v(_){for(var k=_.allRows(),N=0;N<k.length;N++)for(var T=k[N],E=null,L=0,F=0,z=0;z<_.columns.length;z++){var C=_.columns[z];if(F-=1,F>1&&_.columns[z+1])L+=C.width,delete T.cells[C.index];else if(E){var O=E;delete T.cells[C.index],E=null,O.width=C.width+L}else{var O=T.cells[C.index];if(!O)continue;if(F=O.colSpan,L=0,O.colSpan>1){E=O,L+=C.width;continue}O.width=C.width+L}}}function x(_,k){for(var N={count:0,height:0},T=0,E=_.allRows();T<E.length;T++){for(var L=E[T],F=0,z=_.columns;F<z.length;F++){var C=z[F],O=L.cells[C.index];if(O){k.applyStyles(O.styles,!0);var H=O.width-O.padding("horizontal");if(O.styles.overflow==="linebreak")O.text=k.splitTextToSize(O.text,H+1/k.scaleFactor(),{fontSize:O.styles.fontSize});else if(O.styles.overflow==="ellipsize")O.text=y(O.text,H,O.styles,k,"...");else if(O.styles.overflow==="hidden")O.text=y(O.text,H,O.styles,k,"");else if(typeof O.styles.overflow=="function"){var W=O.styles.overflow(O.text,H);typeof W=="string"?O.text=[W]:O.text=W}O.contentHeight=O.getContentHeight(k.scaleFactor(),k.getLineHeightFactor());var ie=O.contentHeight/O.rowSpan;O.rowSpan>1&&N.count*N.height<ie*O.rowSpan?N={height:ie,count:O.rowSpan}:N&&N.count>0&&N.height>ie&&(ie=N.height),ie>L.height&&(L.height=ie)}}N.count--}}function y(_,k,N,T,E){return _.map(function(L){return w(L,k,N,T,E)})}l.ellipsize=y;function w(_,k,N,T,E){var L=1e4*T.scaleFactor();if(k=Math.ceil(k*L)/L,k>=(0,u.getStringWidth)(_,N,T))return _;for(;k<(0,u.getStringWidth)(_+E,N,T)&&!(_.length<=1);)_=_.substring(0,_.length-1);return _.trim()+E}},964:function(a){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),u=s(664),h=s(972),p=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return p.Table}});var f=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var m=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return m.Row}});function v(k){(0,l.default)(k)}a.applyPlugin=v;function x(k,N){var T=(0,c.parseInput)(k,N),E=(0,h.createTable)(k,T);(0,u.drawTable)(k,E)}function y(k,N){var T=(0,c.parseInput)(k,N);return(0,h.createTable)(k,T)}a.__createTable=y;function w(k,N){(0,u.drawTable)(k,N)}a.__drawTable=w;try{var _=s(964);_.jsPDF&&(_=_.jsPDF),v(_)}catch{}a.default=x}(),o}()})})(sP);var O$=sP.exports;const T$=T2(O$);async function I$(t){const e=new Ve;e.setFontSize(18),e.text("Reporte Financiero",14,22),e.setFontSize(12),e.text(`Fecha: ${new Date().toLocaleDateString()}`,14,32),T$(e,{startY:40,head:[["Fecha","Tipo","Descripcin","Monto"]],body:t.transactions.map(n=>[new Date(n.date).toLocaleDateString(),n.type,n.description,n.amount.toFixed(2)])}),e.save("reporte-financiero.pdf")}async function R$(t){console.log("Excel export not implemented yet",t)}function M$(){const[t,e]=X.useState(!0),[n,r]=X.useState(null),[i,s]=X.useState(new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0]),[o,a]=X.useState(new Date().toISOString().split("T")[0]),[l,c]=X.useState({ingresos:0,gastos:0,facturasPendientes:0,monthlyData:{labels:[""],ingresos:[0],gastos:[0]},categoryData:[],monthlyComparison:{labels:[""],data:[0]},transactions:[]});X.useEffect(()=>{u()},[i,o]);const u=async()=>{try{e(!0),r(null);const v=iu.getInstance(),x=await v.getTransactionsWithOptions(),y=await v.getMonthlyStats(o.slice(0,7));c({ingresos:y.ingresos,gastos:y.gastos,facturasPendientes:0,monthlyData:{labels:["Ene","Feb","Mar","Abr","May","Jun"],ingresos:[0,0,0,0,0,y.ingresos],gastos:[0,0,0,0,0,y.gastos]},categoryData:y.categorias,monthlyComparison:{labels:["Ene","Feb","Mar","Abr","May","Jun"],data:[0,0,0,0,0,y.ingresos-y.gastos]},transactions:x})}catch(v){console.error("Error loading report data:",v),r("Error al cargar los datos del reporte")}finally{e(!1)}},h=(v,x)=>{s(v),a(x)},p=async v=>{try{v==="pdf"?await I$(l):await R$(l)}catch(x){console.error("Error exporting report:",x),r("Error al exportar el reporte")}},f=v=>{console.log("Edit transaction:",v)},m=v=>{console.log("View transaction:",v)};return t?P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(nu,{}),P.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:P.jsx("div",{className:"flex justify-center items-center h-64",children:P.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})})}),P.jsx(ru,{})]}):P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(nu,{}),P.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&P.jsx(ei,{type:"error",message:n}),P.jsx(lM,{onDateRangeChange:h,onExport:p,startDate:i,endDate:o}),P.jsx(cM,{ingresos:l.ingresos,gastos:l.gastos,facturasPendientes:l.facturasPendientes}),P.jsx(LB,{monthlyData:l.monthlyData,categoryData:l.categoryData,monthlyComparison:l.monthlyComparison}),P.jsx(jB,{transactions:l.transactions,onEdit:f,onView:m})]}),P.jsx(ru,{})]})}function oP({messages:t,loading:e,error:n}){return n?P.jsx(_5,{message:n}):P.jsxs("div",{className:"flex flex-col h-[500px] overflow-y-auto p-4 space-y-4",children:[t.map(r=>P.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:P.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${r.role==="user"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-900"}`,children:[P.jsx("div",{className:"font-medium text-sm mb-1",children:r.role==="user"?"Usuario:":"Asistente Financiero:"}),P.jsx("div",{className:"text-sm whitespace-pre-wrap",children:r.content}),P.jsx("div",{className:"text-xs opacity-75 mt-2",children:new Date(r.timestamp).toLocaleTimeString()})]})},r.id)),e&&P.jsx("div",{className:"flex justify-center",children:P.jsx(x5,{size:"sm"})})]})}function aP({onSend:t}){const[e,n]=X.useState(""),[r,i]=X.useState(!1),s=async o=>{if(o.preventDefault(),!(!e.trim()||r))try{i(!0),await t(e),n("")}catch(a){console.error("Error sending message:",a)}finally{i(!1)}};return P.jsxs("form",{onSubmit:s,className:"flex items-center gap-2 p-2",children:[P.jsx("input",{type:"text",value:e,onChange:o=>n(o.target.value),placeholder:"Escribe tu mensaje...",className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",disabled:r}),P.jsx("button",{type:"submit",disabled:!e.trim()||r,className:"inline-flex items-center justify-center p-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-50",children:P.jsx(GO,{className:"h-5 w-5"})})]})}const Ga=class Ga{constructor(){je(this,"aiProvider");this.aiProvider=zA.getProvider("gemini")}static getInstance(){return Ga.instance||(Ga.instance=new Ga),Ga.instance}getFinancialContext(){const e=sessionStorage.getItem("financialContext");if(!e)return"";const n=JSON.parse(e);return`
      Contexto financiero actual del usuario:
      - Ingresos totales: ${n.ingresos}
      - Gastos totales: ${n.gastos}
      - Balance: ${n.ingresos-n.gastos}
      - Principales categoras de gastos: ${n.categorias.map(r=>`${r.categoryId}: ${r.monto}`).join(", ")}
    `}async getMessages(){const e=(await It.auth.getUser()).data.user;if(!e)throw new Error("Usuario no autenticado");const{data:n,error:r}=await It.from("chat_messages").select("*").eq("user_id",e.id).order("timestamp",{ascending:!0});if(r)throw r;return n}async sendMessage(e){const n=(await It.auth.getUser()).data.user;if(!n)throw new Error("Usuario no autenticado");try{const{error:r}=await It.from("chat_messages").insert({user_id:n.id,role:"user",content:e}).select().single();if(r)throw r;const i=this.getFinancialContext(),s=await this.aiProvider.chat(e,i),{data:o,error:a}=await It.from("chat_messages").insert({user_id:n.id,role:"assistant",content:s}).select().single();if(a)throw a;return o}catch(r){throw console.error("Error sending message:",r),new Error("Error al enviar el mensaje")}}async subscribeToMessages(e){const n=(await It.auth.getUser()).data.user;if(!n)throw new Error("Usuario no autenticado");return It.channel("chat_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`user_id=eq.${n.id}`},r=>{e(r.new)}).subscribe()}};je(Ga,"instance");let nm=Ga;function lP(){const[t,e]=X.useState([]),[n,r]=X.useState(!1),[i,s]=X.useState(null);X.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0),s(null);const c=await nm.getInstance().getMessages();console.log("history",c),e(c)}catch(l){console.error("Error loading messages:",l),s("Error al cargar los mensajes")}finally{r(!1)}};return{messages:t,loading:n,error:i,sendMessage:async l=>{try{s(null);const u=await nm.getInstance().sendMessage(l);return e(h=>[...h,u]),u}catch(c){throw console.error("Error sending message:",c),s("Error al enviar el mensaje"),c}}}}function F$(){const{messages:t,loading:e,error:n,sendMessage:r}=lP();return P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(nu,{}),P.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:P.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[P.jsxs("div",{className:"p-6 border-b border-gray-200",children:[P.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Asistente Financiero"}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Consulta tus dudas sobre finanzas, impuestos y contabilidad"})]}),P.jsx(oP,{messages:t,loading:e,error:n}),P.jsx("div",{className:"border-t border-gray-200 p-4",children:P.jsx(aP,{onSend:r})})]})}),P.jsx(ru,{})]})}function D$(){const t=Qi();return P.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:P.jsxs("div",{className:"max-w-3xl",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas y Soporte"}),P.jsx("p",{className:"mt-2 text-gray-600",children:"Resuelve tus dudas con nuestro asistente en vivo."}),P.jsx("div",{className:"mt-4",children:P.jsx("button",{onClick:()=>t("/chat"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Iniciar Nueva Consulta"})})]})})}function B$(){const[t,e]=X.useState(!1),n=async r=>{console.log("file",r);try{e(!0)}finally{e(!1)}};return P.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 flex space-x-2",children:[P.jsxs("label",{className:"cursor-pointer",children:[P.jsx("input",{type:"file",className:"hidden",onChange:r=>{var i;return((i=r.target.files)==null?void 0:i[0])&&n(r.target.files[0])},disabled:t}),P.jsx(KO,{className:"h-5 w-5 text-gray-500 hover:text-gray-700"})]}),P.jsxs("label",{className:"cursor-pointer",children:[P.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:r=>{var i;return((i=r.target.files)==null?void 0:i[0])&&n(r.target.files[0])},disabled:t}),P.jsx(TO,{className:"h-5 w-5 text-gray-500 hover:text-gray-700"})]})]})}function $$(){const{messages:t,loading:e,error:n,sendMessage:r}=lP();return P.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[P.jsx("div",{className:"p-4 border-b border-gray-200",children:P.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Chat en Vivo"})}),P.jsx(oP,{messages:t,loading:e,error:n}),P.jsxs("div",{className:"border-t border-gray-200",children:[P.jsx(B$,{}),P.jsx("div",{className:"p-4",children:P.jsx(aP,{onSend:r})})]})]})}const z$=[{id:"scan-receipt",question:"Cmo escaneo un recibo?",answer:'Para escanear un recibo, ve a la pgina principal y haz clic en el botn "Escanear Documento". Puedes usar la cmara de tu dispositivo o subir una imagen existente.'},{id:"export-report",question:"Cmo exporto un reporte?",answer:'Ve a la seccin de Reportes, selecciona el rango de fechas deseado y haz clic en el botn "Exportar Reporte". Puedes elegir entre formato PDF o Excel.'},{id:"add-transaction",question:"Cmo agrego una transaccin manual?",answer:'En la pgina principal, haz clic en "Agregar Ingreso" o "Agregar Gasto". Completa los detalles requeridos y guarda la transaccin.'},{id:"categories",question:"Cmo funcionan las categoras?",answer:"Las categoras ayudan a organizar tus transacciones. Cada transaccin debe tener una categora principal y una subcategora para mejor organizacin y anlisis."},{id:"support",question:"Cmo obtengo ayuda adicional?",answer:"Puedes usar el chat en vivo para consultas inmediatas o enviar un mensaje al equipo de soporte a travs del formulario de contacto."}];function U$(){return P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Respuestas Rpidas"}),P.jsx("div",{className:"space-y-4",children:z$.map(t=>P.jsxs("details",{className:"group",children:[P.jsx("summary",{className:"list-none cursor-pointer",children:P.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 hover:bg-gray-100",children:[P.jsx("span",{className:"font-medium text-gray-900",children:t.question}),P.jsx("span",{className:"text-blue-600 group-open:rotate-180 transition-transform",children:""})]})}),P.jsx("div",{className:"mt-2 px-4 text-gray-600",children:t.answer})]},t.id))})]})}function H$(){return P.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Enlaces tiles"}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs(Lr,{to:"/faq",className:"flex items-center p-3 rounded-lg hover:bg-gray-50",children:[P.jsx(ZO,{className:"h-6 w-6 text-blue-600 mr-3"}),P.jsxs("div",{children:[P.jsx("h4",{className:"font-medium text-gray-900",children:"Preguntas Frecuentes"}),P.jsx("p",{className:"text-sm text-gray-500",children:"Encuentra respuestas rpidas"})]})]}),P.jsxs(Lr,{to:"/docs",className:"flex items-center p-3 rounded-lg hover:bg-gray-50",children:[P.jsx(HO,{className:"h-6 w-6 text-blue-600 mr-3"}),P.jsxs("div",{children:[P.jsx("h4",{className:"font-medium text-gray-900",children:"Documentacin"}),P.jsx("p",{className:"text-sm text-gray-500",children:"Guas y tutoriales"})]})]})]}),P.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:P.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Estamos aqu para ayudarte.",P.jsx("br",{}),"Respuesta inmediata las 24/7."]})})]})}function W$(){return P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(nu,{}),P.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[P.jsx(D$,{}),P.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[P.jsx("div",{className:"lg:col-span-2",children:P.jsx($$,{})}),P.jsxs("div",{className:"space-y-8",children:[P.jsx(U$,{}),P.jsx(H$,{})]})]})]}),P.jsx(ru,{})]})}function q$({children:t}){return P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(nu,{}),P.jsx("main",{children:t}),P.jsx(ru,{})]})}function V$(){const{userData:t,updateUserProfile:e}=gu(),[n,r]=X.useState(!1),[i,s]=X.useState(""),[o,a]=X.useState(""),[l,c]=X.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),u=async h=>{h.preventDefault(),r(!0),a(""),s("");try{await e(l),s("Perfil actualizado correctamente")}catch{a("Error al actualizar el perfil")}finally{r(!1)}};return P.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o&&P.jsx(ei,{type:"error",message:o}),i&&P.jsx(ei,{type:"success",message:i}),P.jsx(ks,{label:"Nombre",value:l.name,onChange:h=>c({...l,name:h}),required:!0}),P.jsx(ks,{label:"Correo Electrnico",type:"email",value:l.email,onChange:h=>c({...l,email:h}),required:!0}),P.jsx(ks,{label:"Telfono",type:"text",value:l.phone,onChange:h=>c({...l,phone:h})}),P.jsx("div",{className:"flex justify-end",children:P.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50",children:n?"Guardando...":"Guardar Cambios"})})]})}function G$(){const[t,e]=X.useState(!1),[n,r]=X.useState(""),[i,s]=X.useState(""),[o,a]=X.useState({currentPassword:"",newPassword:"",confirmPassword:""}),l=async c=>{if(c.preventDefault(),o.newPassword!==o.confirmPassword){s("Las contraseas no coinciden");return}e(!0),s(""),r("");try{r("Contrasea actualizada correctamente"),a({currentPassword:"",newPassword:"",confirmPassword:""})}catch{s("Error al actualizar la contrasea")}finally{e(!1)}};return P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cambiar Contrasea"}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Asegrate de usar una contrasea segura y nica"})]}),P.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i&&P.jsx(ei,{type:"error",message:i}),n&&P.jsx(ei,{type:"success",message:n}),P.jsx(ks,{label:"Contrasea Actual",type:"password",value:o.currentPassword,onChange:c=>a({...o,currentPassword:c}),required:!0}),P.jsx(ks,{label:"Nueva Contrasea",type:"password",value:o.newPassword,onChange:c=>a({...o,newPassword:c}),required:!0}),P.jsx(ks,{label:"Confirmar Nueva Contrasea",type:"password",value:o.confirmPassword,onChange:c=>a({...o,confirmPassword:c}),required:!0}),P.jsx("div",{className:"flex justify-end",children:P.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50",children:t?"Actualizando...":"Actualizar Contrasea"})})]})]})}function Y$(){const[t,e]=X.useState([{id:"email",title:"Notificaciones por Email",description:"Recibe actualizaciones importantes en tu correo",enabled:!0},{id:"push",title:"Notificaciones Push",description:"Recibe alertas en tiempo real en tu navegador",enabled:!1},{id:"reports",title:"Reportes Semanales",description:"Recibe un resumen semanal de tus finanzas",enabled:!0}]),n=r=>{e(t.map(i=>i.id===r?{...i,enabled:!i.enabled}:i))};return P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notificaciones"}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Personaliza cmo y cundo quieres recibir notificaciones"})]}),P.jsx("div",{className:"space-y-4",children:t.map(r=>P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("h4",{className:"text-sm font-medium text-gray-900",children:r.title}),P.jsx("p",{className:"text-sm text-gray-500",children:r.description})]}),P.jsxs(oO,{checked:r.enabled,onChange:()=>n(r.id),className:`${r.enabled?"bg-emerald-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full`,children:[P.jsxs("span",{className:"sr-only",children:["Activar ",r.title]}),P.jsx("span",{className:`${r.enabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})]})]},r.id))})]})}function K$(){const{country:t,setCountry:e}=Al(),[,n]=X.useState(!1),[r,i]=X.useState(""),[s,o]=X.useState(""),a=async l=>{n(!0),o(""),i("");try{const c=kd.find(u=>u.code===l);c&&(await e(c),i("Preferencias actualizadas correctamente"))}catch{o("Error al actualizar las preferencias")}finally{n(!1)}};return P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Preferencias"}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Personaliza tu experiencia en la aplicacin"})]}),s&&P.jsx(ei,{type:"error",message:s}),r&&P.jsx(ei,{type:"success",message:r}),P.jsxs("div",{className:"space-y-4",children:[P.jsx($g,{label:"Pas",value:(t==null?void 0:t.code)||"",onChange:a,options:kd.map(l=>({value:l.code,label:`${l.name} (${l.currency.code})`}))}),P.jsx($g,{label:"Idioma",value:"es",onChange:()=>{},options:[{value:"es",label:"Espaol"},{value:"en",label:"English"}]})]})]})}const vS=[{name:"Perfil",component:V$},{name:"Seguridad",component:G$},{name:"Notificaciones",component:Y$},{name:"Preferencias",component:K$}];function J$(){const[t,e]=X.useState(0);return P.jsxs(lh.Group,{selectedIndex:t,onChange:e,children:[P.jsx(lh.List,{className:"flex space-x-1 rounded-xl bg-gray-100 p-1",children:vS.map(n=>P.jsx(lh,{className:({selected:r})=>`w-full rounded-lg py-2.5 text-sm font-medium leading-5
              ${r?"bg-white text-emerald-600 shadow":"text-gray-600 hover:bg-white/[0.12] hover:text-gray-800"}`,children:n.name},n.name))}),P.jsx(lh.Panels,{className:"mt-6",children:vS.map((n,r)=>P.jsx(lh.Panel,{className:"rounded-xl bg-white p-6 shadow-sm",children:P.jsx(n.component,{})},r))})]})}function X$(){return P.jsx(q$,{children:P.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[P.jsxs("div",{className:"mb-8",children:[P.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuracin"}),P.jsx("p",{className:"mt-2 text-gray-600",children:"Administra tu cuenta y preferencias"})]}),P.jsx(J$,{})]})})}function pc({children:t}){const{currentUser:e,loading:n}=gu();return n?P.jsx("div",{className:"min-h-screen flex items-center justify-center",children:P.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?P.jsx(P.Fragment,{children:t}):P.jsx(cL,{to:"/login"})}function Q$(){const[t,e]=X.useState(""),[n,r]=X.useState(""),[i,s]=X.useState(!1),{resetPassword:o}=gu(),a=Qi(),l=async c=>{c.preventDefault(),r(""),s(!0);try{await o(t),a("/login",{state:{mode:"reset-password"}})}catch(u){r(u instanceof Error?u.message:"Error al restablecer la contrasea")}finally{s(!1)}};return P.jsxs("div",{className:"min-h-screen bg-gray-100",children:[P.jsx(hk,{}),P.jsx("main",{className:"flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:P.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[P.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Olvidaste tu contrasea?"}),n&&P.jsx(ei,{type:"error",message:n}),P.jsxs("form",{onSubmit:l,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),P.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",required:!0,disabled:i,placeholder:"correo@ejemplo.com"})]}),P.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2 px-4 rounded-md hover:bg-emerald-700 disabled:opacity-50",disabled:i,children:i?"Procesando...":"Enviar"})]})]})})]})}function Z$(){return P.jsxs(hL,{children:[P.jsx(gs,{path:"/",element:P.jsx(Hj,{})}),P.jsx(gs,{path:"/login",element:P.jsx(Wj,{})}),P.jsx(gs,{path:"/select-country",element:P.jsx(pc,{children:P.jsx(qj,{})})}),P.jsx(gs,{path:"/home",element:P.jsx(pc,{children:P.jsx(aM,{})})}),P.jsx(gs,{path:"/reports",element:P.jsx(pc,{children:P.jsx(M$,{})})}),P.jsx(gs,{path:"/chat",element:P.jsx(pc,{children:P.jsx(F$,{})})}),P.jsx(gs,{path:"/support",element:P.jsx(pc,{children:P.jsx(W$,{})})}),P.jsx(gs,{path:"/settings",element:P.jsx(pc,{children:P.jsx(X$,{})})}),P.jsx(gs,{path:"/forgot-password",element:P.jsx(Q$,{})})]})}function ez(){return X.useEffect(()=>{(async()=>{try{const{data:e,error:n}=await It.auth.getSession();console.log("App mounted: getting session"),n?console.error("Error getting session:",n):console.log("User session:",e)}catch(e){console.error("Unexpected error:",e)}finally{console.log("App mounted")}})()},[]),P.jsx(jj,{children:P.jsx(Oj,{children:P.jsx(yL,{children:P.jsx(Z$,{})})})})}$1.createRoot(document.getElementById("root")).render(P.jsx(Wt.StrictMode,{children:P.jsx(ez,{})}));export{Ct as _,ur as c,T2 as g};
//# sourceMappingURL=index-Dkz3eV_p.js.map
